{"version":3,"sources":["assets/js/index.js"],"names":["examCodes","students","done","stopEnter","canCount","canChangeCircle","key","initKey","timer","originalOrder","onSignIn","googleUser","document","URL","indexOf","window","location","profile","getBasicProfile","sessionStorage","setItem","JSON","stringify","getId","getName","getImageUrl","getEmail","href","substring","signOut","gapi","auth2","getAuthInstance","then","removeItem","submitFeedbackForm","text","getElementById","value","teacher","getItem","className","examCode","firebase","database","ref","push","swal","finalString","i","arr","sort","Math","random","j","length","replace","removeAllActive","getElementsByTagName","removeDropDown","x","matches","style","display","getElementsByClassName","leaverCount","onfullscreenchange","event","timerInterval","fullscreenElement","Swal","fire","title","html","confirmButtonText","cancelButtonText","showCancelButton","showConfirmButton","allowEscapeKey","allowEnterKey","onBeforeOpen","setInterval","getContent","querySelector","textContent","getTimerLeft","onClose","clearInterval","result","endTest","toggleFullScreen","dismiss","DismissReason","on","snapshot","forEach","childSnapshot","code","CryptoJS","AES","encrypt","val","onload","$","isNaN","parseInt","parentNode","id","setTimeout","innerHTML","reload","today","Date","getSeconds","getHours","getMinutes","scroll","elem","docViewTop","scrollTop","docViewBottom","height","elemTop","offset","top","isInView","bottom","transition","childNodes","appendChild","color","right","undefined","onclick","matchMedia","body","background","populateLeaderboard","searchLeaderboard","input","tr","border","scrollIntoView","behavior","getStudent","low","mid","high","mergeSort","floor","split","middle","left","slice","merge","indexLeft","indexRight","concat","submitExamCode","toUpperCase","data","findCode","test","getCodeLetter","once","exam","Exams","console","log","retrieveName","taken","decryptedBytes","decrypt","plaintext","toString","enc","Utf8","exists","displayQuiz","overflow","populateExam","onblur","examTotalMins","examDate","examTeacher","dateJS","getMonth","getDate","getFullYear","examDescription","examTitle","examTotalPoints","empty","Object","keys","questions","localQuestions","question","createQuestion","choices","createQuestionTracker","points","imgSrc","src","icon","imgShortDescription","changeQuestionType","type","multiple","changeNames","span","createElement","fontSize","paddingLeft","numBoxes","createMatchingElement","localBoxes","k","questionsArr","shuffle","Array","prototype","call","remove","m","restructureQuestions","name","array","currentIndex","temporaryValue","randomIndex","createFreeResponse","createTrueFalse","createMatching","label","true_input","outline","false_input","marginLeft","true_span","fontWeight","false_span","ta","oninput","placeholder","matchingWrapper","matching","hr","width","results","numElements","borderRadius","padding","onkeyup","alert","textAlign","position","zIndex","role","newBox","saveExam","div","box","labelTrash","marginRight","click","restructureBoxes","hover","cursor","num","marginTop","arrow","result_input","loading","numAnswerChoices","dataset","original","br","question_title","readOnly","viewImage","numPoints","finishingSpan","answer_choices","answer_choice","onmouseup","checked","button","getBoundingClientRect","scrollY","populating","manager","finalDiv","tracker","navigator","userAgent","toLowerCase","vendor","block","center","clientHeight","exitFullscreen","addEventListener","preventDefault","documentElement","requestFullscreen","getChecked","bubbleSort","temp","submitExam","student_answers","sortedArray","displayResults","answers","dbAnswers","parse","toJSON","total","frTotalPoints","answer","fr","tf","createCorrectBox","createIncorrectBox","createFrBox","s","createPartialBox","studentExamData","toFixed","min","score","dataDiv","float","pointsAwarded","paddingRight","totalPoints","addListener","e","keyCode"],"mappings":";AAAA,IAAIA,EAAY,GAAIC,EAAW,GAAIC,EAAO,GACtCC,GAAY,EAAOC,GAAW,EAAOC,GAAkB,EACvDC,EAAMC,IAAeC,EAAQ,EAAOC,EAAgB,GAiGxD,SAASC,EAASC,GACbC,IAA8B,GAA9BA,SAASC,IAAIC,QAAQ,KAAW,CACjCC,OAAOC,SAAW,eAEdC,IAAAA,EAAUN,EAAWO,kBACzBC,eAAeC,QAAQ,WAAYC,KAAKC,UAAU,CAACL,EAAQM,QAASN,EAAQO,UAAWP,EAAQQ,cAAeR,EAAQS,mBAGtHX,OAAOC,SAASW,KAAOf,SAASC,IAAIe,UAAU,EAAGhB,SAASC,IAAIC,QAAQ,MACtEK,eAAeC,QAAQ,WAAY,IACnCS,IAKJ,SAASA,IACKC,KAAKC,MAAMC,kBACjBH,UAAUI,KAAK,WACnBd,eAAee,WAAW,cA6F9B,SAASC,IACHC,IAAAA,EAAOxB,SAASyB,eAAe,aAAaC,MAE5CC,EAAUpB,eAAeqB,QAAQ,WACjCC,EAAYtB,eAAeqB,QAAQ,aACnCE,EAAWvB,eAAeqB,QAAQ,YAEtCG,SAASC,WAAWC,IAAI,YAAcN,EAAU,YAAcE,EAAY,UAAYC,EAAW,aAAaI,KAAKV,GAEnHW,KAAK,UAAW,mCAAoC,WACpDnC,SAASyB,eAAe,aAAaC,MAAQ,GAI/C,SAAS/B,IACHyC,IAAAA,EACAC,EAAGC,EAAM,GACRD,IAAAA,EAAI,EAAGA,EAAI,GAAIA,IAChBC,EAAID,GAAKA,EAAI,EAEjBC,EAAIC,KAAK,WACEC,OAAAA,KAAKC,SAAW,MAGvB,IAAA,IAAIC,EAAI,EAAGA,EAAIJ,EAAIK,OAAQD,IAC7BN,EAAcE,EAAII,GAAKN,EAAc,GAEhCA,OAAAA,EAAYQ,QAAQ,MAAO,IAIpC,SAASC,IACP7C,SAAS8C,qBAAqB,MAAM,GAAGjB,UAAY,GACnD7B,SAAS8C,qBAAqB,MAAM,GAAGjB,UAAY,GACnD7B,SAAS8C,qBAAqB,MAAM,GAAGjB,UAAY,GAarD,SAASkB,EAAeC,GACnBA,GAAAA,EAAEC,QAAS,CACbjD,SAASyB,eAAe,YAAYyB,MAAMC,QAAU,OAEhD,IAAA,IAAId,EAAI,EAAGA,EAAIrC,SAASoD,uBAAuB,QAAQT,OAAQN,IACjErC,SAASoD,uBAAuB,QAAQf,GAAGa,MAAMC,QAAU,cAG1D,CACHnD,SAASyB,eAAe,YAAYyB,MAAMC,QAAU,UAChD,IAAId,EAAI,EAAGA,EAAIrC,SAASoD,uBAAuB,QAAQT,OAAQN,IACjErC,SAASoD,uBAAuB,QAAQf,GAAGa,MAAMC,QAAU,SAxQhE,WAEQE,IAAAA,EAAc,EAGlBrD,SAASsD,mBAAqB,SAAWC,GAEjCC,IAAAA,EAD2B,MAA9BxD,SAASyD,oBAEPJ,GAAe,EACdK,KAAKC,KAAK,CACRC,MAAO,kCACPC,KAAM,4JACNC,kBAAmB,eACnBC,iBAAkB,eAClBC,kBAAkB,EAClBC,mBAAmB,EACnBC,gBAAgB,EAChBC,eAAe,EACfvE,MAAO,IACPwE,aAAc,WACZZ,EAAgBa,YAAY,WAC1BX,KAAKY,aAAaC,cAAc,UAAUC,YAAcd,KAAKe,eAAiB,KAC7E,KACHf,KAAKY,aAAaC,cAAc,QAAQC,YAAc,EAAInB,GAE5DqB,QAAS,WACPC,cAAcnB,MAEbnC,KAAK,SAACuD,GACFA,EAAOlD,MAKJkD,EAAOlD,OACbmD,KALAC,IAEAzB,KAKEuB,EAAOG,UAAYrB,KAAKsB,cAAcpF,OACxCiF,MAKNA,MA3CZ,GA+EA9C,SAASC,WAAWC,IAAI,cAAcgD,GAAG,QAAS,SAASC,GACzDA,EAASC,QAAQ,SAASC,GACpBC,IAAAA,EAAOC,SAASC,IAAIC,QAAQJ,EAAcK,MAAO/F,GACrDN,EAAU8C,KAAKmD,OAKnBtD,SAASC,WAAWC,IAAI,YAAYgD,GAAG,QAAS,SAASC,GACvDA,EAASC,QAAQ,SAASC,GAExB/F,EAAS6C,KAAKkD,EAAcK,WA4BhCtF,OAAOuF,OAAS,WACdC,EAAE,gBAAgBV,GAAG,SAAU,cAAe,WACxCW,MAAMC,SAAS,KAAKC,WAAWA,WAAWA,WAAWC,IAAM,GAI7DzG,EAAKuG,SAAS,KAAKC,WAAWA,WAAWC,IAAM,GAAK,EAHpDzG,EAAKuG,SAAS,KAAKC,WAAWA,WAAWA,WAAWC,IAAM,GAAK,GAM1C,GAApBzG,EAAKY,QAAQ,KACdF,SAASyB,eAAe,eAAeyB,MAAMC,QAAU,UACvDnD,SAASyB,eAAe,wBAAwByB,MAAMC,QAAU,UAIpE6C,WAAW,WAAYhG,SAASyB,eAAe,kBAAkBwE,UAAY1F,eAAeqB,QAAQ,aAAe,YAAgB,MAEnIyC,YAAY,WACP7E,IACEI,GAAUW,eAAeqB,QAAQ,aAAe,GACjDO,KAAK,gBAAiB,mCAAoC,QAEzDvC,GAASW,eAAeqB,QAAQ,cACjChC,IACAI,SAASyB,eAAe,kBAAkBwE,UAAY1F,eAAeqB,QAAQ,aAAehC,EAAQ,YAGpGO,OAAOC,SAAS8F,WAGnB,KAEH7B,YAAY,WACN8B,IAAAA,EAAQ,IAAIC,KACbD,EAAME,aAAe,GACtBrG,SAASyB,eAAe,YAAYwE,WAAaE,EAAMG,WAAa,IAAM,IAAM,IAAMH,EAAMI,aAAe,KAAOJ,EAAME,aAGxHrG,SAASyB,eAAe,YAAYwE,WAAaE,EAAMG,WAAa,IAAM,IAAM,IAAMH,EAAMI,aAAe,IAAMJ,EAAME,cAGxH,KAEHV,EAAExF,QAAQqG,OAAO,WACX,IAAA,IAAInE,EAAI,EAAGA,GAAKrC,SAASoD,uBAAuB,YAAYT,OAAQN,IAAK,CACvEoE,IAAAA,EAAOzG,SAASyB,eAAeY,GAC/BqE,EAAaf,EAAExF,QAAQwG,YACvBC,EAAgBF,EAAaf,EAAExF,QAAQ0G,SAEvCC,EAAUnB,EAAEc,GAAMM,SAASC,IAK3BC,GAJaH,EAAUnB,EAAEc,GAAMI,UAEJD,GAAmBE,GAAWJ,EAEhD,CACX1G,SAASoD,uBAAuBf,GAAG,GAAGa,MAAMgE,OAAS,OACrDlH,SAASoD,uBAAuBf,GAAG,GAAGa,MAAMiE,WAAa,UAErD3F,IAAAA,EAAOxB,SAASoD,uBAAuBf,GAAG,GAAG+E,WAAW,GAC5DpH,SAASoD,uBAAuBf,GAAG,GAAG4D,UAAY,WAClDjG,SAASoD,uBAAuBf,GAAG,GAAGgF,YAAY7F,GAClDxB,SAASoD,uBAAuBf,GAAG,GAAG+E,WAAW,GAAGlE,MAAMoE,MAAQ,QAClEtH,SAASoD,uBAAuBf,GAAG,GAAG+E,WAAW,GAAGlE,MAAMqE,MAAQ,SAElEvB,WAAW,WACmCwB,MAAzCxH,SAASoD,uBAAuBf,GAAG,KACpCrC,SAASoD,uBAAuBf,GAAG,GAAGa,MAAMgE,OAAS,OACrDlH,SAASoD,uBAAuBf,GAAG,GAAGa,MAAMiE,WAAa,YAE1D,UAIA1H,GAAAA,EAAiB,CAClBO,SAASoD,uBAAuBf,GAAG,GAAGa,MAAMgE,OAAS,OACrDlH,SAASoD,uBAAuBf,GAAG,GAAGa,MAAMiE,WAAa,UAErD3F,EAAOxB,SAASoD,uBAAuBf,GAAG,GAAG+E,WAAW,GAC5DpH,SAASoD,uBAAuBf,GAAG,GAAG4D,UAAY,WAClDjG,SAASoD,uBAAuBf,GAAG,GAAGgF,YAAY7F,GAClDxB,SAASoD,uBAAuBf,GAAG,GAAG+E,WAAW,GAAGlE,MAAMoE,MAAQ,QAClEtH,SAASoD,uBAAuBf,GAAG,GAAG+E,WAAW,GAAGlE,MAAMqE,MAAQ,cA4C5EvH,SAASyB,eAAe,cAAcgG,QAAU,WACU,WAArDzH,SAASyB,eAAe,YAAYyB,MAAMC,QAC3CnD,SAASyB,eAAe,YAAYyB,MAAMC,QAAU,OAGpDnD,SAASyB,eAAe,YAAYyB,MAAMC,QAAU,WAqBxD,IAAIH,EAAI7C,OAAOuH,WAAW,sBAM1B,SAASvE,EAAQS,GACH,6BAATA,GACD5D,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,OAChDnD,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,UAChDnD,SAASyB,eAAe,eAAeyB,MAAMC,QAAU,QAExC,wBAATS,GACN5D,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,UAChDnD,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,OAChDnD,SAASyB,eAAe,eAAeyB,MAAMC,QAAU,OACvDnD,SAAS2H,KAAKzE,MAAM0E,WAAa,WAElB,+BAAThE,IACN5D,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,OAChDnD,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,OAChDnD,SAASyB,eAAe,eAAeyB,MAAMC,QAAU,UACvDnD,SAAS2H,KAAKzE,MAAM0E,WAAa,QACjCC,uBAEF7H,SAASyB,eAAe,YAAYyB,MAAMC,QAAU,OAItD,SAAS2E,IACHC,IAAAA,EAAmBC,EAAO3F,EAKzBA,IAHL0F,EAAQ/H,SAASyB,eAAe,aAChCuG,EAAKhI,SAASyB,eAAe,eAAe2B,uBAAuB,QAE9Df,EAAI,EAAGA,EAAI2F,EAAGrF,OAAQN,IACtB2F,EAAG3F,GAAG4D,WAAa8B,EAAMrG,QAC1BsG,EAAG3F,GAAGa,MAAM+E,OAAS,kBACrBD,EAAG3F,GAAG6F,eAAe,CAACC,SAAU,YAKtC,SAASC,EAAWrC,GAIXsC,IADHA,IAAsCC,EAAtCD,EAAO,EAAIE,GAFflJ,EAAWmJ,EAAUnJ,IAEUsD,OAAQ,EAChC0F,GAAOE,GAAK,CAEZlJ,GADHiJ,EAAM9F,KAAKiG,OAAOJ,EAAIE,GAAM,GACzBlJ,EAASiJ,GAAKI,MAAM,KAAK,IAAI3C,EAAI,OAAO1G,EAASiJ,GAC3CjJ,EAASiJ,GAAKI,MAAM,KAAK,GAAG3C,EAAIsC,EAAMC,EAAI,EAC9CC,EAAOD,EAAI,EAEb,OAAC,EAIV,SAASE,EAAWlG,GACdA,GAAe,IAAfA,EAAIK,OAECL,OAAAA,EAGHqG,IAAAA,EAASnG,KAAKiG,MAAMnG,EAAIK,OAAS,GACjCiG,EAAOtG,EAAIuG,MAAM,EAAGF,GACpBpB,EAAQjF,EAAIuG,MAAMF,GAEjBG,OAAAA,EACLN,EAAUI,GACVJ,EAAUjB,IAKd,SAASuB,EAAOF,EAAMrB,GAKbwB,IAJHnE,IAAAA,EAAS,GACTmE,EAAY,EACZC,EAAa,EAEVD,EAAYH,EAAKjG,QAAUqG,EAAazB,EAAM5E,QAC/CiG,EAAKG,GAAWL,MAAM,KAAK,GAAKnB,EAAMyB,GAAYN,MAAM,KAAK,IAC/D9D,EAAO1C,KAAK0G,EAAKG,IACjBA,MAEAnE,EAAO1C,KAAKqF,EAAMyB,IAClBA,KAIGpE,OAAAA,EAAOqE,OAAOL,EAAKC,MAAME,IAAYE,OAAO1B,EAAMsB,MAAMG,IAIjE,SAASE,IACH7D,IAAAA,EAAOrF,SAASyB,eAAe,iBAAiBC,MAAMyH,cACtDC,EAAOC,EAAShE,GAEF,GAAfA,EAAK1C,QAAiB,wCAAwC2G,KAAKjE,KACpErF,SAASyB,eAAe,aAAawE,UAAY,GACtC,MAARmD,EACDjH,KAAK,qBAAsB,sEAAuE,SAG5FiH,EAAKV,MAAM,KAAK,IAAMrD,IAC5B9E,eAAeC,QAAQ,UAAW4I,EAAKV,MAAM,KAAK,IAClD1I,SAASyB,eAAe,aAAawE,UAAYmD,EAAKV,MAAM,KAAK,GAAK,MAAQU,EAAKV,MAAM,KAAK,GAC9F1I,SAASyB,eAAe,YAAYyB,MAAMC,QAAU,UAEpDoG,EAAclE,EAAM+D,EAAKV,MAAM,KAAK,GAAIU,EAAKV,MAAM,KAAK,IACxDnJ,GAAY,IAKlB,SAASgK,EAAclE,EAAM1D,EAASE,GACpCE,SAASC,WAAWC,IAAI,YAAcN,EAAU,YAAcE,GAAW2H,KAAK,QAAS,SAAStE,GAC1FuE,IAAAA,QAAQvE,EAASO,MAAMiE,MACzBC,QAAQC,IAAIH,MACTA,KAAKzI,UAAU,IAAMqE,GACtB9E,eAAeC,QAAQ,WAAYiJ,QAM3C,SAASI,IACHC,IAAAA,GAAQ,EACR/D,EAAK/F,SAASoD,uBAAuB,MAAM,GAAG1B,MAE/CqE,GAAa,GAAbA,EAAGpD,OAAY,CAEZ,IADAN,IAAAA,EAAI,EACAW,EAAI,EAAGA,EAAI5D,EAAUuD,OAAQK,IAAI,CACnC+G,IAAAA,EAAiBzE,SAASC,IAAIyE,QAAQ5K,EAAU4D,GAAItD,GAGrDuK,IAFCA,EAAYF,EAAeG,SAAS5E,SAAS6E,IAAIC,OAExC1B,MAAM,KAAK,IAAMnI,eAAeqB,QAAQ,YAAYZ,UAAU,GAAG,CAC5EqB,EAAIW,EACJ,OAIUsC,SAASC,IAAIyE,QAAQ5K,EAAUiD,GAAI3C,GAA7CiC,IACAsI,EAAYF,EAAeG,SAAS5E,SAAS6E,IAAIC,MAErDpK,SAASyB,eAAe,YAAYwE,UAAY,GAEhDlE,SAASC,WAAWC,IAAI,YAAcgI,EAAUvB,MAAM,KAAK,GAAK,YAAcuB,EAAUvB,MAAM,KAAK,GAAK,UAAYnI,eAAeqB,QAAQ,YAAc,UAAU4H,KAAK,QAAS,SAAStE,GACxLA,EAASC,QAAQ,SAASC,GACrBA,EAAcK,OAASM,IACxB+D,GAAQ,MAGRA,GAASA,GACX9J,SAASyB,eAAe,YAAYyB,MAAMoE,MAAQ,QAClD/G,eAAeC,QAAQ,QAASuF,GAChChE,SAASC,WAAWC,IAAI,YAAcgI,EAAUvB,MAAM,KAAK,GAAK,YAAcuB,EAAUvB,MAAM,KAAK,GAAK,aAAac,KAAK,QAAS,SAAStE,GAC1IA,EAASC,QAAQ,SAASC,GACrBA,EAAcK,MAAMiD,MAAM,KAAK,IAAM3C,IACtC/F,SAASyB,eAAe,YAAYwE,UAAYb,EAAcK,MAAMiD,MAAM,KAAK,GAC/E1I,SAASyB,eAAe,WAAWyB,MAAMC,QAAU,UACnDnD,SAASyB,eAAe,eAAeyB,MAAMgE,OAAS,aAKR,IAAjDlH,SAASyB,eAAe,YAAYwE,YACrCjG,SAASyB,eAAe,YAAYwE,UAAY,gBAKlDjG,SAASyB,eAAe,YAAYwE,UAAY,oCAChDjG,SAASyB,eAAe,YAAYyB,MAAMoE,MAAQ,UAO1D,SAAS+B,EAAShE,GAIZ,IAHAgF,IAGIrH,EAAI,EAAGA,EAAI5D,EAAUuD,OAAQK,IAAI,CACnC+G,IACAE,EADiB3E,SAASC,IAAIyE,QAAQ5K,EAAU4D,GAAItD,GACzBwK,SAAS5E,SAAS6E,IAAIC,MAElDH,GAAAA,EAAUvB,MAAM,KAAK,IAAMrD,EACrB4E,OAAAA,EAIJ,OAAA,KAIT,SAASK,IACHjF,IAAAA,EAAO9E,eAAeqB,QAAQ,YAC9BD,EAAUpB,eAAeqB,QAAQ,WAErCrB,eAAeC,QAAQ,cAAeR,SAASyB,eAAe,YAAYwE,WAGtE,IAFA5D,IAAAA,EAAI,EAEAW,EAAI,EAAGA,EAAI5D,EAAUuD,OAAQK,IAAI,CACnC+G,IAAAA,EAAiBzE,SAASC,IAAIyE,QAAQ5K,EAAU4D,GAAItD,GAErDuK,IADCA,EAAYF,EAAeG,SAAS5E,SAAS6E,IAAIC,OACxC1B,MAAM,KAAK,IAAMrD,EAAKrE,UAAU,IAAMiJ,EAAUvB,MAAM,KAAK,IAAM/G,EAAQ,CACpFU,EAAIW,EACJ,OAIArB,EAAU2D,SAASC,IAAIyE,QAAQ5K,EAAUiD,GAAI3C,GAA7CiC,IACAsI,EAAYF,EAAeG,SAAS5E,SAAS6E,IAAIC,MAErD7J,eAAeC,QAAQ,YAAayJ,EAAUvB,MAAM,KAAK,IAEzD1I,SAASyB,eAAe,QAAQyB,MAAMC,QAAU,OAChDnD,SAASyB,eAAe,cAAcyB,MAAMC,QAAU,OACtDnD,SAASyB,eAAe,gBAAgByB,MAAMC,QAAU,UAExDnD,SAAS2H,KAAKzE,MAAM0E,WAAa,QACjC5H,SAAS2H,KAAKzE,MAAMqH,SAAW,SAC/BC,EAAanF,EAAMtD,SAASC,WAAWC,IAAI,YAAcgI,EAAUvB,MAAM,KAAK,GAAK,YAAcuB,EAAUvB,MAAM,KAAK,GAAK,UAAYrD,IAKvIlF,OAAOsK,OAAS,WACd3F,KAGFtF,GAAW,EAEXuC,SAASC,WAAWC,IAAI,YAAc1B,eAAeqB,QAAQ,WAAa,YAAcrB,eAAeqB,QAAQ,aAAe,UAAYrB,eAAeqB,QAAQ,aAAa4H,KAAK,SAASnI,KAAK,SAAS6D,GACxMA,EAASC,QAAQ,SAASC,GACWoC,MAAhCpC,EAAcK,MAAM3D,UACrBvB,eAAeC,QAAQ,YAAa4E,EAAcK,MAAMiF,mBAK9D3I,SAASC,WAAWC,IAAI,YAAc1B,eAAeqB,QAAQ,WAAa,YAAcrB,eAAeqB,QAAQ,aAAe,UAAYrB,eAAeqB,QAAQ,YAAc,UAAUM,KAAK3B,eAAeqB,QAAQ,UAIvN,SAAS4I,EAAanF,EAAMpD,GAC1BF,SAASC,WAAWC,IAAIA,GAAKuH,KAAK,SAASnI,KAAK,SAAS6D,GACvDA,EAASC,QAAQ,SAASC,GACpBK,IAAAA,EAAML,EAAcK,MAErBA,GAAgB+B,MAAhB/B,EAAI3D,SAAsB,CAKxB2D,GAFHzF,SAASyB,eAAe,aAAawE,UAAYR,EAAI3D,SAAW,MAAQvB,eAAeqB,QAAQ,eAE9D,MAA9B6D,EAAIkF,SAASjC,MAAM,KAAK,GACzB1I,SAASyB,eAAe,QAAQwE,UAAYR,EAAImF,YAAc,MAAQnF,EAAIkF,SAASjC,MAAM,KAAK,GAAK,IAAMjD,EAAIkF,SAASjC,MAAM,KAAK,GAAK,IAAMjD,EAAIkF,SAASjC,MAAM,KAAK,OAEjK,CACCmC,IAAAA,EAAS,IAAIzE,KACjBpG,SAASyB,eAAe,QAAQwE,UAAYR,EAAImF,YAAc,OAASC,EAAOC,WAAW,GAAG,IAAID,EAAOE,UAAU,IAAIF,EAAOG,cAG9HhL,SAASyB,eAAe,eAAeC,MAAQ+D,EAAIwF,gBAE/CrH,IAAAA,EAAQ6B,EAAIyF,UACJ,IAATtH,IACDA,EAAQ,YAEV5D,SAASyB,eAAe,cAAcwE,UAAYrC,EAElD5D,SAASoD,uBAAuB,UAAU,GAAG6C,UAAYR,EAAI0F,gBAC7DnL,SAASoD,uBAAuB,QAAQ,GAAG6C,UAAYR,EAAIiF,cAE3D/E,EAAE3F,SAASyB,eAAe,aAAa2J,QAEnC,IAAA,IAAI/I,EAAI,EAAGA,EAAIgJ,OAAOC,KAAK7F,EAAI8F,WAAW5I,OAAQN,IAAK,CACzD/C,EAAK4C,KAAK,GAENsJ,IAAAA,EAAiBxL,SAASoD,uBAAuB,YACjDqI,EAAWrG,EAAcK,MAAM8F,UAAUlJ,GAQ1CoJ,GANHC,GAAe,EAAML,OAAOC,KAAKG,EAASE,SAAShJ,QACnDiJ,EAAsBvJ,EAAI,GAAG,GAE7BmJ,EAAenJ,GAAG+E,WAAW,GAAG1F,MAAQ+J,EAAS7H,MACjD4H,EAAenJ,GAAG+E,WAAW,GAAGA,WAAW,GAAGnB,UAAYwF,EAASI,OAE7C,IAAnBJ,EAASK,OAAc,CACpBC,IAAAA,EAAMN,EAASK,OACnBN,EAAenJ,GAAG+E,WAAW,GAAGA,WAAW,GAAGlE,MAAMC,QAAU,UAC9DqI,EAAenJ,GAAG+E,WAAW,GAAGA,WAAW,GAAGK,QAAU,WACtDtF,KAAK,CACH6J,KAAMD,EACNvK,KAAMiK,EAASQ,oBACfpK,UAAW,aAOd4J,GAFHS,EAAmBT,EAASU,KAAM9J,GAEd,MAAjBoJ,EAASU,KAAc,CACTV,EAASW,SACpB,IADAA,IACI1J,EAAI,EAAGA,EAAI2I,OAAOC,KAAKG,EAASE,SAAShJ,OAAQD,IACvB8E,MAA7BiE,EAASE,QAAQjJ,GAAGhB,MACrB8J,EAAenJ,GAAG+E,WAAW,GAAGA,WAAW1E,GAAG0E,WAAW,GAAGnB,UAAawF,EAASE,QAAQjJ,GAAGhB,MAG7F8J,EAAenJ,GAAG+E,WAAW,GAAGA,WAAW1E,GAAG0E,WAAW,GAAGnB,UAAawF,EAASE,QAAQjJ,GAI3F+I,GAAqB,QAArBA,EAASW,SAAoB,CAC9BC,EAAYb,EAAenJ,IAEvBiK,IAAAA,EAAOtM,SAASuM,cAAc,QAClCD,EAAKpJ,MAAMsJ,SAAW,OACtBF,EAAKpJ,MAAMuJ,YAAc,OACzBH,EAAKrG,UAAY,wDAEjBuF,EAAenJ,GAAG+E,WAAW,GAAGC,YAAYiF,SAI3C,GAAoB,YAAjBb,EAASU,KAAmB,CAClCnM,SAASoD,uBAAuB,YAAYf,GAAG+E,WAAW,GAAG1F,MAAQ+J,EAASiB,SAC1E,IAAIhK,EAAI,EAAGA,EAAI+I,EAASiB,SAAUhK,IACpCiK,EAAsB3M,SAASoD,uBAAuB,oBAAoBf,GAAIK,EAAI,GAIhF,IADAkK,IAAAA,EAAa5M,SAASoD,uBAAuB,eACzCyJ,EAAI,EAAGA,EAAID,EAAWjK,OAAQkK,IACpCD,EAAWC,GAAGzF,WAAW,GAAG1F,MAAQ+J,EAASE,QAAQkB,GAAGnE,MAAM,KAAK,GACnEkE,EAAWC,GAAGzF,WAAW,GAAG1F,MAAQ+J,EAASE,QAAQkB,GAAGnE,MAAM,KAAK,UAO9E1C,WAAW,WACLuF,IAAAA,EAAavL,SAASoD,uBAAuB,YAC7CqG,EAAOzJ,SAASyB,eAAe,QAGnC5B,EAAgB0L,EACZuB,IAAAA,EAAeC,EAAQC,MAAMC,UAAUpE,MAAMqE,KAAM3B,IAEvD5F,EAAE,eAAewH,SAAUxH,EAAE,eAAewH,SAAUxH,EAAE,aAAawH,SAEjE,IAAA,IAAIC,EAAI,EAAGA,EAAIN,EAAanK,OAAQyK,IACtC3D,EAAKpC,YAAYyF,EAAaM,IAC9B3D,EAAKpC,YAAYrH,SAASuM,cAAc,OACxC9C,EAAKpC,YAAYrH,SAASuM,cAAc,OAE1Cc,KACC,KAGN,SAAShB,EAAYZ,GAGf,IAFAE,IAAAA,EAAUF,EAASrE,WAAW,GAAGA,WAE7B/E,EAAI,EAAGA,EAAIsJ,EAAQhJ,OAAQN,IACjCsJ,EAAQtJ,GAAG+E,WAAW,GAAGkG,KAAOjL,EAIpC,SAAS0K,EAAQQ,GAIR,IAHHC,IAA6BC,EAAgBC,EAA7CF,EAAeD,EAAM5K,OAGlB,IAAM6K,GAGXE,EAAclL,KAAKiG,MAAMjG,KAAKC,SAAW+K,GAIzCC,EAAiBF,EAHjBC,GAAgB,GAIhBD,EAAMC,GAAgBD,EAAMG,GAC5BH,EAAMG,GAAeD,EAGhBF,OAAAA,EAIT,SAASF,IAGH,IAFA9B,IAAAA,EAAYvL,SAASoD,uBAAuB,YAExCf,EAAI,EAAGA,EAAIkJ,EAAU5I,OAAQN,IAAK,CACpCoJ,IAAAA,EAAWF,EAAUlJ,GAEzBoJ,EAASrE,WAAW,GAAGnB,UAAY5D,EAAI,EAAI,KAC3CoJ,EAAS1F,GAAK1D,EAAI,GAKtB,SAAS6J,EAAmBzG,EAAKpD,GACrB,MAAPoD,GACDzF,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,UAEVqE,MAA5CxH,SAASoD,uBAAuB,MAAMf,KACvCrC,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,QAGZqE,MAA5CxH,SAASoD,uBAAuB,MAAMf,KACvCrC,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,QAGNqE,MAAlDxH,SAASoD,uBAAuB,YAAYf,KAC7CrC,SAASoD,uBAAuB,YAAYf,GAAGa,MAAMC,QAAU,SAGpD,MAAPsC,GACNzF,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,OAEVqE,MAA5CxH,SAASoD,uBAAuB,MAAMf,KACvCrC,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,QAGNqE,MAAlDxH,SAASoD,uBAAuB,YAAYf,KAC7CrC,SAASoD,uBAAuB,YAAYf,GAAGa,MAAMC,QAAU,QAGjEnD,SAASyB,eAAeY,EAAI,GAAGgF,YAAYsG,MAE9B,MAAPlI,GACNzF,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,OAEVqE,MAA5CxH,SAASoD,uBAAuB,MAAMf,KACvCrC,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,QAGNqE,MAAlDxH,SAASoD,uBAAuB,YAAYf,KAC7CrC,SAASoD,uBAAuB,YAAYf,GAAGa,MAAMC,QAAU,QAGjEnD,SAASyB,eAAeY,EAAI,GAAGgF,YAAYuG,MAE9B,YAAPnI,IACNzF,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,OAEVqE,MAA5CxH,SAASoD,uBAAuB,MAAMf,KACvCrC,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,QAGZqE,MAA5CxH,SAASoD,uBAAuB,MAAMf,KACvCrC,SAASoD,uBAAuB,MAAMf,GAAGa,MAAMC,QAAU,QAG3DnD,SAASyB,eAAeY,EAAI,GAAGgF,YAAYwG,MAM/C,SAASD,IACHE,IAAAA,EAAQ9N,SAASuM,cAAc,SACnCuB,EAAM/H,GAAK,QACX+H,EAAMjM,UAAY,KAEdkM,IAAAA,EAAa/N,SAASuM,cAAc,SACxCwB,EAAW7K,MAAM8K,QAAU,OAC3BD,EAAW5B,KAAO,QAClB4B,EAAWlM,UAAY,qBACvBkM,EAAWT,KAAO,WAEdW,IAAAA,EAAcjO,SAASuM,cAAc,SACzC0B,EAAY/K,MAAM8K,QAAU,OAC5BC,EAAY9B,KAAO,QACnB8B,EAAYpM,UAAY,qBACxBoM,EAAY/K,MAAMgL,WAAa,MAC/BD,EAAYX,KAAO,WAEfa,IAAAA,EAAYnO,SAASuM,cAAc,QACvC4B,EAAUlI,UAAY,QACtBkI,EAAUjL,MAAMgL,WAAa,OAC7BC,EAAUjL,MAAMoE,MAAQ,OACxB6G,EAAUjL,MAAMkL,WAAa,SAEzBC,IAAAA,EAAarO,SAASuM,cAAc,QAYjCuB,OAXPO,EAAWpI,UAAY,SACvBoI,EAAWnL,MAAMgL,WAAa,OAC9BG,EAAWnL,MAAMoE,MAAQ,OACzB+G,EAAWnL,MAAMkL,WAAa,SAE9BN,EAAMzG,YAAY0G,GAClBD,EAAMzG,YAAY8G,GAElBL,EAAMzG,YAAY4G,GAClBH,EAAMzG,YAAYgH,GAEXP,EAIT,SAASH,IACHW,IAAAA,EAAKtO,SAASuM,cAAc,YAgBzB+B,OAbPA,EAAGC,QAAU,WACXvI,WAAW,WACT1G,EAAKuG,SAASyI,EAAGxI,WAAWC,IAAM,GAAK,GAEhB,GAApBzG,EAAKY,QAAQ,KACdF,SAASyB,eAAe,eAAeyB,MAAMC,QAAU,UACvDnD,SAASyB,eAAe,wBAAwByB,MAAMC,QAAU,SAEjE,MAGLmL,EAAGzM,UAAY,KACfyM,EAAGE,YAAc,8CACVF,EAIT,SAAST,IACHY,IAAAA,EAAkBzO,SAASuM,cAAc,OAC7CkC,EAAgB5M,UAAY,mBAExB6M,IAAAA,EAAW1O,SAASuM,cAAc,OACtCmC,EAAS7M,UAAY,WAEjB8M,IAAAA,EAAK3O,SAASuM,cAAc,MAChCoC,EAAGzL,MAAM0L,MAAQ,MAEbrD,IAAAA,EAAYvL,SAASuM,cAAc,QACvChB,EAAUtF,UAAY,YACtBsF,EAAUrI,MAAMgL,WAAa,QAEzBW,IAAAA,EAAU7O,SAASuM,cAAc,QACrCsC,EAAQ5I,UAAY,+BACpB4I,EAAQ3L,MAAMgL,WAAa,SAEvBY,IAAAA,EAAc9O,SAASuM,cAAc,SACzCuC,EAAY3C,KAAO,UACnB2C,EAAYN,YAAc,mBAC1BM,EAAY5L,MAAM6L,aAAe,MACjCD,EAAY5L,MAAM8L,QAAU,MAC5BF,EAAY5L,MAAM+E,OAAQ,kBAC1B6G,EAAY5L,MAAMsJ,SAAW,OAE7BsC,EAAYG,QAAU,WAGjB,GAFHtJ,EAAE8I,GAAiBrD,QAEhB,KAAK1J,OAAS,GACX,IAAA,IAAIW,EAAI,EAAGA,EAAI,KAAKX,MAAOW,IAC7BsK,EAAsB8B,EAAiBpM,EAAI,OAG1C,CACEX,KAAAA,MAAQ,GAETwN,IAAAA,EAAQlP,SAASuM,cAAc,OACnC2C,EAAMjJ,UAAY,mBAClBiJ,EAAMhM,MAAMiM,UAAY,SACxBD,EAAMhM,MAAM0L,MAAQ,OACpBM,EAAMhM,MAAMkM,SAAW,QACvBF,EAAMhM,MAAMmM,OAAS,SACrBH,EAAMhM,MAAM8D,IAAM,IAClBkI,EAAMrN,UAAY,qBAClBqN,EAAMI,KAAO,QAEbtP,SAASyB,eAAe,eAAe4F,YAAYrH,SAASuM,cAAc,UAAUlF,YAAY6H,IAEhGlJ,WAAW,WAAYhG,SAASoD,uBAAuB,SAAS,GAAG+J,UAAa,QAIhFoC,IAAAA,EAASvP,SAASuM,cAAc,UAiB7BmC,OAhBPa,EAAOxJ,GAAK,SACZwJ,EAAOtJ,UAAY,eAEnBsJ,EAAO9H,QAAU,WACfkF,EAAsB8B,EAAiBzO,SAASoD,uBAAuB,eAAeT,OAAS,GAC/F6M,UAAS,IAGXd,EAASrH,YAAYyH,GACrBJ,EAASrH,YAAYsH,GACrBD,EAASrH,YAAYkE,GAAYmD,EAASrH,YAAYwH,GACtDH,EAASrH,YAAYoH,GAErBC,EAASrH,YAAYrH,SAASuM,cAAc,OAC5CmC,EAASrH,YAAYkI,GAEdb,EAIT,SAAS/B,EAAsB8C,EAAKpN,GAC9BqN,IAAAA,EAAM1P,SAASuM,cAAc,OACjCmD,EAAI7N,UAAY,cAEZ8N,IAAAA,EAAa3P,SAASuM,cAAc,QACxCoD,EAAW9N,UAAY,4BACvB8N,EAAWzM,MAAMC,QAAU,OAC3BwM,EAAWzM,MAAM0M,YAAc,MAC/BD,EAAWzM,MAAMoE,MAAQ,UAEzB3B,EAAEgK,GAAYE,MAAM,WACb/J,KAAAA,WAAWqH,SAChBqC,UAAS,GACTM,qBAGFnK,EAAE+J,GAAKK,MAAM,WACN3I,KAAAA,WAAW,GAAGlE,MAAMC,QAAU,WAClC,WACIiE,KAAAA,WAAW,GAAGlE,MAAMC,QAAU,SAGrCwC,EAAEgK,GAAYI,MAAM,WACb7M,KAAAA,MAAM8M,OAAO,UACb9M,KAAAA,MAAMoE,MAAQ,WAClB,cAIHoI,EAAIrI,YAAYsI,GAEZM,IAAAA,EAAMjQ,SAASuM,cAAc,QACjC0D,EAAIhK,UAAY5D,EAAI,IACpB4N,EAAI/M,MAAM0M,YAAc,OACxBK,EAAI/M,MAAMsJ,SAAW,OAErBkD,EAAIrI,YAAY4I,GAEZlI,IAAAA,EAAQ/H,SAASuM,cAAc,SACnCxE,EAAMoE,KAAO,UACbpE,EAAM7E,MAAMgN,UAAY,OACxBnI,EAAM7E,MAAMiM,UAAY,SACxBpH,EAAMyG,YAAc,QACpBzG,EAAMhC,GAAK,SAEPoK,IAAAA,EAAQnQ,SAASuM,cAAc,QACnC4D,EAAMtO,UAAY,kCAClBsO,EAAMjN,MAAMuJ,YAAc,MAEtB2D,IAAAA,EAAepQ,SAASuM,cAAc,SAC1C6D,EAAajE,KAAO,UACpBiE,EAAalN,MAAMgL,WAAa,MAChCkC,EAAalN,MAAMiM,UAAY,SAC/BiB,EAAa5B,YAAc,IAC3B4B,EAAarK,GAAK,SAElB2J,EAAIrI,YAAYU,GAChB2H,EAAIrI,YAAY8I,GAChBT,EAAIrI,YAAY+I,GAChBX,EAAIpI,YAAYqI,GAIlB,SAAShE,EAAe2E,EAASC,GAC3B7G,IAAAA,EAAOzJ,SAASyB,eAAe,QAE/BgK,EAAWzL,SAASuM,cAAc,OACtCd,EAAS5J,UAAY,WACrB4J,EAAS1F,GAAK/F,SAASoD,uBAAuB,YAAYT,OAAS,EACnE8I,EAAS8E,QAAQC,SAAWxQ,SAASoD,uBAAuB,YAAYT,OAAS,EAE7EsN,IAAAA,EAAMjQ,SAASuM,cAAc,QACjC0D,EAAIhK,UAAYjG,SAASoD,uBAAuB,YAAYT,OAAS,EAAI,KACzEsN,EAAI/M,MAAMoE,MAAQ,UAEdqH,IAAAA,EAAK3O,SAASuM,cAAc,MAChCoC,EAAG9M,UAAY,aAEX4O,IAAAA,EAAKzQ,SAASuM,cAAc,MAChCkE,EAAG5O,UAAY,aAEX6O,IAAAA,EAAiB1Q,SAASuM,cAAc,SAC5CmE,EAAeC,UAAW,EAC1BD,EAAevE,KAAO,OACtBuE,EAAelC,YAAc,wBAC7BkC,EAAe3K,GAAK,iBAEpB0F,EAASpE,YAAY4I,GACrBxE,EAASpE,YAAYqJ,GAEjBE,IAAAA,EAAY5Q,SAASuM,cAAc,KACvCqE,EAAU3K,UAAY,aACtB2K,EAAU1N,MAAMgL,WAAa,OAC7B0C,EAAU1N,MAAMC,QAAU,OAEtB0I,IAAAA,EAAS7L,SAASuM,cAAc,OACpCV,EAAO9F,GAAK,SACRuG,IAAAA,EAAOtM,SAASuM,cAAc,QAClCD,EAAKrG,UAAY,KAEb4K,IAAAA,EAAY7Q,SAASuM,cAAc,QACvCsE,EAAU1E,KAAO,OACjB0E,EAAU9K,GAAK,YACf8K,EAAUrC,YAAc,QAEpBsC,IAAAA,EAAiB9Q,SAASuM,cAAc,QAC5CuE,EAAc7K,UAAY,WAE1B4F,EAAOxE,YAAYiF,GAAOT,EAAOxE,YAAYwJ,GAAYhF,EAAOxE,YAAYyJ,GAC5EjF,EAAOxE,YAAYuJ,GAEnBnF,EAASpE,YAAYwE,GAEjBkF,IAAAA,EAAiB/Q,SAASuM,cAAc,OAC5CwE,EAAelP,UAAY,KAEvB,IAAA,IAAIQ,EAAI,EAAGA,EAAIiO,EAAkBjO,IAAK,CACpCyL,IAAAA,EAAQ9N,SAASuM,cAAc,SACnCuB,EAAM/H,GAAK,QAEPgC,IAAAA,EAAQ/H,SAASuM,cAAc,SACnCxE,EAAM7E,MAAM8K,QAAU,OACtBjG,EAAMoE,KAAO,QACbpE,EAAMuF,KAAO,QACbvF,EAAMlG,UAAY,qBAClBkG,EAAMuF,KAAO2C,EAAIhK,UAEb+K,IAAAA,EAAgBhR,SAASuM,cAAc,QAC3CyE,EAAcnP,UAAY,SAC1BmP,EAAcjL,GAAK,kBAEnB+H,EAAMzG,YAAYU,GAClB+F,EAAMzG,YAAY2J,GAElBlD,EAAMmD,UAAY,WACb,GAAA,KAAK7J,WAAW,GAAG8J,QAAS,CACzBC,IAAAA,EAAS,KAAK/J,WAAW,GAC7BpB,WAAW,WAAYmL,EAAOD,SAAU,GAAU,OAItDH,EAAe1J,YAAYyG,GAE7BrC,EAASpE,YAAY0J,GAErBtH,EAAKpC,YAAYoE,GACjBhC,EAAKpC,YAAYoJ,GACjBhH,EAAKpC,YAAYsH,GAGb0B,IACFlQ,OAAOqG,OAAO,CAAEQ,IAAKyE,EAAS2F,wBAAwBpK,IAAM7G,OAAOkR,QAASlJ,SAAU,WACtFyD,EAAsB5L,SAASoD,uBAAuB,YAAYT,QAAQ,IAI9E,SAASiJ,EAAsBvJ,EAAGiP,GACxB,GAALjP,GAAWiP,GACZ1F,EAAsB,GAAG,GAEvB2F,IAAAA,EAAUvR,SAASyB,eAAe,gBAClC+P,EAAWxR,SAASyB,eAAe,YAEnCgQ,EAAUzR,SAASuM,cAAc,QACrCkF,EAAQxL,UAAY,WACpBwL,EAAQvO,MAAMsJ,SAAW,OACzBiF,EAAQvO,MAAMkM,SAAW,WACzBqC,EAAQvO,MAAMgE,OAAS,OACvBuK,EAAQvO,MAAMoE,MAAQ,OACtBmK,EAAQvO,MAAM0F,KAAO,QAErB6I,EAAQ1L,GAAK,mBACb0L,EAAQ5P,UAAYQ,EAEpBsD,EAAE8L,GAAS1B,MAAM,WACXvO,IAAAA,EAAOiQ,EAAQrK,WAAW,IAE3BsK,UAAUC,UAAUC,cAAc1R,QAAQ,YAAc,GAAK,SAASoJ,KAAKoI,UAAUC,YAAc,aAAarI,KAAKoI,UAAUG,WAChIrQ,EAAK0B,MAAMqE,MAAQ,UAGhBrE,KAAAA,MAAM8M,OAAS,UACf/J,KAAAA,UAAY,WACZoB,KAAAA,YAAY7F,GAEZ0B,KAAAA,MAAMgE,OAAS,OACfhE,KAAAA,MAAMiE,WAAa,UAExBsK,EAAQrK,WAAW,GAAGlE,MAAMoE,MAAQ,SACnC,WACG9F,IAAAA,EAAOiQ,EAAQrK,WAAW,GACzBnB,KAAAA,UAAY,YAEdyL,UAAUC,UAAUC,cAAc1R,QAAQ,YAAc,GAAK,SAASoJ,KAAKoI,UAAUC,YAAc,aAAarI,KAAKoI,UAAUG,WAChIrQ,EAAK0B,MAAMqE,MAAQ,UAGhBrE,KAAAA,MAAMgE,OAAS,OACfhE,KAAAA,MAAMiE,WAAa,UAEnBE,KAAAA,YAAY7F,GACjBiQ,EAAQrK,WAAW,GAAGlE,MAAMoE,MAAQ,UAGtCmK,EAAQhK,QAAU,WAChBzH,SAASyB,eAAeY,GAAG6F,eAAe,CAAC4J,MAAO,YAGvC9R,SAASuM,cAAc,UAAhCwF,IACAvQ,EAAOxB,SAASuM,cAAc,OAClC/K,EAAKuE,GAAK,OACVvE,EAAKyE,UAAY5D,GAEdqP,UAAUC,UAAUC,cAAc1R,QAAQ,YAAc,GAAK,SAASoJ,KAAKoI,UAAUC,YAAc,aAAarI,KAAKoI,UAAUG,WAChIrQ,EAAK0B,MAAMqE,MAAQ,UAGrBkK,EAAQpK,YAAY7F,GAEpBgQ,EAASnK,YAAYoK,GACrBF,EAAQlK,YAAYmK,GACpBD,EAAQ5K,UAAa4K,EAAQS,aAAeT,EAAQS,aAItD,SAASlN,IACF9E,SAASyD,kBAKRzD,SAASiS,gBACXjS,SAASiS,kBALXjS,SAASkS,iBAAiB,cAAe,SAAA3O,GAASA,OAAAA,EAAM4O,mBACxDnS,SAASoS,gBAAgBC,qBAU7B,SAASxN,IACP1E,OAAOC,SAASW,KAAOZ,OAAOC,SAASW,KAGzC,SAASuR,EAAW7G,GACdU,IAAAA,EAAOV,EAASrE,WAAWiE,OAAOC,KAAKG,EAASrE,YAAYqE,EAASrE,WAAWzE,OAAS,IACzFuO,EAAU,GAEX/E,GAAkB,MAAlBA,EAAKtK,UAAmB,CACrB,IAAA,IAAIQ,EAAI,EAAGA,EAAI8J,EAAK/E,WAAWzE,OAAQN,IACM,GAA5C8J,EAAK/E,WAAW/E,GAAG+E,WAAW,GAAG8J,SAClCA,EAAQhP,KAAKG,GAGV6O,OAAAA,EAGJ,MAAqB,MAAlB/E,EAAKtK,UACRsK,EAAK/E,WAAW,GAAG8J,QACb,EAGA,EAIe,YAAlB/E,EAAKtK,WACXsK,EAAO,WACA,IAGiB,MAAlBA,EAAKtK,UACJsK,EAAKzK,WADT,EAKP,SAAS6Q,EAAWhF,GACd,IAAA,IAAIlL,EAAI,EAAGA,EAAIkL,EAAM5K,OAAQN,IAC3B,IAAA,IAAIK,EAAI,EAAGA,EAAI6K,EAAM5K,OAAQD,IAC5B6K,GAAAA,EAAM7K,EAAI,GAAG6N,QAAQC,SAAWjD,EAAM7K,GAAG6N,QAAQC,SAAU,CACxDgC,IAAAA,EAAOjF,EAAM7K,EAAE,GACnB6K,EAAM7K,EAAE,GAAK6K,EAAM7K,GACnB6K,EAAM7K,GAAK8P,EAIVjF,OAAAA,EAIT,SAASkF,IAIH,IAHAC,IAAAA,EAAkB,GAClBC,EAAcJ,EAAWvF,MAAMC,UAAUpE,MAAMqE,KAAMrN,IAEjDwC,EAAI,EAAGA,EAAIsQ,EAAYhQ,OAAQN,IAAK,CACtCoJ,IACAyF,EAAUoB,EADCK,EAAYtQ,IAG3BqQ,EAAgBxQ,KAAKG,EAAI,IAAM6O,GAGjC3Q,eAAeC,QAAQ,kBAAmBC,KAAKC,UAAUgS,IAEzD1S,SAASyB,eAAe,gBAAgByB,MAAMC,QAAU,OACxDnD,SAASyB,eAAe,UAAUyB,MAAMC,QAAU,UAElDyP,IAIF,SAASA,IACHC,IACAC,EADAD,EAAUpS,KAAKsS,MAAMxS,eAAeqB,QAAQ,oBAIhDG,SAASC,WAAWC,IAAI,YAAc1B,eAAeqB,QAAQ,WAAa,YAAcrB,eAAeqB,QAAQ,aAAe,UAAYrB,eAAeqB,QAAQ,aAAa4H,KAAK,SAASnI,KAAK,SAAS6D,GACxMA,EAASC,QAAQ,SAASC,GACeoC,MAApCpC,EAAc4N,SAASzH,YACxBuH,EAAY1N,EAAc4N,YAO1B,IAHAC,IAAAA,EAAQ,EACRC,EAAgB,EAEZ7Q,EAAI,EAAGA,EAAIxC,EAAc8C,OAAQN,IAAK,CACxC8Q,IAAAA,EAAS,GACTC,GAAK,EACLC,GAAK,EAmCN,GAjC+B,MAA/BP,EAAUvH,UAAUlJ,GAAG8J,MACxBkH,GAAK,GAEHF,EAD6B,GAA5BN,EAAQxQ,GAAGqG,MAAM,KAAK,GACd,QAGA,SAGEoK,EAAUvH,UAAUlJ,GAAGsJ,QAAQ,IAC1CsH,GAASpN,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,QACzCyH,EAAiBR,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAI7C,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,UAGzG0H,EAAmBT,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAI7C,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,UAIxE,MAA/BiH,EAAUvH,UAAUlJ,GAAG8J,KAE3BgH,GAD6B,GAA5BN,EAAQxQ,GAAGnC,QAAQ,KACX2F,SAASgN,EAAQxQ,GAAGqG,MAAM,KAAK,IAG/BmK,EAAQxQ,GAAGqG,MAAM,KAAK,IAKjC0K,GAAK,EACLI,EAAYV,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAI7C,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,SACpGqH,GAAiBrN,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,UAG/CuH,IAAOC,EACN,GAAiB,iBAAVF,IAA8C,GAAxBA,EAAOjT,QAAQ,KAAY,CACrD,IAAA,IAAI2M,EAAI,EAAGA,EAAIxB,OAAOC,KAAKwH,EAAUvH,UAAUlJ,GAAG6O,SAASvO,OAAQkK,IACjE,IAAA,IAAI4G,EAAI,EAAGA,EAAIN,EAAOzK,MAAM,KAAK/F,OAAQ8Q,IACxCX,EAAUvH,UAAUlJ,GAAG6O,QAAQrE,IAAMhH,SAASsN,EAAOzK,MAAM,KAAK+K,MACjER,GAASpN,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,QAAUsH,EAAOzK,MAAM,KAAK/F,QAIxEsQ,GAASpN,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,QAC1CyH,EAAiBR,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAIuK,GAGzES,EAAiBZ,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAIuK,EAAOpN,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,cAI/GsH,GAAUL,EAAUvH,UAAUlJ,GAAG6O,SAClC+B,GAASpN,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,QACzCyH,EAAiBR,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAI7C,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,UAGzG0H,EAAmBT,EAAUvH,UAAUlJ,GAAGuB,MAAOiP,EAAQxQ,GAAGqG,MAAM,KAAK,GAAI7C,SAASiN,EAAUvH,UAAUlJ,GAAGwJ,SAM/G8H,IAAAA,EAAkB,CACV,OAAEV,GAASH,EAAU3H,gBAAkB+H,GAAkB,KAAKU,QAAQ,GACvEhU,KAAAA,EACGiT,QAAAA,EACHtS,KAAAA,eAAeqB,QAAQ,eACjB,YAACqR,EAASH,EAAU3H,gBAAmB,KAAKyI,QAAQ,IAGrE7R,SAASC,WAAWC,IAAI,YAAc1B,eAAeqB,QAAQ,WAAa,YAAcrB,eAAeqB,QAAQ,aAAe,UAAYrB,eAAeqB,QAAQ,YAAc,cAAgBrB,eAAeqB,QAAQ,gBAAgBM,KAAKyR,GAEvOE,IAAAA,EAAM,WAEE,GAATjU,IACDiU,EAAM,WAGR7T,SAASyB,eAAe,SAASwE,UAAY0N,EAAgBG,MAAQ,IACrE9T,SAASyB,eAAe,aAAawE,UAAagN,EAAQ,OAASH,EAAU3H,gBAAkB+H,GAAiB,OAAStT,EAAQiU,IAKrH7T,SAASyB,eAAe,UAGxC,SAAS+R,EAAY5P,EAAOqM,EAAKpE,GAC3BkI,IAAAA,EAAU/T,SAASyB,eAAe,iBAElCiO,EAAM1P,SAASuM,cAAc,OACjCmD,EAAIxM,MAAM0L,MAAQ,OAClBc,EAAIxM,MAAMgN,UAAY,OACtBR,EAAIxM,MAAM+E,OAAS,kBACnByH,EAAIxM,MAAM8L,QAAU,OACpBU,EAAIxM,MAAM2D,OAAS,OACnB6I,EAAIxM,MAAM0E,WAAa,UACvB8H,EAAIxM,MAAMoE,MAAQ,QAClBoI,EAAIxM,MAAM6L,aAAe,MACzBW,EAAI7N,UAAY,cAEZyL,IAAAA,EAAOtN,SAASuM,cAAc,QAClCe,EAAKrH,UAAYJ,SAASoK,GAAO,EAAI,MAAQrM,EAC7C0J,EAAKpK,MAAM8Q,MAAQ,OACnB1G,EAAKpK,MAAMuJ,YAAc,OAErBwH,IAAAA,EAAgBjU,SAASuM,cAAc,QAC3C0H,EAAchO,UAAY,oEAAsE4F,EAAS,IACzGoI,EAAc/Q,MAAM8Q,MAAQ,QAC5BC,EAAc/Q,MAAMgR,aAAe,OAEnCxE,EAAIrI,YAAYiG,GAChBoC,EAAIrI,YAAY4M,GAEhBF,EAAQ1M,YAAYqI,GAGtB,SAASgE,EAAiB9P,EAAOqM,EAAKpE,EAAQsI,GACxCJ,IAAAA,EAAU/T,SAASyB,eAAe,iBAElCiO,EAAM1P,SAASuM,cAAc,OACjCmD,EAAIxM,MAAM0L,MAAQ,OAClBc,EAAIxM,MAAMgN,UAAY,OACtBR,EAAIxM,MAAM+E,OAAS,kBACnByH,EAAIxM,MAAM8L,QAAU,OACpBU,EAAIxM,MAAM2D,OAAS,OACnB6I,EAAIxM,MAAM0E,WAAa,UACvB8H,EAAIxM,MAAM6L,aAAe,MACzBW,EAAI7N,UAAY,cAEZyL,IAAAA,EAAOtN,SAASuM,cAAc,QAClCe,EAAKrH,UAAYJ,SAASoK,GAAO,EAAI,MAAQrM,EAC7C0J,EAAKpK,MAAM8Q,MAAQ,OACnB1G,EAAKpK,MAAMuJ,YAAc,OAErBwH,IAAAA,EAAgBjU,SAASuM,cAAc,QAC3C0H,EAAchO,UAAY,gBAAkB4F,EAAS,MAAQsI,EAAc,6BAC3EF,EAAc/Q,MAAM8Q,MAAQ,QAC5BC,EAAc/Q,MAAMgR,aAAe,OAEnCxE,EAAIrI,YAAYiG,GAChBoC,EAAIrI,YAAY4M,GAEhBF,EAAQ1M,YAAYqI,GAGtB,SAAS4D,EAAiB1P,EAAOqM,EAAKpE,GAChCkI,IAAAA,EAAU/T,SAASyB,eAAe,iBAElCiO,EAAM1P,SAASuM,cAAc,OACjCmD,EAAIxM,MAAM0L,MAAQ,OAClBc,EAAIxM,MAAMgN,UAAY,OACtBR,EAAIxM,MAAM+E,OAAS,kBACnByH,EAAIxM,MAAM8L,QAAU,OACpBU,EAAIxM,MAAM2D,OAAS,OACnB6I,EAAIxM,MAAM0E,WAAa,UACvB8H,EAAIxM,MAAM6L,aAAe,MACzBW,EAAI7N,UAAY,cAEZyL,IAAAA,EAAOtN,SAASuM,cAAc,QAClCe,EAAKrH,UAAYJ,SAASoK,GAAO,EAAI,MAAQrM,EAC7C0J,EAAKpK,MAAM8Q,MAAQ,OACnB1G,EAAKpK,MAAMuJ,YAAc,OAErBwH,IAAAA,EAAgBjU,SAASuM,cAAc,QAC3C0H,EAAchO,UAAY,gBAAkB4F,EAAS,MAAQA,EAAS,6BACtEoI,EAAc/Q,MAAM8Q,MAAQ,QAC5BC,EAAc/Q,MAAMgR,aAAe,OAEnCxE,EAAIrI,YAAYiG,GAChBoC,EAAIrI,YAAY4M,GAEhBF,EAAQ1M,YAAYqI,GAGtB,SAAS6D,EAAmB3P,EAAOqM,EAAKpE,GAClCkI,IAAAA,EAAU/T,SAASyB,eAAe,iBAElCiO,EAAM1P,SAASuM,cAAc,OACjCmD,EAAIxM,MAAM0L,MAAQ,OAClBc,EAAIxM,MAAMgN,UAAY,OACtBR,EAAIxM,MAAM+E,OAAS,kBACnByH,EAAIxM,MAAM8L,QAAU,OACpBU,EAAIxM,MAAM2D,OAAS,OACnB6I,EAAIxM,MAAM0E,WAAa,UACvB8H,EAAIxM,MAAMoE,MAAQ,QAClBoI,EAAIxM,MAAM6L,aAAe,MACzBW,EAAI7N,UAAY,cAEZyL,IAAAA,EAAOtN,SAASuM,cAAc,QAClCe,EAAKrH,UAAYJ,SAASoK,GAAO,EAAI,MAAQrM,EAC7C0J,EAAKpK,MAAM8Q,MAAQ,OACnB1G,EAAKpK,MAAMuJ,YAAc,OAErBwH,IAAAA,EAAgBjU,SAASuM,cAAc,QAC3C0H,EAAchO,UAAY,oBAA8B4F,EAAS,4BACjEoI,EAAc/Q,MAAM8Q,MAAQ,QAC5BC,EAAc/Q,MAAMgR,aAAe,OAEnCxE,EAAIrI,YAAYiG,GAChBoC,EAAIrI,YAAY4M,GAEhBF,EAAQ1M,YAAYqI,GAnmCtB3M,EAAeC,GACfA,EAAEoR,YAAYrR,GA0mCd/C,SAASkS,iBAAiB,WAAY,SAASmC,GAC3B,KAAdA,EAAEC,SAAmB/U,GACvB2J,MAED,GAGHxJ,EAAM","file":"js.08339285.js","sourceRoot":"..","sourcesContent":["var examCodes = [], students = [], done = [];\nvar stopEnter = false, canCount = false, canChangeCircle = true;\nvar key = initKey(); var timer = 0; var originalOrder = [];\n\n(function() {\n    // Expose to global\n    var leaverCount = 0;\n\n    //code to call when document leaves full screen\n    document.onfullscreenchange = function ( event ) {\n      if(document.fullscreenElement == null) {\n        let timerInterval;\n        if(leaverCount <= 5) {\n            Swal.fire({\n              title: 'Are You Sure You Want To Leave?',\n              html: 'You have <strong></strong> seconds to go back to your test or the test ends and your score is recorded! You can open this dialog <span></span> more times',\n              confirmButtonText: 'Yes, end it!',\n              cancelButtonText: 'No, Go Back!',\n              showCancelButton: true,\n              showConfirmButton: true,\n              allowEscapeKey: false,\n              allowEnterKey: false,\n              timer: 10000,\n              onBeforeOpen: () => {\n                timerInterval = setInterval(() => {\n                  Swal.getContent().querySelector('strong').textContent = Swal.getTimerLeft() / 1000;\n                }, 100)\n                Swal.getContent().querySelector('span').textContent = 4 - leaverCount;\n              },\n              onClose: () => {\n                clearInterval(timerInterval)\n              }\n              }).then((result) => {\n                if (!result.value) {\n                  toggleFullScreen();\n\n                  leaverCount++;\n                }\n                else if(result.value) {\n                  endTest();\n                }\n                if (result.dismiss === Swal.DismissReason.timer) {\n                  endTest();\n                }\n            });\n          }\n          else{\n            endTest();\n          }\n      };\n    }\n\n})();\n\n// var data;\n// \t$.ajax({\n// \t  type: \"GET\",\n// \t  url: \"data.csv\",\n// \t  dataType: \"text\",\n// \t  success: function(response)\n// \t  {\n//   \t\tdata = $.csv.toArrays(response);\n//       for(var i = 0; i < data.length; i++){\n//         var id = data[i][0];\n//         var name = data[i][3] + \" \" + data[i][2];\n//         var className = data[i][10];\n//\n//         // firebase.database().ref(\"Teachers/Zakariya Sattar/Classes/\" + className + \"/Students\").push(id + \";\" + name);\n//\n//         var json = {\n//           answers: [\"0:\" + Math.floor(1 + Math.random()*(3)), \"1:\" + Math.floor(0 + Math.random()*(2))],\n//           name: name,\n//           score: Math.floor((Math.random() * 25) + 75),\n//           time: 5,\n//           totalScore: Math.floor((Math.random() * 5) + 15)\n//         }\n//\n//         firebase.database().ref(\"Teachers/Zakariya Sattar/Classes/Advance App Development/Exams/YSDIMI/responses/\" + name).push(json);\n//       }\n// \t  }\n// });\n\n// pull all exam codes then encrypt them\nfirebase.database().ref('exam-codes').on('value', function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n    var code = CryptoJS.AES.encrypt(childSnapshot.val(), key);\n    examCodes.push(code);\n  });\n});\n\n// pull all students then encrypt them\nfirebase.database().ref('Students').on('value', function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n    // no need for encryption because no active storage\n    students.push(childSnapshot.val());\n  });\n});\n\n// code to run when google user signs in\nfunction onSignIn(googleUser) {\n  if(document.URL.indexOf(\"?\") == -1){\n    window.location = \"teacher.html\";\n\n    var profile = googleUser.getBasicProfile();\n    sessionStorage.setItem(\"userInfo\", JSON.stringify([profile.getId(), profile.getName(), profile.getImageUrl(), profile.getEmail()]));\n  }\n  else {\n    window.location.href = document.URL.substring(0, document.URL.indexOf(\"?\"));\n    sessionStorage.setItem(\"userInfo\", \"\");\n    signOut();\n  }\n}\n\n// request signout\nfunction signOut() {\n  var auth2 = gapi.auth2.getAuthInstance();\n  auth2.signOut().then(function () {\n    sessionStorage.removeItem('userInfo');\n  });\n}\n\n// for displayQuiz()\nwindow.onload = function() {\n  $(\"#create-exam\").on('change', \"input:radio\", function() {\n    if(!isNaN(parseInt(this.parentNode.parentNode.parentNode.id) - 1)) {  //MC\n      done[parseInt(this.parentNode.parentNode.parentNode.id) - 1] = 1;\n    }\n    else {  //\n      done[parseInt(this.parentNode.parentNode.id) - 1] = 1;\n    }\n\n    if(done.indexOf(0) == -1) {\n      document.getElementById('submit-exam').style.display = 'initial';\n      document.getElementById('submit-exam-disabled').style.display = \"none\";\n    }\n  });\n\n  setTimeout(function(){ document.getElementById('timeLeftInExam').innerHTML = sessionStorage.getItem(\"timeLimit\") + \" minutes\";  }, 1500);\n\n  setInterval(function(){\n    if(canCount) {\n      if(timer == (sessionStorage.getItem(\"timeLimit\") - 5)) {\n        swal(\"Timer Warning\", \"5 minutes remaining in this exam\", \"info\");\n      }\n      if(timer <= sessionStorage.getItem(\"timeLimit\")) {\n        timer++;\n        document.getElementById('timeLeftInExam').innerHTML = sessionStorage.getItem(\"timeLimit\") - timer + \" minutes\";\n      }\n      else { // if timer runs out\n        window.location.reload();\n      }\n    }\n  }, 60000);\n\n  setInterval(function(){\n    var today = new Date();\n    if(today.getSeconds() < 10) {\n      document.getElementById(\"currTime\").innerHTML = (today.getHours() % 12 || 12) + \":\" + today.getMinutes() + \":0\" + today.getSeconds();\n    }\n    else {\n      document.getElementById(\"currTime\").innerHTML = (today.getHours() % 12 || 12) + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n    }\n\n  }, 1000)\n\n  $(window).scroll(function(){\n    for(var i = 1; i <= document.getElementsByClassName('question').length; i++) {\n      var elem = document.getElementById(i);\n      var docViewTop = $(window).scrollTop();\n      var docViewBottom = docViewTop + $(window).height();\n\n      var elemTop = $(elem).offset().top;\n      var elemBottom = elemTop + $(elem).height();\n\n      var isInView = ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n\n      if (isInView){\n        document.getElementsByClassName(i)[0].style.bottom = '25px';\n        document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n\n        var text = document.getElementsByClassName(i)[0].childNodes[1];\n        document.getElementsByClassName(i)[0].innerHTML = \"&#x25CF;\"\n        document.getElementsByClassName(i)[0].appendChild(text);\n        document.getElementsByClassName(i)[0].childNodes[1].style.color = \"white\";\n        document.getElementsByClassName(i)[0].childNodes[1].style.right = \"22.5px\";\n\n        setTimeout(function(){\n          if(document.getElementsByClassName(i)[0] != undefined) {\n            document.getElementsByClassName(i)[0].style.bottom = '20px';\n            document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n          }\n        }, 3000);\n\n      }\n      else {\n        if(canChangeCircle) {\n          document.getElementsByClassName(i)[0].style.bottom = '20px';\n          document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n\n          var text = document.getElementsByClassName(i)[0].childNodes[1];\n          document.getElementsByClassName(i)[0].innerHTML = \"&#x25CC;\"\n          document.getElementsByClassName(i)[0].appendChild(text);\n          document.getElementsByClassName(i)[0].childNodes[1].style.color = \"black\";\n          document.getElementsByClassName(i)[0].childNodes[1].style.right = \"22.5px\";\n        }\n      }\n    }\n  });\n};\n\nfunction submitFeedbackForm() {\n  var text = document.getElementById('form-text').value;\n\n  var teacher = sessionStorage.getItem('teacher');\n  var className = sessionStorage.getItem('className');\n  var examCode = sessionStorage.getItem('ExamCode');\n\n  firebase.database().ref(\"Teachers/\" + teacher + \"/Classes/\" + className + \"/Exams/\" + examCode + \"/feedback\").push(text);\n\n  swal(\"Thanks!\", \"Your response has been recorded!\", 'success');\n  document.getElementById('form-text').value = \"\";\n}\n\n//initialize key with random val\nfunction initKey() {\n  var finalString;\n  var i, arr = [];\n  for (i = 0; i < 25; i++) {\n      arr[i] = i + 1;\n  }\n  arr.sort(function () {\n      return Math.random() - 0.25;\n  });\n\n  for(var j = 0; j < arr.length; j++) {\n    finalString = arr[j] + finalString + \"\";\n  }\n  return finalString.replace('NaN', '');\n}\n\n//function to remove all class='active'\nfunction removeAllActive() {\n  document.getElementsByTagName(\"LI\")[0].className = \"\";\n  document.getElementsByTagName(\"LI\")[1].className = \"\";\n  document.getElementsByTagName(\"LI\")[2].className = \"\";\n}\n\ndocument.getElementById(\"nav-toggle\").onclick = function() {\n  if(document.getElementById('nav-menu').style.display == \"initial\"){\n    document.getElementById('nav-menu').style.display = \"none\";\n  }\n  else {\n    document.getElementById('nav-menu').style.display = \"initial\";\n  }\n}\n\n// remove dropdown if screen size can handle navbar\nfunction removeDropDown(x) {\n if (x.matches) { // If media query matches\n   document.getElementById('dropdown').style.display = \"none\";\n\n   for(var i = 0; i < document.getElementsByClassName('navB').length; i++) {\n     document.getElementsByClassName('navB')[i].style.display = \"initial\";\n   }\n }\n else {\n   document.getElementById('dropdown').style.display = \"initial\";\n   for(var i = 0; i < document.getElementsByClassName('navB').length; i++) {\n     document.getElementsByClassName('navB')[i].style.display = \"none\";\n   }\n }\n}\n\nvar x = window.matchMedia(\"(min-width: 730px)\")\nremoveDropDown(x) // Call listener function at run time\nx.addListener(removeDropDown) // Attach listener function on state changes\n\n\n//function to switch displays based on what user clicks\nfunction display(title) {\n  if(title == '<a href=\"#\">Ping-Pong</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"initial\";\n    document.getElementById('leaderboard').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Home</a>') {\n    document.getElementById('main').style.display = \"initial\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.body.style.background = '#1b1b1d';\n  }\n  else if(title == '<a href=\"#\">Leaderboard</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"initial\";\n    document.body.style.background = 'white';\n    populateLeaderboard();\n  }\n  document.getElementById('nav-menu').style.display = \"none\";\n}\n\n// search LB\nfunction searchLeaderboard() {\n  var input, filter, ul, tr, a, i, txtValue;\n\n  input = document.getElementById(\"lb-search\");\n  tr = document.getElementById('leaderboard').getElementsByClassName(\"name\");\n\n  for (i = 0; i < tr.length; i++) {\n    if(tr[i].innerHTML == input.value) {\n      tr[i].style.border = \"1px solid black\";\n      tr[i].scrollIntoView({behavior: \"smooth\"});\n    }\n  }\n}\n\nfunction getStudent(id) {\n  students = mergeSort(students);\n  //binary search for finding ID pos\n  var low  = 0 , high = students.length -1 ,mid ;\n  while (low <= high){\n      mid = Math.floor((low+high)/2);\n      if(students[mid].split(\";\")[0]==id) return students[mid];\n      else if (students[mid].split(\";\")[0]<id) low = mid+1;\n      else high = mid-1;\n  }\n  return -1 ;\n}\n\n//implement merge sort\nfunction mergeSort (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return merge(\n    mergeSort(left),\n    mergeSort(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction merge (left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\";\")[0] < right[indexRight].split(\";\")[0]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n// function to retieve and analyze code\nfunction submitExamCode() {\n  var code = document.getElementById('inputExamCode').value.toUpperCase();\n  var data = findCode(code);\n\n  if(code.length == 5 && (!/[~!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g.test(code)) ) {\n    document.getElementById('exam-info').innerHTML = \"\";\n    if(data == null) {\n      swal(\"Invalid exam code!\", \"Check for special characters and make sure the length is at least 5\", \"error\");\n    }\n\n    else if(data.split(\";\")[0] == code) {\n      sessionStorage.setItem(\"teacher\", data.split(\";\")[1]);\n      document.getElementById('exam-info').innerHTML = data.split(\";\")[3] + \" | \" + data.split(\";\")[2];\n      document.getElementById('id-input').style.display = 'initial';\n\n      getCodeLetter(code, data.split(\";\")[1], data.split(\";\")[2])\n      stopEnter = true;\n    }\n  }\n}\n\nfunction getCodeLetter(code, teacher, className) {\n  firebase.database().ref(\"Teachers/\" + teacher + \"/Classes/\" + className).once('value', function(snapshot) {\n    for(exam in snapshot.val().Exams) {\n      console.log(exam)\n      if(exam.substring(1) == code) {\n        sessionStorage.setItem('ExamCode', exam);\n      }\n    }\n  });\n}\n\nfunction retrieveName() {\n  var taken = false;\n  var id = document.getElementsByClassName(\"ID\")[0].value;\n\n  if(id.length == 5){\n    var i = 0;\n    for(var x = 0; x < examCodes.length; x++){\n      var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n      var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n      if(plaintext.split(\";\")[0] == sessionStorage.getItem('ExamCode').substring(1)){\n        i = x;\n        break;\n      }\n    }\n\n    var teacher = CryptoJS.AES.decrypt(examCodes[i], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n    document.getElementById('userName').innerHTML = \"\";\n\n    firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/taken\").once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.val() == id) {\n          taken = true;\n        }\n      });\n      if(!taken || taken) {\n        document.getElementById('userName').style.color = \"black\";\n        sessionStorage.setItem('idNum', id);\n        firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Students\").once('value', function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            if(childSnapshot.val().split(\";\")[0] == id) {\n              document.getElementById('userName').innerHTML = childSnapshot.val().split(\";\")[1];\n              document.getElementById('proceed').style.display = \"initial\";\n              document.getElementById('recognition').style.bottom = \"-10px\";\n            }\n          });\n        });\n\n        if(document.getElementById('userName').innerHTML == \"\") {\n          document.getElementById('userName').innerHTML = \"Not Found!\"\n        }\n      }\n\n      else {\n        document.getElementById('userName').innerHTML = \"You Have Taken This Exam Already!\";\n        document.getElementById('userName').style.color = \"red\";\n      }\n    });\n  }\n}\n\n//function to make sure exam code is valid\nfunction findCode(code) {\n  var exists = false;\n  var data = \"\";\n\n  for(var x = 0; x < examCodes.length; x++){\n    var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n    if(plaintext.split(\";\")[0] == code){\n      return plaintext;\n    }\n  }\n\n  return null;\n}\n\n// function to display quiz to student\nfunction displayQuiz() {\n  var code = sessionStorage.getItem(\"ExamCode\");\n  var teacher = sessionStorage.getItem(\"teacher\");\n\n  sessionStorage.setItem(\"StudentName\", document.getElementById('userName').innerHTML);\n  var i = 0;\n\n  for(var x = 0; x < examCodes.length; x++){\n    var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n    if(plaintext.split(\";\")[0] == code.substring(1) && plaintext.split(\";\")[1] == teacher){\n      i = x;\n      break;\n    }\n  }\n\n  var teacher = CryptoJS.AES.decrypt(examCodes[i], key);\n  var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n  sessionStorage.setItem(\"className\", plaintext.split(\";\")[2]);\n\n  document.getElementById('main').style.display = \"none\";\n  document.getElementById('navigation').style.display = \"none\";\n  document.getElementById('display-exam').style.display = \"initial\";\n\n  document.body.style.background = \"white\";\n  document.body.style.overflow = \"scroll\";\n  populateExam(code, firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Exams/\" + code));\n  // toggleFullScreen();\n\n\n  // listen for alt+tab changes and act upon them\n  window.onblur = function() {\n    toggleFullScreen();\n  }\n\n  canCount = true;\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\")).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val().examCode != undefined) {\n        sessionStorage.setItem(\"timeLimit\", childSnapshot.val().examTotalMins);\n      }\n    });\n  });\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/taken\").push(sessionStorage.getItem('idNum'));\n}\n\n//pull and populate exam\nfunction populateExam(code, ref) {\n  firebase.database().ref(ref).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      var val = childSnapshot.val();\n\n      if(val.examCode != undefined){\n        var counter = 0;\n\n        document.getElementById('exam-code').innerHTML = val.examCode + \" | \" + sessionStorage.getItem(\"StudentName\");\n\n        if(val.examDate.split(\"-\")[1] != null) {\n          document.getElementById('date').innerHTML = val.examTeacher + \" | \" + val.examDate.split(\"-\")[1] + \"-\" + val.examDate.split(\"-\")[2] + \"-\" + val.examDate.split(\"-\")[0];\n        }\n        else {\n          var dateJS = new Date();\n          document.getElementById('date').innerHTML = val.examTeacher + \" | \" + (dateJS.getMonth()+1)+'-'+dateJS.getDate()+'-'+dateJS.getFullYear();\n        }\n\n        document.getElementById('description').value = val.examDescription;\n\n        var title = val.examTitle;\n        if(title == \"\") {\n          title = \"Untitled\";\n        }\n        document.getElementById('nameOfExam').innerHTML = title;\n\n        document.getElementsByClassName('points')[0].innerHTML = val.examTotalPoints;\n        document.getElementsByClassName('time')[0].innerHTML = val.examTotalMins;\n\n        $(document.getElementById('finalDiv')).empty();\n\n        for(var i = 0; i < Object.keys(val.questions).length; i++) {\n          done.push(0);\n\n          var localQuestions = document.getElementsByClassName('question');\n          var question = childSnapshot.val().questions[i];\n\n          createQuestion(true, Object.keys(question.choices).length);\n          createQuestionTracker(i + 1, true);\n\n          localQuestions[i].childNodes[1].value = question.title;\n          localQuestions[i].childNodes[2].childNodes[1].innerHTML = question.points;\n\n          if(question.imgSrc != \"\") {\n            var src = question.imgSrc;\n            localQuestions[i].childNodes[2].childNodes[3].style.display = \"initial\";\n            localQuestions[i].childNodes[2].childNodes[3].onclick = function() {\n              swal({\n                icon: src,\n                text: question.imgShortDescription,\n                className: \"imgView\"\n              });\n            }\n          }\n\n          changeQuestionType(question.type, i);\n\n          if(question.type == \"mc\") {\n            var multiple = question.multiple == \"true\";\n            for(var j = 0; j < Object.keys(question.choices).length; j++){\n              if(question.choices[j].value != undefined){\n                localQuestions[i].childNodes[3].childNodes[j].childNodes[1].innerHTML = (question.choices[j].value);\n              }\n              else {\n                localQuestions[i].childNodes[3].childNodes[j].childNodes[1].innerHTML = (question.choices[j]);\n              }\n            }\n\n            if(question.multiple == \"true\") {\n              changeNames(localQuestions[i]);\n\n              var span = document.createElement('span');\n              span.style.fontSize = \"13px\";\n              span.style.paddingLeft = \"20px\";\n              span.innerHTML = \"You may select more than one answer for this question\";\n\n              localQuestions[i].childNodes[2].appendChild(span)\n            }\n          }\n\n          else if(question.type == \"matching\"){\n            document.getElementsByClassName('matching')[i].childNodes[0].value = question.numBoxes;\n            for(var j = 0; j < question.numBoxes; j++) {\n              createMatchingElement(document.getElementsByClassName('matching-wrapper')[i], j + 1);\n            }\n\n            var localBoxes = document.getElementsByClassName('matchingbox');\n            for(var k = 0; k < localBoxes.length; k++) {\n              localBoxes[k].childNodes[1].value = question.choices[k].split(\";\")[0];\n              localBoxes[k].childNodes[3].value = question.choices[k].split(\";\")[1];\n            }\n          }\n        }\n      }\n    });\n  });\n   setTimeout(function(){\n     var questions = (document.getElementsByClassName('question'));\n     var exam = document.getElementById('exam');\n\n     //convert HTMLcollection to array and shuffle\n     originalOrder = questions;\n     var questionsArr = shuffle(Array.prototype.slice.call( questions ));\n\n     $('.questionBr').remove(); $('.questionHr').remove(); $('.question').remove();\n\n     for(var m = 0; m < questionsArr.length; m++) {\n       exam.appendChild(questionsArr[m]);\n       exam.appendChild(document.createElement('br'));\n       exam.appendChild(document.createElement('hr'));\n     }\n     restructureQuestions();\n   }, 500);\n}\n\nfunction changeNames(question) {\n  var choices = question.childNodes[3].childNodes;\n\n  for(var i = 0; i < choices.length; i++) {\n    choices[i].childNodes[0].name = i;\n  }\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n//function to restructure if question is deleted in the middle\nfunction restructureQuestions() {\n  var questions = document.getElementsByClassName('question');\n\n  for(var i = 0; i < questions.length; i++) {\n    var question = questions[i];\n\n    question.childNodes[0].innerHTML = i + 1 + \". \"\n    question.id = i + 1;\n  }\n}\n\n//function to dynamically change type of question\nfunction changeQuestionType(val, i) {\n  if(val == \"mc\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"initial\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n  }\n  else if(val == \"fr\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createFreeResponse());\n  }\n  else if(val == \"tf\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createTrueFalse());\n  }\n  else if(val == \"matching\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createMatching());\n  }\n}\n\n\n// True | False\nfunction createTrueFalse() {\n  var label = document.createElement('label');\n  label.id = \"label\";\n  label.className = \"tf\";\n\n  var true_input = document.createElement('input');\n  true_input.style.outline = \"none\";\n  true_input.type = \"radio\";\n  true_input.className = \"option-input radio\";\n  true_input.name = \"tf_radio\"\n\n  var false_input = document.createElement('input');\n  false_input.style.outline = \"none\";\n  false_input.type = \"radio\";\n  false_input.className = \"option-input radio\";\n  false_input.style.marginLeft = \"10%\";\n  false_input.name = \"tf_radio\"\n\n  var true_span = document.createElement('span');\n  true_span.innerHTML = \" True\";\n  true_span.style.marginLeft = \"10px\";\n  true_span.style.color = \"gray\"\n  true_span.style.fontWeight = 'normal';\n\n  var false_span = document.createElement('span');\n  false_span.innerHTML = \" False\";\n  false_span.style.marginLeft = \"10px\";\n  false_span.style.color = \"gray\"\n  false_span.style.fontWeight = 'normal';\n\n  label.appendChild(true_input);\n  label.appendChild(true_span)\n\n  label.appendChild(false_input);\n  label.appendChild(false_span)\n\n  return label;\n}\n\n// function for Free-Response\nfunction createFreeResponse() {\n  var ta = document.createElement('textarea');\n\n  // read when user changes text area\n  ta.oninput = function() {\n    setTimeout(function(){\n      done[parseInt(ta.parentNode.id) - 1] = 1;\n\n      if(done.indexOf(0) == -1) {\n        document.getElementById('submit-exam').style.display = 'initial';\n        document.getElementById('submit-exam-disabled').style.display = \"none\";\n      }\n    }, 350)\n  }\n\n  ta.className = \"fr\";\n  ta.placeholder = \"NOTE: This question requires manual grading\";\n  return ta;\n}\n\n// function to create matching boxes\nfunction createMatching(){\n  var matchingWrapper = document.createElement('div');\n  matchingWrapper.className = \"matching-wrapper\";\n\n  var matching = document.createElement('div');\n  matching.className = 'matching';\n\n  var hr = document.createElement('hr');\n  hr.style.width = '67%';\n\n  var questions = document.createElement('span');\n  questions.innerHTML = 'Questions';\n  questions.style.marginLeft = \"1.5vw\";\n\n  var results = document.createElement('span');\n  results.innerHTML = 'Results (Will Be Randomized)'\n  results.style.marginLeft = \"22.5vw\";\n\n  var numElements = document.createElement('input');\n  numElements.type = 'textbox';\n  numElements.placeholder = '# Of Elements...';\n  numElements.style.borderRadius = \"5px\";\n  numElements.style.padding = \"5px\";\n  numElements.style.border= \"1px solid black\";\n  numElements.style.fontSize = \"15px\";\n\n  numElements.onkeyup = function() {\n    $(matchingWrapper).empty();\n\n    if(this.value <= 20) {\n      for(var i = 0; i < this.value; i++) {\n        createMatchingElement(matchingWrapper, i + 1);\n      }\n    }\n    else {\n      this.value = \"\";\n\n      var alert = document.createElement('div');\n      alert.innerHTML = \"20 Elements Max!\"\n      alert.style.textAlign = \"center\";\n      alert.style.width = \"100%\";\n      alert.style.position = \"fixed\";\n      alert.style.zIndex = \"100000\";\n      alert.style.top = \"0\";\n      alert.className = \"alert alert-danger\";\n      alert.role = \"alert\";\n\n      document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n      setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n    }\n  }\n\n  var newBox = document.createElement('button');\n  newBox.id = \"newBox\";\n  newBox.innerHTML = \"New Element!\";\n\n  newBox.onclick = function() {\n    createMatchingElement(matchingWrapper, document.getElementsByClassName('matchingbox').length + 1);\n    saveExam(false);\n  }\n\n  matching.appendChild(numElements);\n  matching.appendChild(hr);\n  matching.appendChild(questions); matching.appendChild(results);\n  matching.appendChild(matchingWrapper);\n\n  matching.appendChild(document.createElement('br'));\n  matching.appendChild(newBox);\n\n  return matching;\n}\n\n// function to create matching Elements\nfunction createMatchingElement(div, i) {\n  var box = document.createElement('div');\n  box.className = 'matchingbox';\n\n  var labelTrash = document.createElement('span');\n  labelTrash.className = \"glyphicon glyphicon-minus\";\n  labelTrash.style.display = \"none\";\n  labelTrash.style.marginRight = \"5px\";\n  labelTrash.style.color = \"#f25555\";\n\n  $(labelTrash).click(function(){\n    this.parentNode.remove();\n    saveExam(false);\n    restructureBoxes();\n  });\n\n  $(box).hover(function(){\n    this.childNodes[0].style.display = \"initial\";\n  }, function(){\n    this.childNodes[0].style.display = \"none\";\n  });\n\n  $(labelTrash).hover(function(){\n    this.style.cursor=\"pointer\";\n    this.style.color = \"#f25555\";\n  }, function(){\n\n  });\n\n  box.appendChild(labelTrash)\n\n  var num = document.createElement('span');\n  num.innerHTML = i + \".\";\n  num.style.marginRight = \"10px\";\n  num.style.fontSize = \"15px\";\n\n  box.appendChild(num);\n\n  var input = document.createElement('input');\n  input.type = 'textbox';\n  input.style.marginTop = \"20px\";\n  input.style.textAlign = \"center\";\n  input.placeholder = \"1 + 1\";\n  input.id = 'result';\n\n  var arrow = document.createElement('span');\n  arrow.className = 'glyphicon glyphicon-arrow-right';\n  arrow.style.paddingLeft = '5vw';\n\n  var result_input = document.createElement('input');\n  result_input.type = 'textbox';\n  result_input.style.marginLeft = \"5vw\";\n  result_input.style.textAlign = \"center\";\n  result_input.placeholder = \"2\";\n  result_input.id = 'result';\n\n  box.appendChild(input);\n  box.appendChild(arrow);\n  box.appendChild(result_input);\n  div.appendChild(box);\n}\n\n// function to create HTML question\nfunction createQuestion(loading, numAnswerChoices) {\n  var exam = document.getElementById('exam');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n  question.dataset.original = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n  hr.className = \"questionHr\";\n\n  var br = document.createElement('br');\n  br.className = \"questionBr\";\n\n  var question_title = document.createElement('input');\n  question_title.readOnly = true;\n  question_title.type = \"text\";\n  question_title.placeholder = \"Ex: What's Your Name?\";\n  question_title.id = \"question-title\";\n\n  question.appendChild(num);\n  question.appendChild(question_title);\n\n  var viewImage = document.createElement(\"a\");\n  viewImage.innerHTML = \"View Image\";\n  viewImage.style.marginLeft = \"10px\";\n  viewImage.style.display = \"none\";\n\n  var points = document.createElement('div');\n  points.id = \"points\";\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('span');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.placeholder = \"Ex: 4\";\n\n  var finishingSpan =  document.createElement('span');\n  finishingSpan.innerHTML = \" points)\";\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n  points.appendChild(viewImage);\n\n  question.appendChild(points);\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.name = \"group\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var answer_choice = document.createElement('span');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n\n    label.onmouseup = function() {\n      if(this.childNodes[0].checked) {\n        var button = this.childNodes[0];\n        setTimeout(function(){ button.checked = false; }, 150);\n      }\n    }\n\n    answer_choices.appendChild(label);\n  }\n  question.appendChild(answer_choices);\n\n  exam.appendChild(question);\n  exam.appendChild(br);\n  exam.appendChild(hr);\n\n\n  if(!loading) {\n    window.scroll({ top: question.getBoundingClientRect().top + window.scrollY, behavior: 'smooth' });\n    createQuestionTracker(document.getElementsByClassName('question').length, false);\n  }\n}\n\nfunction createQuestionTracker(i, populating) {\n  if(i == 2 && !populating) {\n    createQuestionTracker(1, false);\n  }\n  var manager = document.getElementById('questionNums');\n  var finalDiv = document.getElementById('finalDiv');\n\n  var tracker = document.createElement('span');\n  tracker.innerHTML = \"&#x25CC;\"\n  tracker.style.fontSize = \"60px\";\n  tracker.style.position = \"relative\";\n  tracker.style.bottom = \"20px\";\n  tracker.style.color = \"#58f\";\n  tracker.style.left = \"125px\";\n\n  tracker.id = \"question-tracker\";\n  tracker.className = i;\n\n  $(tracker).hover(function(){\n    var text = tracker.childNodes[1];\n\n    if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n      text.style.right = \"22.5px\";\n    }\n\n    this.style.cursor = \"pointer\";\n    this.innerHTML = \"&#x25CF;\";\n    this.appendChild(text);\n\n    this.style.bottom = '25px';\n    this.style.transition = 'all .5s';\n\n    tracker.childNodes[1].style.color = \"white\";\n  }, function(){\n    var text = tracker.childNodes[1];\n    this.innerHTML = \"&#x25CC;\";\n\n    if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n      text.style.right = \"27.5px\";\n    }\n\n    this.style.bottom = '20px';\n    this.style.transition = 'all .5s';\n\n    this.appendChild(text);\n    tracker.childNodes[1].style.color = \"black\";\n  });\n\n  tracker.onclick = function() {\n    document.getElementById(i).scrollIntoView({block: \"center\"});\n  }\n\n  var center = document.createElement('center');\n  var text = document.createElement('div');\n  text.id = \"text\";\n  text.innerHTML = i;\n\n  if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n    text.style.right = \"27.5px\";\n  }\n\n  tracker.appendChild(text);\n\n  finalDiv.appendChild(tracker);\n  manager.appendChild(finalDiv);\n  manager.scrollTop = (manager.clientHeight + manager.clientHeight);\n}\n\n//toggleFullScreen\nfunction toggleFullScreen() {\n  if (!document.fullscreenElement) {\n    document.addEventListener('contextmenu', event => event.preventDefault());\n    document.documentElement.requestFullscreen();\n  }\n  else {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    }\n  }\n}\n\n//function to end test\nfunction endTest() {\n  window.location.href = window.location.href;\n}\n\nfunction getChecked(question) {\n  var type = question.childNodes[Object.keys(question.childNodes)[question.childNodes.length - 1]];\n  var checked = [];\n\n  if(type.className == \"mc\") {\n    for(var i = 0; i < type.childNodes.length; i++) {\n      if(type.childNodes[i].childNodes[0].checked == true) {\n        checked.push(i);\n      }\n    }\n    return checked;\n  }\n\n  else if(type.className == \"tf\") {\n    if(type.childNodes[0].checked) {\n      return 0;\n    }\n    else {\n      return 1;\n    }\n  }\n\n  else if(type.className == \"matching\"){\n    type = \"matching\";\n    return 15;\n  }\n\n  else if(type.className == \"fr\"){\n    return type.value;\n  }\n}\n\nfunction bubbleSort(array) {\n  for(var i = 0; i < array.length; i++) {\n    for(var j = 1; j < array.length; j++) {\n      if(array[j - 1].dataset.original > array[j].dataset.original) {\n        var temp = array[j-1];\n        array[j-1] = array[j];\n        array[j] = temp;\n      }\n    }\n  }\n  return array;\n}\n\n// submit code - reroute!\nfunction submitExam() {\n  var student_answers = [];\n  var sortedArray = bubbleSort(Array.prototype.slice.call( originalOrder ));\n\n  for(var i = 0; i < sortedArray.length; i++) {\n    var question = sortedArray[i];\n    var checked = getChecked(question);\n\n    student_answers.push(i + \";\" + checked);\n  }\n\n  sessionStorage.setItem(\"student_answers\", JSON.stringify(student_answers));\n\n  document.getElementById('display-exam').style.display = \"none\";\n  document.getElementById('result').style.display = \"initial\";\n\n  displayResults();\n}\n\n// function to display results\nfunction displayResults() {\n  var answers = JSON.parse(sessionStorage.getItem('student_answers'));\n  var dbAnswers;\n  var responseStructure = {};\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\")).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.toJSON().questions != undefined) {\n        dbAnswers = childSnapshot.toJSON();\n      }\n    });\n\n    var total = 0;\n    var frTotalPoints = 0;\n\n    for(var i = 0; i < originalOrder.length; i++) {\n      var answer = \"\";\n      var fr = false;\n      var tf = false;\n\n      if(dbAnswers.questions[i].type == \"tf\") {\n        tf = true;\n        if(answers[i].split(\";\")[1] == 1) {\n          answer = \"false\";\n        }\n        else {\n          answer = \"true\";\n        }\n\n        if(answer == dbAnswers.questions[i].choices[0]){\n          total += parseInt(dbAnswers.questions[i].points);\n          createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        }\n        else {\n          createIncorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        }\n      }\n\n      else if(dbAnswers.questions[i].type == \"mc\") {\n        if(answers[i].indexOf(',') == -1) {\n          answer = parseInt(answers[i].split(\";\")[1])\n        }\n        else {\n          answer = answers[i].split(\";\")[1];\n        }\n      }\n\n      else {\n        fr = true;\n        createFrBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        frTotalPoints += parseInt(dbAnswers.questions[i].points);\n      }\n\n      if(!fr && !tf) {\n        if(typeof answer == 'string' && answer.indexOf(',') != -1) {\n          for(var k = 0; k < Object.keys(dbAnswers.questions[i].checked).length; k++) {\n            for(var s = 0; s < answer.split(\",\").length; s++) {\n              if(dbAnswers.questions[i].checked[k] == parseInt(answer.split(\",\")[s])){\n                total += parseInt(dbAnswers.questions[i].points) / answer.split(\",\").length;\n              }\n            }\n          }\n          if(total == parseInt(dbAnswers.questions[i].points)) {\n            createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], total);\n          }\n          else {\n            createPartialBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], total, parseInt(dbAnswers.questions[i].points));\n          }\n        }\n        else {\n          if(answer == dbAnswers.questions[i].checked) {\n            total += parseInt(dbAnswers.questions[i].points);\n            createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n          }\n          else {\n            createIncorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n          }\n        }\n      }\n    }\n\n    var studentExamData = {\n      \"score\" : ((total / (dbAnswers.examTotalPoints - frTotalPoints)) * 100).toFixed(1),\n      \"time\" : timer,\n      \"answers\" : answers,\n      \"name\" : sessionStorage.getItem('StudentName'),\n      \"totalScore\" : (total / (dbAnswers.examTotalPoints) * 100).toFixed(1)\n    }\n\n    firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/responses/\" + sessionStorage.getItem('StudentName')).push(studentExamData);\n\n    var min = \" Minutes\"\n\n    if(timer == 1) {\n      min = \" Minute\"\n    }\n\n    document.getElementById('score').innerHTML = studentExamData.score + \"%\";\n    document.getElementById('score-num').innerHTML = (total + \" / \" + (dbAnswers.examTotalPoints - frTotalPoints) + \" in \" + timer + min);\n\n  });\n\n\n   var result = document.getElementById('result');\n}\n\nfunction createFrBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#798893\";\n  box.style.color = \"white\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"Free Response Questions Require Manual Grading (Points Possible: \" + points + \")\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createPartialBox(title, num, points, totalPoints) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#eac07c\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + points + \" / \" + totalPoints + \" Points For This Question!\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createCorrectBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#84f277\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + points + \" / \" + points + \" Points For This Question!\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createIncorrectBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#cc2d2d\";\n  box.style.color = \"white\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + 0 + \" / \" + points + \" Points For This Question\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\n// window.onbeforeunload = function() {\n//    return \"Dude, are you sure you want to leave? Think of the kittens!\";\n// }\n\n// if user hits enter, check exam code\ndocument.addEventListener(\"keypress\", function(e) {\n  if (e.keyCode === 13 && !stopEnter) {\n    submitExamCode();\n  }\n}, false);\n\n//throw key away\nkey = \"\";\n"]}