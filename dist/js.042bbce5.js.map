{"version":3,"sources":["assets/js/index.js"],"names":["examCodes","students","done","stopEnter","canCount","canChangeCircle","key","initKey","timer","originalOrder","onSignIn","googleUser","document","URL","indexOf","window","location","profile","getBasicProfile","localStorage","setItem","JSON","stringify","getId","getName","getImageUrl","getEmail","href","substring","signOut","gapi","auth2","getAuthInstance","then","sessionStorage","removeItem","finalString","i","arr","sort","Math","random","j","length","replace","removeAllActive","getElementsByTagName","className","removeDropDown","x","matches","getElementById","style","display","getElementsByClassName","leaverCount","onfullscreenchange","event","timerInterval","fullscreenElement","Swal","fire","title","html","confirmButtonText","cancelButtonText","showCancelButton","showConfirmButton","allowEscapeKey","allowEnterKey","onBeforeOpen","setInterval","getContent","querySelector","textContent","getTimerLeft","onClose","clearInterval","result","value","endTest","toggleFullScreen","dismiss","DismissReason","firebase","database","ref","on","snapshot","forEach","childSnapshot","code","CryptoJS","AES","encrypt","val","push","onload","$","isNaN","parseInt","parentNode","id","setTimeout","innerHTML","getItem","swal","reload","today","Date","getSeconds","getHours","getMinutes","scroll","elem","docViewTop","scrollTop","docViewBottom","height","elemTop","offset","top","isInView","bottom","transition","text","childNodes","appendChild","color","right","undefined","onclick","matchMedia","body","background","populateLeaderboard","searchLeaderboard","input","tr","border","scrollIntoView","behavior","getStudent","low","mid","high","mergeSort","floor","split","middle","left","slice","merge","indexLeft","indexRight","concat","submitExamCode","toUpperCase","data","findCode","test","getCodeLetter","teacher","once","exam","Exams","console","log","retrieveName","taken","decryptedBytes","decrypt","plaintext","toString","enc","Utf8","exists","displayQuiz","overflow","populateExam","onblur","examCode","examTotalMins","examDate","examTeacher","dateJS","getMonth","getDate","getFullYear","examDescription","examTitle","examTotalPoints","empty","Object","keys","questions","localQuestions","question","createQuestion","choices","createQuestionTracker","points","imgSrc","src","icon","imgShortDescription","changeQuestionType","type","multiple","changeNames","span","createElement","fontSize","paddingLeft","numBoxes","createMatchingElement","localBoxes","k","questionsArr","shuffle","Array","prototype","call","remove","m","restructureQuestions","name","array","currentIndex","temporaryValue","randomIndex","createFreeResponse","createTrueFalse","createMatching","label","true_input","outline","false_input","marginLeft","true_span","fontWeight","false_span","ta","oninput","placeholder","matchingWrapper","matching","hr","width","results","numElements","borderRadius","padding","onkeyup","alert","textAlign","position","zIndex","role","newBox","saveExam","div","box","labelTrash","marginRight","click","restructureBoxes","hover","cursor","num","marginTop","arrow","result_input","loading","numAnswerChoices","dataset","original","br","question_title","readOnly","viewImage","numPoints","finishingSpan","answer_choices","answer_choice","onmouseup","checked","button","getBoundingClientRect","scrollY","populating","manager","finalDiv","tracker","navigator","userAgent","toLowerCase","vendor","block","center","clientHeight","exitFullscreen","addEventListener","preventDefault","documentElement","requestFullscreen","getChecked","bubbleSort","temp","submitExam","student_answers","sortedArray","displayResults","displayFeedbackForm","answers","dbAnswers","parse","toJSON","total","frTotalPoints","answer","fr","tf","createCorrectBox","createIncorrectBox","createFrBox","s","createPartialBox","studentExamData","toFixed","min","score","dataDiv","float","pointsAwarded","paddingRight","totalPoints","addListener","e","keyCode"],"mappings":"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","file":"js.042bbce5.js","sourceRoot":"..","sourcesContent":["var examCodes = [], students = [], done = [];\nvar stopEnter = false, canCount = false, canChangeCircle = true;\nvar key = initKey(); var timer = 0; var originalOrder = [];\n\n(function() {\n    // Expose to global\n    var leaverCount = 0;\n\n    //code to call when document leaves full screen\n    document.onfullscreenchange = function ( event ) {\n      if(document.fullscreenElement == null) {\n        let timerInterval;\n        if(leaverCount <= 5) {\n            Swal.fire({\n              title: 'Are You Sure You Want To Leave?',\n              html: 'You have <strong></strong> seconds to go back to your test or the test ends and your score is recorded! You can open this dialog <span></span> more times',\n              confirmButtonText: 'Yes, end it!',\n              cancelButtonText: 'No, Go Back!',\n              showCancelButton: true,\n              showConfirmButton: true,\n              allowEscapeKey: false,\n              allowEnterKey: false,\n              timer: 10000,\n              onBeforeOpen: () => {\n                timerInterval = setInterval(() => {\n                  Swal.getContent().querySelector('strong').textContent = Swal.getTimerLeft() / 1000;\n                }, 100)\n                Swal.getContent().querySelector('span').textContent = 4 - leaverCount;\n              },\n              onClose: () => {\n                clearInterval(timerInterval)\n              }\n              }).then((result) => {\n                if (!result.value) {\n                  toggleFullScreen();\n\n                  leaverCount++;\n                }\n                else if(result.value) {\n                  endTest();\n                }\n                if (result.dismiss === Swal.DismissReason.timer) {\n                  endTest();\n                }\n            });\n          }\n          else{\n            endTest();\n          }\n      };\n    }\n\n})();\n\n// var data;\n// \t$.ajax({\n// \t  type: \"GET\",\n// \t  url: \"data.csv\",\n// \t  dataType: \"text\",\n// \t  success: function(response)\n// \t  {\n//   \t\tdata = $.csv.toArrays(response);\n//       for(var i = 0; i < data.length; i++){\n//         var id = data[i][0];\n//         var name = data[i][3] + \" \" + data[i][2];\n//         var className = data[i][10];\n//\n//         // firebase.database().ref(\"Teachers/Zakariya Sattar/Classes/\" + className + \"/Students\").push(id + \";\" + name);\n//\n//         var json = {\n//           answers: [\"0:\" + Math.floor(1 + Math.random()*(3)), \"1:\" + Math.floor(0 + Math.random()*(2))],\n//           name: name,\n//           score: Math.floor((Math.random() * 25) + 75),\n//           time: 5,\n//           totalScore: Math.floor((Math.random() * 5) + 15)\n//         }\n//\n//         firebase.database().ref(\"Teachers/Zakariya Sattar/Classes/Advance App Development/Exams/YSDIMI/responses/\" + name).push(json);\n//       }\n// \t  }\n// });\n\n// pull all exam codes then encrypt them\nfirebase.database().ref('exam-codes').on('value', function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n    var code = CryptoJS.AES.encrypt(childSnapshot.val(), key);\n    examCodes.push(code);\n  });\n});\n\n// pull all students then encrypt them\nfirebase.database().ref('Students').on('value', function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n    // no need for encryption because no active storage\n    students.push(childSnapshot.val());\n  });\n});\n\n// code to run when google user signs in\nfunction onSignIn(googleUser) {\n  if(document.URL.indexOf(\"?\") == -1){\n    window.location = \"teacher.html\";\n\n    var profile = googleUser.getBasicProfile();\n    localStorage.setItem(\"userInfo\", JSON.stringify([profile.getId(), profile.getName(), profile.getImageUrl(), profile.getEmail()]));\n  }\n  else {\n    window.location.href = document.URL.substring(0, document.URL.indexOf(\"?\"));\n    localStorage.setItem(\"userInfo\", \"\");\n    signOut();\n  }\n}\n\n// request signout\nfunction signOut() {\n  var auth2 = gapi.auth2.getAuthInstance();\n  auth2.signOut().then(function () {\n    sessionStorage.removeItem('userInfo');\n  });\n}\n\n// for displayQuiz()\nwindow.onload = function() {\n  $(\"#create-exam\").on('change', \"input:radio\", function() {\n    if(!isNaN(parseInt(this.parentNode.parentNode.parentNode.id) - 1)) {  //MC\n      done[parseInt(this.parentNode.parentNode.parentNode.id) - 1] = 1;\n    }\n    else {  //\n      done[parseInt(this.parentNode.parentNode.id) - 1] = 1;\n    }\n\n    if(done.indexOf(0) == -1) {\n      document.getElementById('submit-exam').style.display = 'initial';\n      document.getElementById('submit-exam-disabled').style.display = \"none\";\n    }\n  });\n\n  setTimeout(function(){ document.getElementById('timeLeftInExam').innerHTML = sessionStorage.getItem(\"timeLimit\") + \" minutes\";  }, 1500);\n\n  setInterval(function(){\n    if(canCount) {\n      if(timer == (sessionStorage.getItem(\"timeLimit\") - 5)) {\n        swal(\"Timer Warning\", \"5 minutes remaining in this exam\", \"info\");\n      }\n      if(timer <= sessionStorage.getItem(\"timeLimit\")) {\n        timer++;\n        document.getElementById('timeLeftInExam').innerHTML = sessionStorage.getItem(\"timeLimit\") - timer + \" minutes\";\n      }\n      else { // if timer runs out\n        window.location.reload();\n      }\n    }\n  }, 60000);\n\n  setInterval(function(){\n    var today = new Date();\n    if(today.getSeconds() < 10) {\n      document.getElementById(\"currTime\").innerHTML = (today.getHours() % 12 || 12) + \":\" + today.getMinutes() + \":0\" + today.getSeconds();\n    }\n    else {\n      document.getElementById(\"currTime\").innerHTML = (today.getHours() % 12 || 12) + \":\" + today.getMinutes() + \":\" + today.getSeconds();\n    }\n\n  }, 1000)\n\n  $(window).scroll(function(){\n    for(var i = 1; i <= document.getElementsByClassName('question').length; i++) {\n      var elem = document.getElementById(i);\n      var docViewTop = $(window).scrollTop();\n      var docViewBottom = docViewTop + $(window).height();\n\n      var elemTop = $(elem).offset().top;\n      var elemBottom = elemTop + $(elem).height();\n\n      var isInView = ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n\n      if (isInView){\n        document.getElementsByClassName(i)[0].style.bottom = '25px';\n        document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n\n        var text = document.getElementsByClassName(i)[0].childNodes[1];\n        document.getElementsByClassName(i)[0].innerHTML = \"&#x25CF;\"\n        document.getElementsByClassName(i)[0].appendChild(text);\n        document.getElementsByClassName(i)[0].childNodes[1].style.color = \"white\";\n        document.getElementsByClassName(i)[0].childNodes[1].style.right = \"22.5px\";\n\n        setTimeout(function(){\n          if(document.getElementsByClassName(i)[0] != undefined) {\n            document.getElementsByClassName(i)[0].style.bottom = '20px';\n            document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n          }\n        }, 3000);\n\n      }\n      else {\n        if(canChangeCircle) {\n          document.getElementsByClassName(i)[0].style.bottom = '20px';\n          document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n\n          var text = document.getElementsByClassName(i)[0].childNodes[1];\n          document.getElementsByClassName(i)[0].innerHTML = \"&#x25CC;\"\n          document.getElementsByClassName(i)[0].appendChild(text);\n          document.getElementsByClassName(i)[0].childNodes[1].style.color = \"black\";\n          document.getElementsByClassName(i)[0].childNodes[1].style.right = \"22.5px\";\n        }\n      }\n    }\n  });\n};\n\n//initialize key with random val\nfunction initKey() {\n  var finalString;\n  var i, arr = [];\n  for (i = 0; i < 25; i++) {\n      arr[i] = i + 1;\n  }\n  arr.sort(function () {\n      return Math.random() - 0.25;\n  });\n\n  for(var j = 0; j < arr.length; j++) {\n    finalString = arr[j] + finalString + \"\";\n  }\n  return finalString.replace('NaN', '');\n}\n\n//function to remove all class='active'\nfunction removeAllActive() {\n  document.getElementsByTagName(\"LI\")[0].className = \"\";\n  document.getElementsByTagName(\"LI\")[1].className = \"\";\n  document.getElementsByTagName(\"LI\")[2].className = \"\";\n}\n\ndocument.getElementById(\"nav-toggle\").onclick = function() {\n  if(document.getElementById('nav-menu').style.display == \"initial\"){\n    document.getElementById('nav-menu').style.display = \"none\";\n  }\n  else {\n    document.getElementById('nav-menu').style.display = \"initial\";\n  }\n}\n\n// remove dropdown if screen size can handle navbar\nfunction removeDropDown(x) {\n if (x.matches) { // If media query matches\n   document.getElementById('dropdown').style.display = \"none\";\n\n   for(var i = 0; i < document.getElementsByClassName('navB').length; i++) {\n     document.getElementsByClassName('navB')[i].style.display = \"initial\";\n   }\n }\n else {\n   document.getElementById('dropdown').style.display = \"initial\";\n   for(var i = 0; i < document.getElementsByClassName('navB').length; i++) {\n     document.getElementsByClassName('navB')[i].style.display = \"none\";\n   }\n }\n}\n\nvar x = window.matchMedia(\"(min-width: 730px)\")\nremoveDropDown(x) // Call listener function at run time\nx.addListener(removeDropDown) // Attach listener function on state changes\n\n\n//function to switch displays based on what user clicks\nfunction display(title) {\n  if(title == '<a href=\"#\">Ping-Pong</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"initial\";\n    document.getElementById('leaderboard').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Home</a>') {\n    document.getElementById('main').style.display = \"initial\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.body.style.background = '#1b1b1d';\n  }\n  else if(title == '<a href=\"#\">Leaderboard</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"initial\";\n    document.body.style.background = 'white';\n    populateLeaderboard();\n  }\n  document.getElementById('nav-menu').style.display = \"none\";\n}\n\n// search LB\nfunction searchLeaderboard() {\n  var input, filter, ul, tr, a, i, txtValue;\n\n  input = document.getElementById(\"lb-search\");\n  tr = document.getElementById('leaderboard').getElementsByClassName(\"name\");\n\n  for (i = 0; i < tr.length; i++) {\n    if(tr[i].innerHTML == input.value) {\n      tr[i].style.border = \"1px solid black\";\n      tr[i].scrollIntoView({behavior: \"smooth\"});\n    }\n  }\n}\n\nfunction getStudent(id) {\n  students = mergeSort(students);\n  //binary search for finding ID pos\n  var low  = 0 , high = students.length -1 ,mid ;\n  while (low <= high){\n      mid = Math.floor((low+high)/2);\n      if(students[mid].split(\";\")[0]==id) return students[mid];\n      else if (students[mid].split(\";\")[0]<id) low = mid+1;\n      else high = mid-1;\n  }\n  return -1 ;\n}\n\n//implement merge sort\nfunction mergeSort (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return merge(\n    mergeSort(left),\n    mergeSort(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction merge (left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\";\")[0] < right[indexRight].split(\";\")[0]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n// function to retieve and analyze code\nfunction submitExamCode() {\n  var code = document.getElementById('inputExamCode').value.toUpperCase();\n  var data = findCode(code);\n\n  if(code.length == 5 && (!/[~!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g.test(code)) ) {\n    document.getElementById('exam-info').innerHTML = \"\";\n    if(data == null) {\n      swal(\"Invalid exam code!\", \"Check for special characters and make sure the length is at least 5\", \"error\");\n    }\n\n    else if(data.split(\";\")[0] == code) {\n      sessionStorage.setItem(\"teacher\", data.split(\";\")[1]);\n      document.getElementById('exam-info').innerHTML = data.split(\";\")[3] + \" | \" + data.split(\";\")[2];\n      document.getElementById('id-input').style.display = 'initial';\n\n      getCodeLetter(code, data.split(\";\")[1], data.split(\";\")[2])\n      stopEnter = true;\n    }\n  }\n}\n\nfunction getCodeLetter(code, teacher, className) {\n  firebase.database().ref(\"Teachers/\" + teacher + \"/Classes/\" + className).once('value', function(snapshot) {\n    for(exam in snapshot.val().Exams) {\n      console.log(exam)\n      if(exam.substring(1) == code) {\n        sessionStorage.setItem('ExamCode', exam);\n      }\n    }\n  });\n}\n\nfunction retrieveName() {\n  var taken = false;\n  var id = document.getElementsByClassName(\"ID\")[0].value;\n\n  if(id.length == 5){\n    var i = 0;\n    for(var x = 0; x < examCodes.length; x++){\n      var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n      var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n      if(plaintext.split(\";\")[0] == sessionStorage.getItem('ExamCode').substring(1)){\n        i = x;\n        break;\n      }\n    }\n\n    var teacher = CryptoJS.AES.decrypt(examCodes[i], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n    document.getElementById('userName').innerHTML = \"\";\n\n    firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/taken\").once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.val() == id) {\n          taken = true;\n        }\n      });\n      if(!taken || taken) {\n        document.getElementById('userName').style.color = \"black\";\n        sessionStorage.setItem('idNum', id);\n        firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Students\").once('value', function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            if(childSnapshot.val().split(\";\")[0] == id) {\n              document.getElementById('userName').innerHTML = childSnapshot.val().split(\";\")[1];\n              document.getElementById('proceed').style.display = \"initial\";\n              document.getElementById('recognition').style.bottom = \"-10px\";\n            }\n          });\n        });\n\n        if(document.getElementById('userName').innerHTML == \"\") {\n          document.getElementById('userName').innerHTML = \"Not Found!\"\n        }\n      }\n\n      else {\n        document.getElementById('userName').innerHTML = \"You Have Taken This Exam Already!\";\n        document.getElementById('userName').style.color = \"red\";\n      }\n    });\n  }\n}\n\n//function to make sure exam code is valid\nfunction findCode(code) {\n  var exists = false;\n  var data = \"\";\n\n  for(var x = 0; x < examCodes.length; x++){\n    var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n    if(plaintext.split(\";\")[0] == code){\n      return plaintext;\n    }\n  }\n\n  return null;\n}\n\n// function to display quiz to student\nfunction displayQuiz() {\n  var code = sessionStorage.getItem(\"ExamCode\");\n  var teacher = sessionStorage.getItem(\"teacher\");\n\n  sessionStorage.setItem(\"StudentName\", document.getElementById('userName').innerHTML);\n  var i = 0;\n\n  for(var x = 0; x < examCodes.length; x++){\n    var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n    if(plaintext.split(\";\")[0] == code.substring(1) && plaintext.split(\";\")[1] == teacher){\n      i = x;\n      break;\n    }\n  }\n\n  var teacher = CryptoJS.AES.decrypt(examCodes[i], key);\n  var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n  sessionStorage.setItem(\"className\", plaintext.split(\";\")[2]);\n\n  document.getElementById('main').style.display = \"none\";\n  document.getElementById('navigation').style.display = \"none\";\n  document.getElementById('display-exam').style.display = \"initial\";\n\n  document.body.style.background = \"white\";\n  document.body.style.overflow = \"scroll\";\n  populateExam(code, firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Exams/\" + code));\n  // toggleFullScreen();\n\n\n  // listen for alt+tab changes and act upon them\n  window.onblur = function() {\n    toggleFullScreen();\n  }\n\n  canCount = true;\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\")).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val().examCode != undefined) {\n        sessionStorage.setItem(\"timeLimit\", childSnapshot.val().examTotalMins);\n      }\n    });\n  });\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/taken\").push(sessionStorage.getItem('idNum'));\n}\n\n//pull and populate exam\nfunction populateExam(code, ref) {\n  firebase.database().ref(ref).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      var val = childSnapshot.val();\n\n      if(val.examCode != undefined){\n        var counter = 0;\n\n        document.getElementById('exam-code').innerHTML = val.examCode + \" | \" + sessionStorage.getItem(\"StudentName\");\n\n        if(val.examDate.split(\"-\")[1] != null) {\n          document.getElementById('date').innerHTML = val.examTeacher + \" | \" + val.examDate.split(\"-\")[1] + \"-\" + val.examDate.split(\"-\")[2] + \"-\" + val.examDate.split(\"-\")[0];\n        }\n        else {\n          var dateJS = new Date();\n          document.getElementById('date').innerHTML = val.examTeacher + \" | \" + (dateJS.getMonth()+1)+'-'+dateJS.getDate()+'-'+dateJS.getFullYear();\n        }\n\n        document.getElementById('description').value = val.examDescription;\n\n        var title = val.examTitle;\n        if(title == \"\") {\n          title = \"Untitled\";\n        }\n        document.getElementById('nameOfExam').innerHTML = title;\n\n        document.getElementsByClassName('points')[0].innerHTML = val.examTotalPoints;\n        document.getElementsByClassName('time')[0].innerHTML = val.examTotalMins;\n\n        $(document.getElementById('finalDiv')).empty();\n\n        for(var i = 0; i < Object.keys(val.questions).length; i++) {\n          done.push(0);\n\n          var localQuestions = document.getElementsByClassName('question');\n          var question = childSnapshot.val().questions[i];\n\n          createQuestion(true, Object.keys(question.choices).length);\n          createQuestionTracker(i + 1, true);\n\n          localQuestions[i].childNodes[1].value = question.title;\n          localQuestions[i].childNodes[2].childNodes[1].innerHTML = question.points;\n\n          if(question.imgSrc != \"\") {\n            var src = question.imgSrc;\n            localQuestions[i].childNodes[2].childNodes[3].style.display = \"initial\";\n            localQuestions[i].childNodes[2].childNodes[3].onclick = function() {\n              swal({\n                icon: src,\n                text: question.imgShortDescription,\n                className: \"imgView\"\n              });\n            }\n          }\n\n          changeQuestionType(question.type, i);\n\n          if(question.type == \"mc\") {\n            var multiple = question.multiple == \"true\";\n            for(var j = 0; j < Object.keys(question.choices).length; j++){\n              if(question.choices[j].value != undefined){\n                localQuestions[i].childNodes[3].childNodes[j].childNodes[1].innerHTML = (question.choices[j].value);\n              }\n              else {\n                localQuestions[i].childNodes[3].childNodes[j].childNodes[1].innerHTML = (question.choices[j]);\n              }\n            }\n\n            if(question.multiple == \"true\") {\n              changeNames(localQuestions[i]);\n\n              var span = document.createElement('span');\n              span.style.fontSize = \"13px\";\n              span.style.paddingLeft = \"20px\";\n              span.innerHTML = \"You may select more than one answer for this question\";\n\n              localQuestions[i].childNodes[2].appendChild(span)\n            }\n          }\n\n          else if(question.type == \"matching\"){\n            document.getElementsByClassName('matching')[i].childNodes[0].value = question.numBoxes;\n            for(var j = 0; j < question.numBoxes; j++) {\n              createMatchingElement(document.getElementsByClassName('matching-wrapper')[i], j + 1);\n            }\n\n            var localBoxes = document.getElementsByClassName('matchingbox');\n            for(var k = 0; k < localBoxes.length; k++) {\n              localBoxes[k].childNodes[1].value = question.choices[k].split(\";\")[0];\n              localBoxes[k].childNodes[3].value = question.choices[k].split(\";\")[1];\n            }\n          }\n        }\n      }\n    });\n  });\n   setTimeout(function(){\n     var questions = (document.getElementsByClassName('question'));\n     var exam = document.getElementById('exam');\n\n     //convert HTMLcollection to array and shuffle\n     originalOrder = questions;\n     var questionsArr = shuffle(Array.prototype.slice.call( questions ));\n\n     $('.questionBr').remove(); $('.questionHr').remove(); $('.question').remove();\n\n     for(var m = 0; m < questionsArr.length; m++) {\n       exam.appendChild(questionsArr[m]);\n       exam.appendChild(document.createElement('br'));\n       exam.appendChild(document.createElement('hr'));\n     }\n     restructureQuestions();\n   }, 500);\n}\n\nfunction changeNames(question) {\n  var choices = question.childNodes[3].childNodes;\n\n  for(var i = 0; i < choices.length; i++) {\n    choices[i].childNodes[0].name = i;\n  }\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n//function to restructure if question is deleted in the middle\nfunction restructureQuestions() {\n  var questions = document.getElementsByClassName('question');\n\n  for(var i = 0; i < questions.length; i++) {\n    var question = questions[i];\n\n    question.childNodes[0].innerHTML = i + 1 + \". \"\n    question.id = i + 1;\n  }\n}\n\n//function to dynamically change type of question\nfunction changeQuestionType(val, i) {\n  if(val == \"mc\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"initial\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n  }\n  else if(val == \"fr\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createFreeResponse());\n  }\n  else if(val == \"tf\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createTrueFalse());\n  }\n  else if(val == \"matching\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createMatching());\n  }\n}\n\n\n// True | False\nfunction createTrueFalse() {\n  var label = document.createElement('label');\n  label.id = \"label\";\n  label.className = \"tf\";\n\n  var true_input = document.createElement('input');\n  true_input.style.outline = \"none\";\n  true_input.type = \"radio\";\n  true_input.className = \"option-input radio\";\n  true_input.name = \"tf_radio\"\n\n  var false_input = document.createElement('input');\n  false_input.style.outline = \"none\";\n  false_input.type = \"radio\";\n  false_input.className = \"option-input radio\";\n  false_input.style.marginLeft = \"10%\";\n  false_input.name = \"tf_radio\"\n\n  var true_span = document.createElement('span');\n  true_span.innerHTML = \" True\";\n  true_span.style.marginLeft = \"10px\";\n  true_span.style.color = \"gray\"\n  true_span.style.fontWeight = 'normal';\n\n  var false_span = document.createElement('span');\n  false_span.innerHTML = \" False\";\n  false_span.style.marginLeft = \"10px\";\n  false_span.style.color = \"gray\"\n  false_span.style.fontWeight = 'normal';\n\n  label.appendChild(true_input);\n  label.appendChild(true_span)\n\n  label.appendChild(false_input);\n  label.appendChild(false_span)\n\n  return label;\n}\n\n// function for Free-Response\nfunction createFreeResponse() {\n  var ta = document.createElement('textarea');\n\n  // read when user changes text area\n  ta.oninput = function() {\n    setTimeout(function(){\n      done[parseInt(ta.parentNode.id) - 1] = 1;\n\n      if(done.indexOf(0) == -1) {\n        document.getElementById('submit-exam').style.display = 'initial';\n        document.getElementById('submit-exam-disabled').style.display = \"none\";\n      }\n    }, 350)\n  }\n\n  ta.className = \"fr\";\n  ta.placeholder = \"NOTE: This question requires manual grading\";\n  return ta;\n}\n\n// function to create matching boxes\nfunction createMatching(){\n  var matchingWrapper = document.createElement('div');\n  matchingWrapper.className = \"matching-wrapper\";\n\n  var matching = document.createElement('div');\n  matching.className = 'matching';\n\n  var hr = document.createElement('hr');\n  hr.style.width = '67%';\n\n  var questions = document.createElement('span');\n  questions.innerHTML = 'Questions';\n  questions.style.marginLeft = \"1.5vw\";\n\n  var results = document.createElement('span');\n  results.innerHTML = 'Results (Will Be Randomized)'\n  results.style.marginLeft = \"22.5vw\";\n\n  var numElements = document.createElement('input');\n  numElements.type = 'textbox';\n  numElements.placeholder = '# Of Elements...';\n  numElements.style.borderRadius = \"5px\";\n  numElements.style.padding = \"5px\";\n  numElements.style.border= \"1px solid black\";\n  numElements.style.fontSize = \"15px\";\n\n  numElements.onkeyup = function() {\n    $(matchingWrapper).empty();\n\n    if(this.value <= 20) {\n      for(var i = 0; i < this.value; i++) {\n        createMatchingElement(matchingWrapper, i + 1);\n      }\n    }\n    else {\n      this.value = \"\";\n\n      var alert = document.createElement('div');\n      alert.innerHTML = \"20 Elements Max!\"\n      alert.style.textAlign = \"center\";\n      alert.style.width = \"100%\";\n      alert.style.position = \"fixed\";\n      alert.style.zIndex = \"100000\";\n      alert.style.top = \"0\";\n      alert.className = \"alert alert-danger\";\n      alert.role = \"alert\";\n\n      document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n      setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n    }\n  }\n\n  var newBox = document.createElement('button');\n  newBox.id = \"newBox\";\n  newBox.innerHTML = \"New Element!\";\n\n  newBox.onclick = function() {\n    createMatchingElement(matchingWrapper, document.getElementsByClassName('matchingbox').length + 1);\n    saveExam(false);\n  }\n\n  matching.appendChild(numElements);\n  matching.appendChild(hr);\n  matching.appendChild(questions); matching.appendChild(results);\n  matching.appendChild(matchingWrapper);\n\n  matching.appendChild(document.createElement('br'));\n  matching.appendChild(newBox);\n\n  return matching;\n}\n\n// function to create matching Elements\nfunction createMatchingElement(div, i) {\n  var box = document.createElement('div');\n  box.className = 'matchingbox';\n\n  var labelTrash = document.createElement('span');\n  labelTrash.className = \"glyphicon glyphicon-minus\";\n  labelTrash.style.display = \"none\";\n  labelTrash.style.marginRight = \"5px\";\n  labelTrash.style.color = \"#f25555\";\n\n  $(labelTrash).click(function(){\n    this.parentNode.remove();\n    saveExam(false);\n    restructureBoxes();\n  });\n\n  $(box).hover(function(){\n    this.childNodes[0].style.display = \"initial\";\n  }, function(){\n    this.childNodes[0].style.display = \"none\";\n  });\n\n  $(labelTrash).hover(function(){\n    this.style.cursor=\"pointer\";\n    this.style.color = \"#f25555\";\n  }, function(){\n\n  });\n\n  box.appendChild(labelTrash)\n\n  var num = document.createElement('span');\n  num.innerHTML = i + \".\";\n  num.style.marginRight = \"10px\";\n  num.style.fontSize = \"15px\";\n\n  box.appendChild(num);\n\n  var input = document.createElement('input');\n  input.type = 'textbox';\n  input.style.marginTop = \"20px\";\n  input.style.textAlign = \"center\";\n  input.placeholder = \"1 + 1\";\n  input.id = 'result';\n\n  var arrow = document.createElement('span');\n  arrow.className = 'glyphicon glyphicon-arrow-right';\n  arrow.style.paddingLeft = '5vw';\n\n  var result_input = document.createElement('input');\n  result_input.type = 'textbox';\n  result_input.style.marginLeft = \"5vw\";\n  result_input.style.textAlign = \"center\";\n  result_input.placeholder = \"2\";\n  result_input.id = 'result';\n\n  box.appendChild(input);\n  box.appendChild(arrow);\n  box.appendChild(result_input);\n  div.appendChild(box);\n}\n\n// function to create HTML question\nfunction createQuestion(loading, numAnswerChoices) {\n  var exam = document.getElementById('exam');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n  question.dataset.original = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n  hr.className = \"questionHr\";\n\n  var br = document.createElement('br');\n  br.className = \"questionBr\";\n\n  var question_title = document.createElement('input');\n  question_title.readOnly = true;\n  question_title.type = \"text\";\n  question_title.placeholder = \"Ex: What's Your Name?\";\n  question_title.id = \"question-title\";\n\n  question.appendChild(num);\n  question.appendChild(question_title);\n\n  var viewImage = document.createElement(\"a\");\n  viewImage.innerHTML = \"View Image\";\n  viewImage.style.marginLeft = \"10px\";\n  viewImage.style.display = \"none\";\n\n  var points = document.createElement('div');\n  points.id = \"points\";\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('span');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.placeholder = \"Ex: 4\";\n\n  var finishingSpan =  document.createElement('span');\n  finishingSpan.innerHTML = \" points)\";\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n  points.appendChild(viewImage);\n\n  question.appendChild(points);\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.name = \"group\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var answer_choice = document.createElement('span');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n\n    label.onmouseup = function() {\n      if(this.childNodes[0].checked) {\n        var button = this.childNodes[0];\n        setTimeout(function(){ button.checked = false; }, 150);\n      }\n    }\n\n    answer_choices.appendChild(label);\n  }\n  question.appendChild(answer_choices);\n\n  exam.appendChild(question);\n  exam.appendChild(br);\n  exam.appendChild(hr);\n\n\n  if(!loading) {\n    window.scroll({ top: question.getBoundingClientRect().top + window.scrollY, behavior: 'smooth' });\n    createQuestionTracker(document.getElementsByClassName('question').length, false);\n  }\n}\n\nfunction createQuestionTracker(i, populating) {\n  if(i == 2 && !populating) {\n    createQuestionTracker(1, false);\n  }\n  var manager = document.getElementById('questionNums');\n  var finalDiv = document.getElementById('finalDiv');\n\n  var tracker = document.createElement('span');\n  tracker.innerHTML = \"&#x25CC;\"\n  tracker.style.fontSize = \"60px\";\n  tracker.style.position = \"relative\";\n  tracker.style.bottom = \"20px\";\n  tracker.style.color = \"#58f\";\n  tracker.style.left = \"125px\";\n\n  tracker.id = \"question-tracker\";\n  tracker.className = i;\n\n  $(tracker).hover(function(){\n    var text = tracker.childNodes[1];\n\n    if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n      text.style.right = \"22.5px\";\n    }\n\n    this.style.cursor = \"pointer\";\n    this.innerHTML = \"&#x25CF;\";\n    this.appendChild(text);\n\n    this.style.bottom = '25px';\n    this.style.transition = 'all .5s';\n\n    tracker.childNodes[1].style.color = \"white\";\n  }, function(){\n    var text = tracker.childNodes[1];\n    this.innerHTML = \"&#x25CC;\";\n\n    if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n      text.style.right = \"27.5px\";\n    }\n\n    this.style.bottom = '20px';\n    this.style.transition = 'all .5s';\n\n    this.appendChild(text);\n    tracker.childNodes[1].style.color = \"black\";\n  });\n\n  tracker.onclick = function() {\n    document.getElementById(i).scrollIntoView({block: \"center\"});\n  }\n\n  var center = document.createElement('center');\n  var text = document.createElement('div');\n  text.id = \"text\";\n  text.innerHTML = i;\n\n  if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n    text.style.right = \"27.5px\";\n  }\n\n  tracker.appendChild(text);\n\n  finalDiv.appendChild(tracker);\n  manager.appendChild(finalDiv);\n  manager.scrollTop = (manager.clientHeight + manager.clientHeight);\n}\n\n//toggleFullScreen\nfunction toggleFullScreen() {\n  if (!document.fullscreenElement) {\n    document.addEventListener('contextmenu', event => event.preventDefault());\n    document.documentElement.requestFullscreen();\n  }\n  else {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    }\n  }\n}\n\n//function to end test\nfunction endTest() {\n  window.location.href = window.location.href;\n}\n\nfunction getChecked(question) {\n  var type = question.childNodes[Object.keys(question.childNodes)[question.childNodes.length - 1]];\n  var checked = [];\n\n  if(type.className == \"mc\") {\n    for(var i = 0; i < type.childNodes.length; i++) {\n      if(type.childNodes[i].childNodes[0].checked == true) {\n        checked.push(i);\n      }\n    }\n    return checked;\n  }\n\n  else if(type.className == \"tf\") {\n    if(type.childNodes[0].checked) {\n      return 0;\n    }\n    else {\n      return 1;\n    }\n  }\n\n  else if(type.className == \"matching\"){\n    type = \"matching\";\n    return 15;\n  }\n\n  else if(type.className == \"fr\"){\n    return type.value;\n  }\n}\n\nfunction bubbleSort(array) {\n  for(var i = 0; i < array.length; i++) {\n    for(var j = 1; j < array.length; j++) {\n      if(array[j - 1].dataset.original > array[j].dataset.original) {\n        var temp = array[j-1];\n        array[j-1] = array[j];\n        array[j] = temp;\n      }\n    }\n  }\n  return array;\n}\n\n// submit code - reroute!\nfunction submitExam() {\n  var student_answers = [];\n  var sortedArray = bubbleSort(Array.prototype.slice.call( originalOrder ));\n\n  for(var i = 0; i < sortedArray.length; i++) {\n    var question = sortedArray[i];\n    var checked = getChecked(question);\n\n    student_answers.push(i + \";\" + checked);\n  }\n\n  sessionStorage.setItem(\"student_answers\", JSON.stringify(student_answers));\n\n  document.getElementById('display-exam').style.display = \"none\";\n  document.getElementById('result').style.display = \"initial\";\n\n  displayResults();\n  displayFeedbackForm();\n}\n\nfunction displayFeedbackForm() {\n  var form = document.getElementById('feedback');\n  document.getElementById('teacher-feedback-name').innerHTML = sessionStorage.getItem('teacher');\n}\n\n// function to display results\nfunction displayResults() {\n  var answers = JSON.parse(sessionStorage.getItem('student_answers'));\n  var dbAnswers;\n  var responseStructure = {};\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\")).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.toJSON().questions != undefined) {\n        dbAnswers = childSnapshot.toJSON();\n      }\n    });\n\n    var total = 0;\n    var frTotalPoints = 0;\n\n    for(var i = 0; i < originalOrder.length; i++) {\n      var answer = \"\";\n      var fr = false;\n      var tf = false;\n\n      if(dbAnswers.questions[i].type == \"tf\") {\n        tf = true;\n        if(answers[i].split(\";\")[1] == 1) {\n          answer = \"false\";\n        }\n        else {\n          answer = \"true\";\n        }\n\n        if(answer == dbAnswers.questions[i].choices[0]){\n          total += parseInt(dbAnswers.questions[i].points);\n          createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        }\n        else {\n          createIncorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        }\n      }\n\n      else if(dbAnswers.questions[i].type == \"mc\") {\n        if(answers[i].indexOf(',') == -1) {\n          answer = parseInt(answers[i].split(\";\")[1])\n        }\n        else {\n          answer = answers[i].split(\";\")[1];\n        }\n      }\n\n      else {\n        fr = true;\n        createFrBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        frTotalPoints += parseInt(dbAnswers.questions[i].points);\n      }\n\n      if(!fr && !tf) {\n        if(typeof answer == 'string' && answer.indexOf(',') != -1) {\n          for(var k = 0; k < Object.keys(dbAnswers.questions[i].checked).length; k++) {\n            for(var s = 0; s < answer.split(\",\").length; s++) {\n              if(dbAnswers.questions[i].checked[k] == parseInt(answer.split(\",\")[s])){\n                total += parseInt(dbAnswers.questions[i].points) / answer.split(\",\").length;\n              }\n            }\n          }\n          if(total == parseInt(dbAnswers.questions[i].points)) {\n            createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], total);\n          }\n          else {\n            createPartialBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], total, parseInt(dbAnswers.questions[i].points));\n          }\n        }\n        else {\n          if(answer == dbAnswers.questions[i].checked) {\n            total += parseInt(dbAnswers.questions[i].points);\n            createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n          }\n          else {\n            createIncorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n          }\n        }\n      }\n    }\n\n    var studentExamData = {\n      \"score\" : ((total / (dbAnswers.examTotalPoints - frTotalPoints)) * 100).toFixed(1),\n      \"time\" : timer,\n      \"answers\" : answers,\n      \"name\" : sessionStorage.getItem('StudentName'),\n      \"totalScore\" : (total / (dbAnswers.examTotalPoints) * 100).toFixed(1)\n    }\n\n    firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/responses/\" + sessionStorage.getItem('StudentName')).push(studentExamData);\n\n    var min = \" Minutes\"\n\n    if(timer == 1) {\n      min = \" Minute\"\n    }\n\n    document.getElementById('score').innerHTML = studentExamData.score + \"%\";\n    document.getElementById('score-num').innerHTML = (total + \" / \" + (dbAnswers.examTotalPoints - frTotalPoints) + \" in \" + timer + min);\n\n  });\n\n\n   var result = document.getElementById('result');\n}\n\nfunction createFrBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#798893\";\n  box.style.color = \"white\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"Free Response Questions Require Manual Grading (Points Possible: \" + points + \")\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createPartialBox(title, num, points, totalPoints) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#eac07c\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + points + \" / \" + totalPoints + \" Points For This Question!\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createCorrectBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#84f277\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + points + \" / \" + points + \" Points For This Question!\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createIncorrectBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#cc2d2d\";\n  box.style.color = \"white\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + 0 + \" / \" + points + \" Points For This Question\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\n// window.onbeforeunload = function() {\n//    return \"Dude, are you sure you want to leave? Think of the kittens!\";\n// }\n\n// if user hits enter, check exam code\ndocument.addEventListener(\"keypress\", function(e) {\n  if (e.keyCode === 13 && !stopEnter) {\n    submitExamCode();\n  }\n}, false);\n\n//throw key away\nkey = \"\";\n"]}