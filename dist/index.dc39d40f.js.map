{"mappings":"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","sources":["assets/js/index.js"],"sourcesContent":["var examCodes = [], students = [], done = [];\nvar stopEnter = false, canCount = false, canChangeCircle = true;\nvar key = initKey(); var timer = 0; var originalOrder = [];\n\n(function() {\n    // Expose to global\n    var leaverCount = 0;\n\n    //code to call when document leaves full screen\n    document.onfullscreenchange = function ( event ) {\n      if(document.fullscreenElement == null) {\n        let timerInterval;\n        if(leaverCount <= 5) {\n            Swal.fire({\n              title: 'Are You Sure You Want To Leave?',\n              html: 'You have <strong></strong> seconds to go back to your test or the test ends and your score is recorded! You can open this dialog <span></span> more times',\n              confirmButtonText: 'Yes, end it!',\n              cancelButtonText: 'No, Go Back!',\n              showCancelButton: true,\n              showConfirmButton: true,\n              allowEscapeKey: false,\n              allowEnterKey: false,\n              timer: 10000,\n              onBeforeOpen: () => {\n                timerInterval = setInterval(() => {\n                  Swal.getContent().querySelector('strong').textContent = Swal.getTimerLeft() / 1000;\n                }, 100)\n                Swal.getContent().querySelector('span').textContent = 4 - leaverCount;\n              },\n              onClose: () => {\n                clearInterval(timerInterval)\n              }\n              }).then((result) => {\n                if (!result.value) {\n                  toggleFullScreen();\n\n                  leaverCount++;\n                }\n                else if(result.value) {\n                  endTest();\n                }\n                if (result.dismiss === Swal.DismissReason.timer) {\n                  endTest();\n                }\n            });\n          }\n          else{\n            endTest();\n          }\n      };\n    }\n\n})();\n\nfunction createTeacher(name, classes) {\n  for(var i = 0; i < classes.length; i++) {\n    firebase.database().ref(\"Teachers/\" + name + \"/Classes/\" + classes[i] + \"/Exams/\").push('no_exams');\n    firebase.database().ref(\"Teachers/\" + name + \"/Classes/\" + classes[i] + \"/Students/\").push('68742;Zakariya Sattar');\n  }\n}\n\n// var data;\n// \t$.ajax({\n// \t  type: \"GET\",\n// \t  url: \"data.csv\",\n// \t  dataType: \"text\",\n// \t  success: function(response)\n// \t  {\n//   \t\tdata = $.csv.toArrays(response);\n//       for(var i = 0; i < data.length; i++){\n//         var id = data[i][0];\n//         var name = data[i][3] + \" \" + data[i][2];\n//         var className = data[i][10];\n//\n//         // firebase.database().ref(\"Teachers/Zakariya Sattar/Classes/\" + className + \"/Students\").push(id + \";\" + name);\n//\n//         var json = {\n//           answers: [\"0:\" + Math.floor(1 + Math.random()*(3)), \"1:\" + Math.floor(0 + Math.random()*(2))],\n//           name: name,\n//           score: Math.floor((Math.random() * 25) + 75),\n//           time: 5,\n//           totalScore: Math.floor((Math.random() * 5) + 15)\n//         }\n//\n//         firebase.database().ref(\"Teachers/Zakariya Sattar/Classes/Advance App Development/Exams/YSDIMI/responses/\" + name).push(json);\n//       }\n// \t  }\n// });\n\n// pull all exam codes then encrypt them\nfirebase.database().ref('exam-codes').on('value', function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n    var code = CryptoJS.AES.encrypt(childSnapshot.val(), key);\n    examCodes.push(code);\n  });\n});\n\n// pull all students then encrypt them\nfirebase.database().ref('Students').on('value', function(snapshot) {\n  snapshot.forEach(function(childSnapshot) {\n    // no need for encryption because no active storage\n    students.push(childSnapshot.val());\n  });\n});\n\n// code to run when google user signs in\nfunction onSignIn(googleUser) {\n  if(document.URL.indexOf(\"?\") == -1){\n    window.location = \"teacher.html\";\n\n    var profile = googleUser.getBasicProfile();\n    localStorage.setItem(\"userInfo\", JSON.stringify([profile.getId(), profile.getName(), profile.getImageUrl(), profile.getEmail()]));\n  }\n  else {\n    window.location.href = document.URL.substring(0, document.URL.indexOf(\"?\"));\n    localStorage.setItem(\"userInfo\", \"\");\n    signOut();\n  }\n}\n\n// request signout\nfunction signOut() {\n  var auth2 = gapi.auth2.getAuthInstance();\n  auth2.signOut().then(function () {\n    localStorage.removeItem('userInfo');\n  });\n}\n\n// for displayQuiz()\nwindow.onload = function() {\n  $(\"#create-exam\").on('change', \"input:radio\", function() {\n    if(!isNaN(parseInt(this.parentNode.parentNode.parentNode.id) - 1)) {  //MC\n      done[parseInt(this.parentNode.parentNode.parentNode.id) - 1] = 1;\n    }\n    else {  //\n      done[parseInt(this.parentNode.parentNode.id) - 1] = 1;\n    }\n\n    if(done.indexOf(0) == -1) {\n      document.getElementById('submit-exam').style.display = 'initial';\n      document.getElementById('submit-exam-disabled').style.display = \"none\";\n    }\n  });\n\n  setTimeout(function(){ document.getElementById('timeLeftInExam').innerHTML = sessionStorage.getItem(\"timeLimit\") + \" minutes\";  }, 5000);\n\n  setInterval(function(){\n    if(canCount) {\n      if(timer == (sessionStorage.getItem(\"timeLimit\") - 5)) {\n        swal(\"Timer Warning\", \"5 minutes remaining in this exam\", \"info\");\n      }\n      if(timer <= sessionStorage.getItem(\"timeLimit\")) {\n        timer++;\n        document.getElementById('timeLeftInExam').innerHTML = sessionStorage.getItem(\"timeLimit\") - timer + \" minutes\";\n      }\n      else { // if timer runs out\n        window.location.reload();\n      }\n    }\n  }, 60000);\n\n  setInterval(function(){\n    var today = new Date();\n    var ampm = today.getHours() >= 12 ? 'pm' : 'am';\n    var timeStamp = (today.getHours() % 12 || 12) + \":\" + today.getMinutes() + \":\" + today.getSeconds() + \" \" + ampm.toUpperCase();\n\n    if(today.getSeconds() < 10) {\n      var split = timeStamp.split(\":\");\n      split[2] = \"0\" + split[2];\n      timeStamp = split.join().replace(/,/g, \":\");\n    }\n\n    if(today.getMinutes() < 10) {\n      var split = timeStamp.split(\":\");\n      split[1] = \"0\" + split[1];\n      timeStamp = split.join().replace(/,/g, \":\");\n    }\n\n    document.getElementById(\"currTime\").innerHTML = timeStamp;\n\n  }, 1000)\n\n  $(window).scroll(function(){\n    for(var i = 1; i <= document.getElementsByClassName('question').length; i++) {\n      var elem = document.getElementById(i);\n      var docViewTop = $(window).scrollTop();\n      var docViewBottom = docViewTop + $(window).height();\n\n      var elemTop = $(elem).offset().top;\n      var elemBottom = elemTop + $(elem).height();\n\n      var isInView = ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n\n      if (isInView){\n        document.getElementsByClassName(i)[0].style.bottom = '25px';\n        document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n\n        var text = document.getElementsByClassName(i)[0].childNodes[1];\n        document.getElementsByClassName(i)[0].innerHTML = \"&#x25CF;\"\n        document.getElementsByClassName(i)[0].appendChild(text);\n        document.getElementsByClassName(i)[0].childNodes[1].style.color = \"white\";\n        document.getElementsByClassName(i)[0].childNodes[1].style.right = \"22.5px\";\n\n        setTimeout(function(){\n          if(document.getElementsByClassName(i)[0] != undefined) {\n            document.getElementsByClassName(i)[0].style.bottom = '20px';\n            document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n          }\n        }, 3000);\n\n      }\n      else {\n        if(canChangeCircle) {\n          document.getElementsByClassName(i)[0].style.bottom = '20px';\n          document.getElementsByClassName(i)[0].style.transition = 'all .5s';\n\n          var text = document.getElementsByClassName(i)[0].childNodes[1];\n          document.getElementsByClassName(i)[0].innerHTML = \"&#x25CC;\"\n          document.getElementsByClassName(i)[0].appendChild(text);\n          document.getElementsByClassName(i)[0].childNodes[1].style.color = \"black\";\n          document.getElementsByClassName(i)[0].childNodes[1].style.right = \"22.5px\";\n        }\n      }\n    }\n  });\n};\n\nfunction submitFeedbackForm() {\n  var text = document.getElementById('form-text').value;\n\n  var teacher = sessionStorage.getItem('teacher');\n  var className = sessionStorage.getItem('className');\n  var examCode = sessionStorage.getItem('ExamCode');\n\n  firebase.database().ref(\"Teachers/\" + teacher + \"/Classes/\" + className + \"/Exams/\" + examCode + \"/feedback\").push(text);\n\n  swal(\"Thanks!\", \"Your response has been recorded!\", 'success');\n  document.getElementById('form-text').value = \"\";\n}\n\n//initialize key with random val\nfunction initKey() {\n  var finalString;\n  var i, arr = [];\n  for (i = 0; i < 25; i++) {\n      arr[i] = i + 1;\n  }\n  arr.sort(function () {\n      return Math.random() - 0.25;\n  });\n\n  for(var j = 0; j < arr.length; j++) {\n    finalString = arr[j] + finalString + \"\";\n  }\n  return finalString.replace('NaN', '');\n}\n\n//function to remove all class='active'\nfunction removeAllActive() {\n  document.getElementsByTagName(\"LI\")[0].className = \"\";\n  document.getElementsByTagName(\"LI\")[1].className = \"\";\n  document.getElementsByTagName(\"LI\")[2].className = \"\";\n}\n\ndocument.getElementById(\"nav-toggle\").onclick = function() {\n  if(document.getElementById('nav-menu').style.display == \"initial\"){\n    document.getElementById('nav-menu').style.display = \"none\";\n  }\n  else {\n    document.getElementById('nav-menu').style.display = \"initial\";\n  }\n}\n\n// remove dropdown if screen size can handle navbar\nfunction removeDropDown(x) {\n if (x.matches) { // If media query matches\n   document.getElementById('dropdown').style.display = \"none\";\n\n   for(var i = 0; i < document.getElementsByClassName('navB').length; i++) {\n     document.getElementsByClassName('navB')[i].style.display = \"initial\";\n   }\n }\n else {\n   document.getElementById('dropdown').style.display = \"initial\";\n   for(var i = 0; i < document.getElementsByClassName('navB').length; i++) {\n     document.getElementsByClassName('navB')[i].style.display = \"none\";\n   }\n }\n}\n\nvar x = window.matchMedia(\"(min-width: 730px)\")\nremoveDropDown(x) // Call listener function at run time\nx.addListener(removeDropDown) // Attach listener function on state changes\n\n\n//function to switch displays based on what user clicks\nfunction display(title) {\n  if(title == '<a href=\"#\">Ping-Pong</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"initial\";\n    document.getElementById('leaderboard').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Home</a>') {\n    document.getElementById('main').style.display = \"initial\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.body.style.background = '#1b1b1d';\n  }\n  else if(title == '<a href=\"#\">Leaderboard</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"initial\";\n    document.body.style.background = 'white';\n    populateLeaderboard();\n  }\n  document.getElementById('nav-menu').style.display = \"none\";\n}\n\n// search LB\nfunction searchLeaderboard() {\n  var input, filter, ul, tr, a, i, txtValue;\n\n  input = document.getElementById(\"lb-search\");\n  tr = document.getElementById('leaderboard').getElementsByClassName(\"name\");\n\n  for (i = 0; i < tr.length; i++) {\n    if(tr[i].innerHTML == input.value) {\n      tr[i].style.border = \"1px solid black\";\n      tr[i].scrollIntoView({behavior: \"smooth\"});\n    }\n  }\n}\n\nfunction getStudent(id) {\n  students = mergeSort(students);\n  //binary search for finding ID pos\n  var low  = 0 , high = students.length -1 ,mid ;\n  while (low <= high){\n      mid = Math.floor((low+high)/2);\n      if(students[mid].split(\";\")[0]==id) return students[mid];\n      else if (students[mid].split(\";\")[0]<id) low = mid+1;\n      else high = mid-1;\n  }\n  return -1 ;\n}\n\n//implement merge sort\nfunction mergeSort (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return merge(\n    mergeSort(left),\n    mergeSort(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction merge (left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\";\")[0] < right[indexRight].split(\";\")[0]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n// function to retieve and analyze code\nfunction submitExamCode() {\n  var code = document.getElementById('inputExamCode').value.toUpperCase();\n  var data = findCode(code);\n\n  if(code.length == 5 && (!/[~!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g.test(code)) ) {\n    document.getElementById('exam-info').innerHTML = \"\";\n    if(data == null) {\n      swal(\"Invalid exam code!\", \"Check for special characters and make sure the length is at least 5\", \"error\");\n    }\n\n    else if(data.split(\";\")[0] == code) {\n      sessionStorage.setItem(\"teacher\", data.split(\";\")[1]);\n      document.getElementById('exam-info').innerHTML = data.split(\";\")[3] + \" | \" + data.split(\";\")[2];\n      document.getElementById('id-input').style.display = 'initial';\n\n      getCodeLetter(code, data.split(\";\")[1], data.split(\";\")[2])\n      stopEnter = true;\n    }\n  }\n}\n\nfunction getCodeLetter(code, teacher, className) {\n  firebase.database().ref(\"Teachers/\" + teacher + \"/Classes/\" + className).once('value', function(snapshot) {\n    for(exam in snapshot.val().Exams) {\n      console.log(exam)\n      if(exam.substring(1) == code) {\n        sessionStorage.setItem('ExamCode', exam);\n      }\n    }\n  });\n}\n\nfunction retrieveName() {\n  var taken = false;\n  var id = document.getElementsByClassName(\"ID\")[0].value;\n\n  if(id.length == 5){\n    var i = 0;\n    for(var x = 0; x < examCodes.length; x++){\n      var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n      var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n      if(plaintext.split(\";\")[0] == sessionStorage.getItem('ExamCode').substring(1)){\n        i = x;\n        break;\n      }\n    }\n\n    var teacher = CryptoJS.AES.decrypt(examCodes[i], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n    document.getElementById('userName').innerHTML = \"\";\n\n    firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/taken\").once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.val() == id) {\n          taken = true;\n        }\n      });\n\n      if(!taken || taken) {\n        document.getElementById('userName').style.color = \"black\";\n        sessionStorage.setItem('idNum', id);\n        firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Students\").once('value', function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            if(childSnapshot.val().split(\";\")[0] == id) {\n              document.getElementById('userName').innerHTML = childSnapshot.val().split(\";\")[1];\n              document.getElementById('proceed').style.display = \"initial\";\n              document.getElementById('recognition').style.bottom = \"-10px\";\n            }\n          });\n        });\n\n        if(document.getElementById('userName').innerHTML == \"\") {\n          document.getElementById('userName').innerHTML = \"Not Found!\"\n        }\n      }\n\n      else {\n        document.getElementById('userName').innerHTML = \"You Have Taken This Exam Already!\";\n        document.getElementById('userName').style.color = \"red\";\n      }\n    });\n  }\n}\n\n//function to make sure exam code is valid\nfunction findCode(code) {\n  var exists = false;\n  var data = \"\";\n\n  for(var x = 0; x < examCodes.length; x++){\n    var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n    if(plaintext.split(\";\")[0] == code){\n      return plaintext;\n    }\n  }\n\n  return null;\n}\n\n// function to display quiz to student\nfunction displayQuiz() {\n  var code = sessionStorage.getItem(\"ExamCode\");\n  var teacher = sessionStorage.getItem(\"teacher\");\n\n  sessionStorage.setItem(\"StudentName\", document.getElementById('userName').innerHTML);\n  var i = 0;\n\n  for(var x = 0; x < examCodes.length; x++){\n    var decryptedBytes = CryptoJS.AES.decrypt(examCodes[x], key);\n    var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n    if(plaintext.split(\";\")[0] == code.substring(1) && plaintext.split(\";\")[1] == teacher){\n      i = x;\n      break;\n    }\n  }\n\n  var teacher = CryptoJS.AES.decrypt(examCodes[i], key);\n  var plaintext = decryptedBytes.toString(CryptoJS.enc.Utf8);\n\n  sessionStorage.setItem(\"className\", plaintext.split(\";\")[2]);\n\n  document.getElementById('main').style.display = \"none\";\n  document.getElementById('navigation').style.display = \"none\";\n  document.getElementById('display-exam').style.display = \"initial\";\n\n  document.body.style.background = \"white\";\n  document.body.style.overflow = \"scroll\";\n  populateExam(code, firebase.database().ref(\"Teachers/\" + plaintext.split(\";\")[1] + \"/Classes/\" + plaintext.split(\";\")[2] + \"/Exams/\" + code));\n  toggleFullScreen();\n\n\n  // listen for alt+tab changes and act upon them\n  window.onblur = function() {\n    toggleFullScreen();\n  }\n\n  canCount = true;\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\")).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val().examCode != undefined) {\n        sessionStorage.setItem(\"timeLimit\", childSnapshot.val().examTotalMins);\n      }\n    });\n  });\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/taken\").push(sessionStorage.getItem('idNum'));\n}\n\n//pull and populate exam\nfunction populateExam(code, ref) {\n  firebase.database().ref(ref).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      var val = childSnapshot.val();\n\n      if(val.examCode != undefined){\n        var counter = 0;\n\n        document.getElementById('exam-code').innerHTML = val.examCode + \" | \" + sessionStorage.getItem(\"StudentName\");\n\n        if(val.examDate.split(\"-\")[1] != null) {\n          document.getElementById('date').innerHTML = val.examTeacher + \" | \" + val.examDate.split(\"-\")[1] + \"-\" + val.examDate.split(\"-\")[2] + \"-\" + val.examDate.split(\"-\")[0];\n        }\n        else {\n          var dateJS = new Date();\n          document.getElementById('date').innerHTML = val.examTeacher + \" | \" + (dateJS.getMonth()+1)+'-'+dateJS.getDate()+'-'+dateJS.getFullYear();\n        }\n\n        document.getElementById('description').value = val.examDescription;\n\n        var title = val.examTitle;\n        if(title == \"\") {\n          title = \"Untitled\";\n        }\n        document.getElementById('nameOfExam').innerHTML = title;\n\n        document.getElementsByClassName('points')[0].innerHTML = val.examTotalPoints;\n        document.getElementsByClassName('time')[0].innerHTML = val.examTotalMins;\n\n        $(document.getElementById('finalDiv')).empty();\n\n        for(var i = 0; i < Object.keys(val.questions).length; i++) {\n          done.push(0);\n\n          var localQuestions = document.getElementsByClassName('question');\n          var question = childSnapshot.val().questions[i];\n\n          createQuestion(true, Object.keys(question.choices).length);\n          createQuestionTracker(i + 1, true);\n\n          localQuestions[i].childNodes[1].value = question.title;\n          localQuestions[i].childNodes[2].childNodes[1].innerHTML = question.points;\n\n          if(question.imgSrc != \"\") {\n            var src = question.imgSrc;\n            localQuestions[i].childNodes[2].childNodes[3].style.display = \"initial\";\n            localQuestions[i].childNodes[2].childNodes[3].onclick = function() {\n              swal({\n                icon: src,\n                text: question.imgShortDescription,\n                className: \"imgView\"\n              });\n            }\n          }\n\n          changeQuestionType(question.type, i);\n\n          if(question.type == \"mc\") {\n            var multiple = question.multiple == \"true\";\n            for(var j = 0; j < Object.keys(question.choices).length; j++){\n              if(question.choices[j].value != undefined){\n                localQuestions[i].childNodes[3].childNodes[j].childNodes[1].innerHTML = (question.choices[j].value);\n              }\n              else {\n                localQuestions[i].childNodes[3].childNodes[j].childNodes[1].innerHTML = (question.choices[j]);\n              }\n            }\n\n            if(question.multiple == \"true\") {\n              changeNames(localQuestions[i]);\n\n              var span = document.createElement('span');\n              span.style.fontSize = \"13px\";\n              span.style.paddingLeft = \"20px\";\n              span.innerHTML = \"You may select more than one answer for this question\";\n\n              localQuestions[i].childNodes[2].appendChild(span)\n            }\n          }\n\n          else if(question.type == \"matching\"){\n            document.getElementsByClassName('matching')[i].childNodes[0].value = question.numBoxes;\n            for(var j = 0; j < question.numBoxes; j++) {\n              createMatchingElement(document.getElementsByClassName('matching-wrapper')[i], j + 1);\n            }\n\n            var localBoxes = document.getElementsByClassName('matchingbox');\n            for(var k = 0; k < localBoxes.length; k++) {\n              localBoxes[k].childNodes[1].value = question.choices[k].split(\";\")[0];\n              localBoxes[k].childNodes[3].value = question.choices[k].split(\";\")[1];\n            }\n          }\n        }\n      }\n    });\n  });\n   setTimeout(function(){\n     var questions = (document.getElementsByClassName('question'));\n     var exam = document.getElementById('exam');\n\n     //convert HTMLcollection to array and shuffle\n     originalOrder = questions;\n     var questionsArr = shuffle(Array.prototype.slice.call( questions ));\n\n     $('.questionBr').remove(); $('.questionHr').remove(); $('.question').remove();\n\n     for(var m = 0; m < questionsArr.length; m++) {\n       exam.appendChild(questionsArr[m]);\n       exam.appendChild(document.createElement('br'));\n       exam.appendChild(document.createElement('hr'));\n     }\n     restructureQuestions();\n   }, 500);\n}\n\nfunction changeNames(question) {\n  var choices = question.childNodes[3].childNodes;\n\n  for(var i = 0; i < choices.length; i++) {\n    choices[i].childNodes[0].name = i;\n  }\n}\n\nfunction shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n\n//function to restructure if question is deleted in the middle\nfunction restructureQuestions() {\n  var questions = document.getElementsByClassName('question');\n\n  for(var i = 0; i < questions.length; i++) {\n    var question = questions[i];\n\n    question.childNodes[0].innerHTML = i + 1 + \". \"\n    question.id = i + 1;\n  }\n}\n\n//function to dynamically change type of question\nfunction changeQuestionType(val, i) {\n  if(val == \"mc\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"initial\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n  }\n  else if(val == \"fr\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createFreeResponse());\n  }\n  else if(val == \"tf\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"matching\")[i] != undefined) {\n      document.getElementsByClassName(\"matching\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createTrueFalse());\n  }\n  else if(val == \"matching\") {\n    document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n\n    if(document.getElementsByClassName(\"fr\")[i] != undefined) {\n      document.getElementsByClassName(\"fr\")[i].style.display = \"none\";\n    }\n\n    if(document.getElementsByClassName(\"tf\")[i] != undefined) {\n      document.getElementsByClassName(\"tf\")[i].style.display = \"none\";\n    }\n\n    document.getElementById(i + 1).appendChild(createMatching());\n  }\n}\n\n\n// True | False\nfunction createTrueFalse() {\n  var label = document.createElement('label');\n  label.id = \"label\";\n  label.className = \"tf\";\n\n  var true_input = document.createElement('input');\n  true_input.style.outline = \"none\";\n  true_input.type = \"radio\";\n  true_input.className = \"option-input radio\";\n  true_input.name = \"tf_radio\"\n\n  var false_input = document.createElement('input');\n  false_input.style.outline = \"none\";\n  false_input.type = \"radio\";\n  false_input.className = \"option-input radio\";\n  false_input.style.marginLeft = \"10%\";\n  false_input.name = \"tf_radio\"\n\n  var true_span = document.createElement('span');\n  true_span.innerHTML = \" True\";\n  true_span.style.marginLeft = \"10px\";\n  true_span.style.color = \"gray\"\n  true_span.style.fontWeight = 'normal';\n\n  var false_span = document.createElement('span');\n  false_span.innerHTML = \" False\";\n  false_span.style.marginLeft = \"10px\";\n  false_span.style.color = \"gray\"\n  false_span.style.fontWeight = 'normal';\n\n  label.appendChild(true_input);\n  label.appendChild(true_span)\n\n  label.appendChild(false_input);\n  label.appendChild(false_span)\n\n  return label;\n}\n\n// function for Free-Response\nfunction createFreeResponse() {\n  var ta = document.createElement('textarea');\n\n  // read when user changes text area\n  ta.oninput = function() {\n    setTimeout(function(){\n      done[parseInt(ta.parentNode.id) - 1] = 1;\n\n      if(done.indexOf(0) == -1) {\n        document.getElementById('submit-exam').style.display = 'initial';\n        document.getElementById('submit-exam-disabled').style.display = \"none\";\n      }\n    }, 350)\n  }\n\n  ta.className = \"fr\";\n  ta.placeholder = \"NOTE: This question requires manual grading\";\n  return ta;\n}\n\n// function to create matching boxes\nfunction createMatching(){\n  var matchingWrapper = document.createElement('div');\n  matchingWrapper.className = \"matching-wrapper\";\n\n  var matching = document.createElement('div');\n  matching.className = 'matching';\n\n  var hr = document.createElement('hr');\n  hr.style.width = '67%';\n\n  var questions = document.createElement('span');\n  questions.innerHTML = 'Questions';\n  questions.style.marginLeft = \"1.5vw\";\n\n  var results = document.createElement('span');\n  results.innerHTML = 'Results (Will Be Randomized)'\n  results.style.marginLeft = \"22.5vw\";\n\n  var numElements = document.createElement('input');\n  numElements.type = 'textbox';\n  numElements.placeholder = '# Of Elements...';\n  numElements.style.borderRadius = \"5px\";\n  numElements.style.padding = \"5px\";\n  numElements.style.border= \"1px solid black\";\n  numElements.style.fontSize = \"15px\";\n\n  numElements.onkeyup = function() {\n    $(matchingWrapper).empty();\n\n    if(this.value <= 20) {\n      for(var i = 0; i < this.value; i++) {\n        createMatchingElement(matchingWrapper, i + 1);\n      }\n    }\n    else {\n      this.value = \"\";\n\n      var alert = document.createElement('div');\n      alert.innerHTML = \"20 Elements Max!\"\n      alert.style.textAlign = \"center\";\n      alert.style.width = \"100%\";\n      alert.style.position = \"fixed\";\n      alert.style.zIndex = \"100000\";\n      alert.style.top = \"0\";\n      alert.className = \"alert alert-danger\";\n      alert.role = \"alert\";\n\n      document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n      setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n    }\n  }\n\n  var newBox = document.createElement('button');\n  newBox.id = \"newBox\";\n  newBox.innerHTML = \"New Element!\";\n\n  newBox.onclick = function() {\n    createMatchingElement(matchingWrapper, document.getElementsByClassName('matchingbox').length + 1);\n    saveExam(false);\n  }\n\n  matching.appendChild(numElements);\n  matching.appendChild(hr);\n  matching.appendChild(questions); matching.appendChild(results);\n  matching.appendChild(matchingWrapper);\n\n  matching.appendChild(document.createElement('br'));\n  matching.appendChild(newBox);\n\n  return matching;\n}\n\n// function to create matching Elements\nfunction createMatchingElement(div, i) {\n  var box = document.createElement('div');\n  box.className = 'matchingbox';\n\n  var labelTrash = document.createElement('span');\n  labelTrash.className = \"glyphicon glyphicon-minus\";\n  labelTrash.style.display = \"none\";\n  labelTrash.style.marginRight = \"5px\";\n  labelTrash.style.color = \"#f25555\";\n\n  $(labelTrash).click(function(){\n    this.parentNode.remove();\n    saveExam(false);\n    restructureBoxes();\n  });\n\n  $(box).hover(function(){\n    this.childNodes[0].style.display = \"initial\";\n  }, function(){\n    this.childNodes[0].style.display = \"none\";\n  });\n\n  $(labelTrash).hover(function(){\n    this.style.cursor=\"pointer\";\n    this.style.color = \"#f25555\";\n  }, function(){\n\n  });\n\n  box.appendChild(labelTrash)\n\n  var num = document.createElement('span');\n  num.innerHTML = i + \".\";\n  num.style.marginRight = \"10px\";\n  num.style.fontSize = \"15px\";\n\n  box.appendChild(num);\n\n  var input = document.createElement('input');\n  input.type = 'textbox';\n  input.style.marginTop = \"20px\";\n  input.style.textAlign = \"center\";\n  input.placeholder = \"1 + 1\";\n  input.id = 'result';\n\n  var arrow = document.createElement('span');\n  arrow.className = 'glyphicon glyphicon-arrow-right';\n  arrow.style.paddingLeft = '5vw';\n\n  var result_input = document.createElement('input');\n  result_input.type = 'textbox';\n  result_input.style.marginLeft = \"5vw\";\n  result_input.style.textAlign = \"center\";\n  result_input.placeholder = \"2\";\n  result_input.id = 'result';\n\n  box.appendChild(input);\n  box.appendChild(arrow);\n  box.appendChild(result_input);\n  div.appendChild(box);\n}\n\n// function to create HTML question\nfunction createQuestion(loading, numAnswerChoices) {\n  var exam = document.getElementById('exam');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n  question.dataset.original = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n  hr.className = \"questionHr\";\n\n  var br = document.createElement('br');\n  br.className = \"questionBr\";\n\n  var question_title = document.createElement('input');\n  question_title.readOnly = true;\n  question_title.type = \"text\";\n  question_title.placeholder = \"Ex: What's Your Name?\";\n  question_title.id = \"question-title\";\n\n  question.appendChild(num);\n  question.appendChild(question_title);\n\n  var viewImage = document.createElement(\"a\");\n  viewImage.innerHTML = \"View Image\";\n  viewImage.style.marginLeft = \"10px\";\n  viewImage.style.display = \"none\";\n\n  var points = document.createElement('div');\n  points.id = \"points\";\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('span');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.placeholder = \"Ex: 4\";\n\n  var finishingSpan =  document.createElement('span');\n  finishingSpan.innerHTML = \" points)\";\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n  points.appendChild(viewImage);\n\n  question.appendChild(points);\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.name = \"group\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var answer_choice = document.createElement('span');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n\n    label.onmouseup = function() {\n      if(this.childNodes[0].checked) {\n        var button = this.childNodes[0];\n        setTimeout(function(){ button.checked = false; }, 150);\n      }\n    }\n\n    answer_choices.appendChild(label);\n  }\n  question.appendChild(answer_choices);\n\n  exam.appendChild(question);\n  exam.appendChild(br);\n  exam.appendChild(hr);\n\n\n  if(!loading) {\n    window.scroll({ top: question.getBoundingClientRect().top + window.scrollY, behavior: 'smooth' });\n    createQuestionTracker(document.getElementsByClassName('question').length, false);\n  }\n}\n\nfunction createQuestionTracker(i, populating) {\n  if(i == 2 && !populating) {\n    createQuestionTracker(1, false);\n  }\n  var manager = document.getElementById('questionNums');\n  var finalDiv = document.getElementById('finalDiv');\n\n  var tracker = document.createElement('span');\n  tracker.innerHTML = \"&#x25CC;\"\n  tracker.style.fontSize = \"60px\";\n  tracker.style.position = \"relative\";\n  tracker.style.bottom = \"20px\";\n  tracker.style.color = \"#58f\";\n  tracker.style.left = \"125px\";\n\n  tracker.id = \"question-tracker\";\n  tracker.className = i;\n\n  $(tracker).hover(function(){\n    var text = tracker.childNodes[1];\n\n    if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n      text.style.right = \"22.5px\";\n    }\n\n    this.style.cursor = \"pointer\";\n    this.innerHTML = \"&#x25CF;\";\n    this.appendChild(text);\n\n    this.style.bottom = '25px';\n    this.style.transition = 'all .5s';\n\n    tracker.childNodes[1].style.color = \"white\";\n  }, function(){\n    var text = tracker.childNodes[1];\n    this.innerHTML = \"&#x25CC;\";\n\n    if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n      text.style.right = \"27.5px\";\n    }\n\n    this.style.bottom = '20px';\n    this.style.transition = 'all .5s';\n\n    this.appendChild(text);\n    tracker.childNodes[1].style.color = \"black\";\n  });\n\n  tracker.onclick = function() {\n    document.getElementById(i).scrollIntoView({block: \"center\"});\n  }\n\n  var center = document.createElement('center');\n  var text = document.createElement('div');\n  text.id = \"text\";\n  text.innerHTML = i;\n\n  if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1 || /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor)) {\n    text.style.right = \"27.5px\";\n  }\n\n  tracker.appendChild(text);\n\n  finalDiv.appendChild(tracker);\n  manager.appendChild(finalDiv);\n  manager.scrollTop = (manager.clientHeight + manager.clientHeight);\n}\n\n//toggleFullScreen\nfunction toggleFullScreen() {\n  if (!document.fullscreenElement) {\n    document.addEventListener('contextmenu', event => event.preventDefault());\n    document.documentElement.requestFullscreen();\n  }\n  else {\n    if (document.exitFullscreen) {\n      document.exitFullscreen();\n    }\n  }\n}\n\n//function to end test\nfunction endTest() {\n  window.location.href = window.location.href;\n}\n\nfunction getChecked(question) {\n  var type = question.childNodes[Object.keys(question.childNodes)[question.childNodes.length - 1]];\n  var checked = [];\n\n  if(type.className == \"mc\") {\n    for(var i = 0; i < type.childNodes.length; i++) {\n      if(type.childNodes[i].childNodes[0].checked == true) {\n        checked.push(i);\n      }\n    }\n    return checked;\n  }\n\n  else if(type.className == \"tf\") {\n    if(type.childNodes[0].checked) {\n      return 0;\n    }\n    else {\n      return 1;\n    }\n  }\n\n  else if(type.className == \"matching\"){\n    type = \"matching\";\n    return 15;\n  }\n\n  else if(type.className == \"fr\"){\n    return type.value;\n  }\n}\n\nfunction bubbleSort(array) {\n  for(var i = 0; i < array.length; i++) {\n    for(var j = 1; j < array.length; j++) {\n      if(array[j - 1].dataset.original > array[j].dataset.original) {\n        var temp = array[j-1];\n        array[j-1] = array[j];\n        array[j] = temp;\n      }\n    }\n  }\n  return array;\n}\n\n// submit code - reroute!\nfunction submitExam() {\n  var student_answers = [];\n  var sortedArray = bubbleSort(Array.prototype.slice.call( originalOrder ));\n\n  for(var i = 0; i < sortedArray.length; i++) {\n    var question = sortedArray[i];\n    var checked = getChecked(question);\n\n    student_answers.push(i + \";\" + checked);\n  }\n\n  sessionStorage.setItem(\"student_answers\", JSON.stringify(student_answers));\n\n  document.getElementById('display-exam').style.display = \"none\";\n  document.getElementById('result').style.display = \"initial\";\n\n  displayResults();\n}\n\n// function to display results\nfunction displayResults() {\n  var answers = JSON.parse(sessionStorage.getItem('student_answers'));\n  var dbAnswers;\n  var responseStructure = {};\n\n  firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\")).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.toJSON().questions != undefined) {\n        dbAnswers = childSnapshot.toJSON();\n      }\n    });\n\n    var total = 0;\n    var frTotalPoints = 0;\n\n    for(var i = 0; i < originalOrder.length; i++) {\n      var answer = \"\";\n      var fr = false;\n      var tf = false;\n\n      if(dbAnswers.questions[i].type == \"tf\") {\n        tf = true;\n        if(answers[i].split(\";\")[1] == 1) {\n          answer = \"false\";\n        }\n        else {\n          answer = \"true\";\n        }\n\n        if(answer == dbAnswers.questions[i].choices[0]){\n          total += parseInt(dbAnswers.questions[i].points);\n          createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        }\n        else {\n          createIncorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        }\n      }\n\n      else if(dbAnswers.questions[i].type == \"mc\") {\n        if(answers[i].indexOf(',') == -1) {\n          answer = parseInt(answers[i].split(\";\")[1])\n        }\n        else {\n          answer = answers[i].split(\";\")[1];\n        }\n      }\n\n      else {\n        fr = true;\n        createFrBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n        frTotalPoints += parseInt(dbAnswers.questions[i].points);\n      }\n\n      if(!fr && !tf) {\n        if(typeof answer == 'string' && answer.indexOf(',') != -1) {\n          for(var k = 0; k < Object.keys(dbAnswers.questions[i].checked).length; k++) {\n            for(var s = 0; s < answer.split(\",\").length; s++) {\n              if(dbAnswers.questions[i].checked[k] == parseInt(answer.split(\",\")[s])){\n                total += parseInt(dbAnswers.questions[i].points) / answer.split(\",\").length;\n              }\n            }\n          }\n          if(total == parseInt(dbAnswers.questions[i].points)) {\n            createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], total);\n          }\n          else {\n            createPartialBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], total, parseInt(dbAnswers.questions[i].points));\n          }\n        }\n        else {\n          if(answer == dbAnswers.questions[i].checked) {\n            total += parseInt(dbAnswers.questions[i].points);\n            createCorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n          }\n          else {\n            createIncorrectBox(dbAnswers.questions[i].title, answers[i].split(\";\")[0], parseInt(dbAnswers.questions[i].points));\n          }\n        }\n      }\n    }\n\n    var studentExamData = {\n      \"score\" : ((total / (dbAnswers.examTotalPoints - frTotalPoints)) * 100).toFixed(1),\n      \"time\" : timer,\n      \"answers\" : answers,\n      \"name\" : sessionStorage.getItem('StudentName'),\n      \"totalScore\" : (total / (dbAnswers.examTotalPoints) * 100).toFixed(1)\n    }\n\n    firebase.database().ref(\"Teachers/\" + sessionStorage.getItem('teacher') + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + sessionStorage.getItem(\"ExamCode\") + \"/responses/\" + sessionStorage.getItem('StudentName')).push(studentExamData);\n\n    var min = \" Minutes\"\n\n    if(timer == 1) {\n      min = \" Minute\"\n    }\n\n    document.getElementById('score').innerHTML = studentExamData.score + \"%\";\n    document.getElementById('score-num').innerHTML = (total + \" / \" + (dbAnswers.examTotalPoints - frTotalPoints) + \" in \" + timer + min);\n\n  });\n\n\n   var result = document.getElementById('result');\n}\n\nfunction createFrBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#798893\";\n  box.style.color = \"white\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"Free Response Questions Require Manual Grading (Points Possible: \" + points + \")\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createPartialBox(title, num, points, totalPoints) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#eac07c\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + points + \" / \" + totalPoints + \" Points For This Question!\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createCorrectBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#84f277\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + points + \" / \" + points + \" Points For This Question!\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\nfunction createIncorrectBox(title, num, points) {\n  var dataDiv = document.getElementById('question-data');\n\n  var box = document.createElement('div');\n  box.style.width = \"90vw\";\n  box.style.marginTop = \"10px\";\n  box.style.border = \"1px solid black\";\n  box.style.padding = \"15px\";\n  box.style.height = \"50px\";\n  box.style.background = \"#cc2d2d\";\n  box.style.color = \"white\";\n  box.style.borderRadius = \"6px\";\n  box.className = \"questionBox\";\n\n  var name = document.createElement('span');\n  name.innerHTML = parseInt(num) + 1 + \" | \" + title;\n  name.style.float = \"left\";\n  name.style.paddingLeft = \"10px\";\n\n  var pointsAwarded = document.createElement('span');\n  pointsAwarded.innerHTML = \"You Received \" + 0 + \" / \" + points + \" Points For This Question\"\n  pointsAwarded.style.float = \"right\";\n  pointsAwarded.style.paddingRight = \"20px\";\n\n  box.appendChild(name);\n  box.appendChild(pointsAwarded);\n\n  dataDiv.appendChild(box);\n}\n\n// window.onbeforeunload = function() {\n//    return \"Dude, are you sure you want to leave? Think of the kittens!\";\n// }\n\n// if user hits enter, check exam code\ndocument.addEventListener(\"keypress\", function(e) {\n  if (e.keyCode === 13 && !stopEnter) {\n    submitExamCode();\n  }\n}, false);\n\n//throw key away\nkey = \"\";\n"],"names":["examCodes","students","done","stopEnter","canCount","canChangeCircle","key","initKey","timer","originalOrder","createTeacher","name","classes","i","length","firebase","database","ref","push","onSignIn","googleUser","document","URL","indexOf","window","location","profile","getBasicProfile","localStorage","setItem","JSON","stringify","getId","getName","getImageUrl","getEmail","href","substring","signOut","gapi","auth2","getAuthInstance","then","removeItem","submitFeedbackForm","text","getElementById","value","teacher","sessionStorage","getItem","className","examCode","swal","finalString","arr","sort","Math","random","j","replace","removeAllActive","getElementsByTagName","removeDropDown","x","matches","style","display","getElementsByClassName","leaverCount","onfullscreenchange","event","fullscreenElement","timerInterval","Swal","fire","title","html","confirmButtonText","cancelButtonText","showCancelButton","showConfirmButton","allowEscapeKey","allowEnterKey","onBeforeOpen","setInterval","getContent","querySelector","textContent","getTimerLeft","onClose","clearInterval","result","endTest","toggleFullScreen","dismiss","DismissReason","on","snapshot","forEach","childSnapshot","code","CryptoJS","AES","encrypt","val","onload","$","isNaN","parseInt","this","parentNode","id","setTimeout","innerHTML","reload","split","today","Date","ampm","getHours","timeStamp","getMinutes","getSeconds","toUpperCase","join","scroll","elem","docViewTop","scrollTop","docViewBottom","height","elemTop","offset","top","bottom","transition","childNodes","appendChild","color","right","undefined","onclick","matchMedia","body","background","populateLeaderboard","searchLeaderboard","input","tr","border","scrollIntoView","behavior","getStudent","mid","low","high","mergeSort","floor","middle","left","slice","merge","indexLeft","indexRight","concat","submitExamCode","data","findCode","test","getCodeLetter","once","exam","Exams","console","log","retrieveName","taken","decryptedBytes","decrypt","plaintext","toString","enc","Utf8","displayQuiz","overflow","populateExam","onblur","examTotalMins","examDate","examTeacher","dateJS","getMonth","getDate","getFullYear","examDescription","examTitle","examTotalPoints","empty","Object","keys","questions","localQuestions","question","createQuestion","choices","createQuestionTracker","points","imgSrc","src","icon","imgShortDescription","changeQuestionType","type","multiple","changeNames","span","createElement","fontSize","paddingLeft","numBoxes","createMatchingElement","localBoxes","k","exam1","questionsArr","shuffle","Array","prototype","call","remove","m","restructureQuestions","array","temporaryValue","randomIndex","currentIndex","createFreeResponse","createTrueFalse","createMatching","label","true_input","outline","false_input","marginLeft","true_span","fontWeight","false_span","ta","oninput","placeholder","matchingWrapper","matching","hr","width","results","numElements","borderRadius","padding","onkeyup","alert","textAlign","position","zIndex","role","newBox","saveExam","div","box","labelTrash","marginRight","click","restructureBoxes","hover","cursor","num","marginTop","arrow","result_input","loading","numAnswerChoices","dataset","original","br","question_title","readOnly","viewImage","numPoints","finishingSpan","answer_choices","answer_choice","onmouseup","checked","button","getBoundingClientRect","scrollY","populating","manager","finalDiv","tracker","navigator","userAgent","toLowerCase","vendor","block","clientHeight","exitFullscreen","addEventListener","preventDefault","documentElement","requestFullscreen","getChecked","bubbleSort","temp","submitExam","student_answers","sortedArray","displayResults","dbAnswers","answers","parse","toJSON","total","frTotalPoints","answer","fr","tf","createCorrectBox","createIncorrectBox","createFrBox","s","createPartialBox","studentExamData","score","toFixed","time","totalScore","min","dataDiv","float","pointsAwarded","paddingRight","totalPoints","addListener","e","keyCode"],"version":3,"file":"index.dc39d40f.js.map"}