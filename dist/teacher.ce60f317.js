parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"yFTU":[function(require,module,exports) {
function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}null==sessionStorage.getItem("userInfo")&&(document.body.style.display="none",alert("NOT AUTHORIZED"));var t,n=[],a=[],l=[],d=[],i=[],s=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=!1,c=!1;window.onload=function(){he(),$(".dropdown").click(function(){$(".dropdown-menu").toggleClass("show")}),$("#description").focus(function(){$("#description").css("border","1px solid #458ec1")}).blur(function(){$("#description").css("border","1px solid lightgray")}),$("#create-exam").on("blur",":input",function(){h(!1)}),$("#create-exam").on("change","input:radio",function(){h(!1)}),$(window).scroll(function(){for(var e=1;e<document.getElementsByClassName("question").length+1;e++){var t=document.getElementById(e),n=$(window).scrollTop(),a=n+$(window).height(),l=$(t).offset().top;l+$(t).height()<=a&&l>=n?navigator.userAgent.toLowerCase().indexOf("safari/")>-1?(document.getElementById("question-manager").scrollTop=document.getElementById("question-tracker").clientHeight*(e-1),document.getElementsByClassName(e)[0].childNodes[0].innerHTML="&#x25CF;",document.getElementsByClassName(e)[0].childNodes[1].childNodes[0].style.color="white",document.getElementsByClassName(e)[0].childNodes[1].childNodes[0].style.marginRight="10px"):(document.getElementById("question-manager").scrollTop=document.getElementById("question-tracker").clientHeight*(e-1),document.getElementsByClassName(e)[0].childNodes[0].innerHTML="&#x25CF;",document.getElementsByClassName(e)[0].childNodes[1].childNodes[0].style.color="white"):navigator.userAgent.toLowerCase().indexOf("safari/")>-1?(document.getElementsByClassName(e)[0].childNodes[0].innerHTML="&#x25CC;",document.getElementsByClassName(e)[0].childNodes[1].childNodes[0].style.color="black",document.getElementsByClassName(e)[0].childNodes[1].childNodes[0].style.marginRight="0"):null!=document.getElementsByClassName(e)[0]&&(document.getElementsByClassName(e)[0].childNodes[0].innerHTML="&#x25CC;",document.getElementsByClassName(e)[0].childNodes[1].childNodes[0].style.color="black")}})};var m=JSON.parse(sessionStorage.getItem("userInfo"))[1],p=JSON.parse(sessionStorage.getItem("userInfo"))[2];function u(){var e=0;0==n.length&&firebase.database().ref("exam-codes").on("value",function(e){e.forEach(function(e){n.push(e.val().split(";")[0]),a.push(e.val().split(";")[1])})});var t=T(),l={examCode:t.toUpperCase(),examTitle:"",lastSaved:"",examType:"",examTotalPoints:"",examTotalMins:"",examDate:"",examDescription:"",questions:[{title:"",type:"",points:"",choices:[{value:""},{value:""},{value:""},{value:""}]}]};firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/").once("value",function(t){t.forEach(function(t){"no_exams"==t.val()?firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/").child(t.key).remove():e++})}),e<26?firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+o[o.length-1-e]+t.toUpperCase()).push(l):firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+o[o.length-1-e-26]+o[o.length-1-e-26]+t.toUpperCase()).push(l),re(!0,4),document.getElementById("create-exam").style.display="initial",document.getElementById("main").style.display="none",document.body.style.background="white",document.getElementById("exam-code").innerHTML=t.toUpperCase()}function y(){var e=document.createElement("div");e.innerHTML="Successfully Saved Exam!",e.style.textAlign="center",e.style.width="100%",e.style.position="fixed",e.style.zIndex="100000",e.style.top="0",e.className="alert alert-success",e.role="alert",document.getElementById("create-exam").appendChild(document.createElement("center").appendChild(e)),setTimeout(function(){document.getElementsByClassName("alert")[0].remove()},2500)}function h(t){t&&y();var n=(new Date).toLocaleString().replace(","," @");""==n&&(n=" Not Saved!"),document.getElementById("last-saved").innerHTML="Last Sync: "+n,document.getElementsByClassName("points")[0].value=g(),""!=document.getElementById("nameOfExam").value&&firebase.database().ref("exam-codes").once("value").then(function(e){e.forEach(function(e){e.val().split(";")[0]==document.getElementById("exam-code").innerHTML&&firebase.database().ref("exam-codes").child(e.key).set(e.val().split(";")[0]+";"+e.val().split(";")[1]+";"+e.val().split(";")[2]+";"+document.getElementById("nameOfExam").value)})});for(var a={examTeacher:m,examCode:document.getElementById("exam-code").innerHTML,examTitle:document.getElementById("nameOfExam").value,lastSaved:n,examTotalPoints:g(),examTotalMins:document.getElementsByClassName("time")[0].value,examDate:document.getElementById("date").value,examDescription:document.getElementById("description").value,questions:[]},l=document.getElementsByClassName("question"),d=new Array,i=0;i<l.length;i++){var s=(u=l[i]).childNodes,o=new Object;if(o.title=s[4].value,o.type=s[5].value,o.points=s[6].childNodes[1].value,o.checked=-1,o.imgSrc=s[6].childNodes[s[6].childNodes.length-1].className,t&&!t&&(o.imgShortDescription=t),o.choices=[],"mc"==o.type)for(var r=!1,c=0;c<s[7].childNodes.length-1;c++)o.choices.push(s[7].childNodes[c].childNodes[2].value),s[7].parentNode.childNodes[6].childNodes[3].checked&&!r&&(o.multiple="true",o.checked=[],r=!0),1==s[7].childNodes[c].childNodes[1].checked&&("object"==e(o.checked)?o.checked.push(c):o.checked=c);else if("fr"==o.type)o.choices.push(s[8].value);else if("tf"==o.type)s[8].childNodes[0].checked?o.choices.push("true"):o.choices.push("false");else{var p=document.getElementsByClassName("matchingbox");o.numBoxes=p.length;for(i=0;i<p.length;i++){var u=p[i].childNodes[3].value,h=p[i].childNodes[5].value;o.choices.push(u+";"+h)}}d.push(o);var E=JSON.parse(JSON.stringify(d));$.extend(a,{questions:E})}var f="";firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/").once("value").then(function(e){e.forEach(function(e){e.key.substring(1)==document.getElementById("exam-code").innerHTML&&(f=e.key)}),firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+f).once("value").then(function(e){e.forEach(function(e){"responses"!=e.key&&"taken"!=e.key&&firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+f).child(e.key).set(a)})})})}function g(){for(var e=document.getElementsByClassName("numPoints"),t=0,n=0;n<e.length;n++)""!=e[n].value&&(t+=parseInt(e[n].value));return t}function E(e,t){var n=document.getElementById("question-manager"),a=document.createElement("div");a.id="question-tracker",a.className=e,$(a).hover(function(){navigator.userAgent.toLowerCase().indexOf("safari/")>-1?(this.style.cursor="pointer",$(this).children()[0].innerHTML="&#x25CF;",this.childNodes[1].childNodes[0].style.color="white",this.childNodes[1].childNodes[0].style.marginRight="10px"):(this.style.cursor="pointer",$(this).children()[0].innerHTML="&#x25CF;",this.childNodes[1].childNodes[0].style.color="white")},function(){navigator.userAgent.toLowerCase().indexOf("safari/")>-1?(this.childNodes[1].childNodes[0].style.color="black",$(this).children()[0].innerHTML="&#x25CC;",this.childNodes[1].childNodes[0].style.marginRight="0"):(this.childNodes[1].childNodes[0].style.color="black",$(this).children()[0].innerHTML="&#x25CC;")}),a.onclick=function(){document.getElementById(e).scrollIntoView({block:"center"})};var l=document.createElement("div");l.id="circle",l.innerHTML="&#x25CC;";var d=document.createElement("center"),i=document.createElement("div");i.id="text",i.innerHTML=e,d.appendChild(i),a.appendChild(l),a.appendChild(d),n.appendChild(a),n.scrollTop=n.clientHeight+n.clientHeight}function f(e,t){var n=t.split("/");n.pop(),firebase.database().ref(n.join().split(",").join("/")).once("value").then(function(t){t.forEach(function(t){t.key.substring(1)==e&&firebase.database().ref(n.join().split(",").join("/")+"/"+t.key).once("value").then(function(e){e.forEach(function(e){var t=e.val();if(null!=t.examCode){document.getElementById("last-saved").innerHTML="Last Sync: "+t.lastSaved,document.getElementById("exam-code").innerHTML=t.examCode,document.getElementById("date").value=t.examDate,document.getElementById("description").value=t.examDescription,document.getElementById("nameOfExam").value=t.examTitle,document.getElementsByClassName("time")[0].value=t.examTotalMins;for(var n=0;n<Object.keys(t.questions).length;n++){var a=document.getElementsByClassName("question"),l=e.val().questions[n];if(null!=l.choices&&"matching"!=l.type)if(re(!0,Object.keys(l.choices).length),E(n+1,!0),a[n].childNodes[4].value=l.title,a[n].childNodes[6].childNodes[1].value=l.points,a[n].childNodes[5].value=l.type,""!=l.imgSrc&&(a[n].childNodes[6].childNodes[4].style.display="initial",a[n].childNodes[6].childNodes[4].onclick=function(){swal({icon:l.imgSrc,text:l.imgShortDescription,className:"imgView"})}),ne(l.type,n,"mc"),"mc"==l.type){for(var d="true"==l.multiple,i=0;i<Object.keys(l.choices).length;i++)null!=l.choices[i].value?(a[n].childNodes[7].childNodes[i].childNodes[2].value=l.choices[i].value,i!=l.checked||d||x(a[n].childNodes[7].childNodes[i].childNodes[1])):(a[n].childNodes[7].childNodes[i].childNodes[2].value=l.choices[i],i!=l.checked||d||x(a[n].childNodes[7].childNodes[i].childNodes[1]));var s=document.getElementsByClassName("checkBox")[n];d&&(s.checked=!0,setTimeout(v,500,a[n],l.checked.length,s)),s.addEventListener("change",function(){this.checked?(C(s),h(!1)):(b(s),h(!1))})}else"fr"==l.type?a[n].childNodes[8].value=l.choices[0]:"tf"==l.type&&("true"==l.choices[0]?a[n].childNodes[8].childNodes[0].checked=!0:a[n].childNodes[8].childNodes[2].checked=!0)}}})})})}),setTimeout(function(){document.getElementsByClassName("points")[0].value=g()},200)}function v(e,t,n){C(n);for(var a=0;a<t;a++)x(e.childNodes[7].childNodes[a].childNodes[1]);h(!1)}function C(e){for(var t=e.parentNode.parentNode.childNodes[7].childNodes,n=t.length-1,a=0;a<n;a++)t[a].childNodes[1].name=a}function b(e){for(var t=e.parentNode.parentNode.childNodes[7].childNodes,n=t.length-1,a=0;a<n;a++)t[a].childNodes[1].name=e.parentNode.parentNode.id+"."}function x(e){setTimeout(function(){e.checked=!0},800)}function I(e){null!=$("#exam-wrapper")&&$("#exam-wrapper").empty();var t=0,n=0,a=0,l=0;document.getElementById("welcome-div").style.display="none",document.getElementById("wrapper").style.display="none",document.getElementById("classSpecific").style.display="initial",document.getElementById("exam-wrapper").style.display="grid",document.getElementById("main-header").innerHTML="Welcome to "+e,document.body.style.backgroundImage="linear-gradient(to top, #dfe9f3 0%, white 100%)",sessionStorage.setItem("createExamClass",e),firebase.database().ref("Teachers/"+m+"/Classes/"+e+"/Exams/").on("value",function(i){d.push(i.val()),0,i.forEach(function(d){for(var i in d.child("responses").forEach(function(e){l++,t++;var d=e.val()[Object.keys(e.val())[0]].score;n+=parseInt(d),a+=parseInt(d)}),d.val()){if("no_exams"!=d.val()){J(d.val()[i].examTitle,(a/l).toFixed(1),"Teachers/"+m+"/Classes/"+e+"/Exams/"+d.key,d.val()[i].examCode);var s=d.val()[i].examTitle;if(null!=sessionStorage.getItem("CreatedExamCode"))null!=(o=document.getElementById("cached-code"))&&(o.id="cached-exam-button",o.style.display="inline-block",o.onclick=function(){document.getElementById("create-exam").style.display="initial",document.getElementById("main").style.display="none",document.body.style.background="white",f(sessionStorage.getItem("CreatedExamCode").toUpperCase(),"Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+sessionStorage.getItem("CreatedExamCode").toUpperCase())});else if(null!=localStorage.getItem("lastEditedExam")){var o;null!=(o=document.getElementById("cached-code"))&&(o.id="cached-exam-button",o.style.display="inline-block",document.getElementById("cached-exam-code").innerHTML="View "+localStorage.getItem("lastEditedExam"),o.onclick=function(){L(localStorage.getItem("lastEditedExam"))})}""==d.val()[i].examTitle&&(s=d.val()[i].examCode),null!=sessionStorage.getItem("CreatedExamCode")&&sessionStorage.getItem("CreatedExamCode").toUpperCase()==d.val()[i].examCode&&(document.getElementById("cached-exam-button").style.display="initial",document.getElementById("cached-exam-code").innerHTML="Edit "+s);break}document.getElementById("no-exams").style.display="initial"}a=0,l=0}),"NaN"==(n=(n/=t).toFixed(1))?document.getElementById("avg-grade-number").innerHTML="No Data":(document.getElementById("avg-grade-number").innerHTML=n+"%",sessionStorage.setItem("avg-grade-number",n+"%"))})}function T(){var e=Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5),t="",a=document.getElementById("main-header").innerHTML.substring(document.getElementById("main-header")).split(" ");a.shift(),a.shift();for(var l=0;l<a.length;l++)l!=a.length-1?t+=a[l]+" ":t+=a[l];if(-1==n.indexOf(e))return firebase.database().ref("exam-codes").push(e.toUpperCase()+";"+m+";"+t+";"+e.toUpperCase()),sessionStorage.setItem("CreatedExamCode",e),e;T()}function N(e){e.matches?document.getElementById("dropdown").style.display="none":document.getElementById("dropdown").style.display="initial"}document.getElementById("welcome-text").innerHTML="Welcome "+m+"!",document.getElementById("profile").src=p,$("#profile").click(function(){swal({title:"Sign Out",text:"Are You Sure You Want To Sign Out?",icon:"warning",buttons:["Cancel","Sign Me Out!"]}).then(function(e){e&&(window.location.href="index.html?noRedirect")})});var B=window.matchMedia("(min-width: 601px)");function L(e){if(r){document.getElementsByClassName("table")[0].style.display="table",document.getElementById("topPage").style.display="initial",document.getElementById("examSpecific").style.display="inherit",document.getElementById("classSpecific").style.display="none",document.getElementById("exam-wrapper").style.display="none",document.body.style.backgroundImage="linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%);"}else{var t=0,n=0,a="a:-1000",s="a:1000",o=!1,c=[];document.getElementById("welcome-div").style.display="none",document.getElementById("wrapper").style.display="none",document.getElementById("classSpecific").style.display="none",document.getElementById("exam-wrapper").style.display="none",document.getElementById("examSpecific").style.display="initial",document.getElementById("sort-menu").style.display="initial",document.getElementById("exam-name").innerHTML=e,document.getElementById("this-exam").innerHTML=e,document.body.style.backgroundImage="linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)";var p=document.createElement("i");p.className="glyphicon glyphicon-circle-arrow-up",p.id="topPage",p.onclick=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},document.getElementById("main").appendChild(document.createElement("br")),document.getElementById("main").appendChild(p);var u="",y="";for(var h in d)if(l.hasOwnProperty(h)){var g=d[h];for(var E in g)for(var v in g[E])if(null!=g[E][v].examCode&&Object.keys(g[E]).length>1){var C=g[E][v].examCode;if(sessionStorage.setItem("populatedExamCode",C),e==g[E][v].examTitle&&(u=C,y=E,document.getElementById("edit-exam").innerHTML=e,document.getElementById("edit-current-exam").style.display="initial",document.getElementById("edit-current-exam").onclick=function(){document.getElementById("create-exam").style.display="initial",document.getElementById("main").style.display="none",document.body.style.background="white",f(u,"Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+y)},document.getElementById("view-item-analysis").style.display="initial",document.getElementById("view-item-analysis").onclick=function(){document.getElementById("main").style.display="none",document.getElementById("item-analysis").style.display="inline-block",document.body.style.backgroundImage="linear-gradient(to bottom, #6a85b6 0%, #bac8e0 100%)",document.getElementById("item-analysis-name").innerHTML=e,document.getElementById("current-exam").innerHTML=e,M(u,"Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+y)}),!g.hasOwnProperty(E))continue;var b=g[E][v].examTitle;if(""==b&&(b=g[E][v].examCode.substring(1)),b==e){var x,I=document.createElement("div");(x=document.createElement("table")).id="random",x.className="table table-striped",x.style.width="100vw";var T=document.createElement("tr");T.style.color="darkgray";var N=document.createElement("td");N.innerHTML="Name",N.style.paddingLeft="66px",N.id="name";var B=document.createElement("td");B.innerHTML="Score (%)",B.id="score";var L=document.createElement("td");L.innerHTML="Percentile",L.id="percentile";var H=document.createElement("td");H.innerHTML="Time",H.id="time",T.appendChild(N),T.appendChild(B),T.appendChild(L),T.appendChild(H),x.appendChild(T)}}else if(Object.keys(g[E]).length>1&&!o)for(var k in o=!0,g[E].responses){var w=g[E].responses[k][Object.keys(g[E].responses[k])[0]];c.push(parseInt(w.score)),i.push(w.name+":"+w.score+":"+w.time),t+=parseInt(w.score),n=Object.keys(g[E].responses).length,parseInt(w.score)>parseInt(a.split(":")[1])&&(a=w.name+":"+parseInt(w.score)),parseInt(w.score)<parseInt(s.split(":")[1])&&(s=w.name+":"+parseInt(w.score));var O=document.createElement("tr");O.className=k;var q=E;O.onclick=function(){R(this.className,q)},x.appendChild(document.createElement("br"));var $=document.createElement("td");$.style.paddingLeft="66px",$.id="name";var j=document.createElement("td"),F=document.createElement("td"),A=document.createElement("td");$.innerHTML=w.name,$.id="name",j.innerHTML=w.score+"%",j.id="score",A.innerHTML=w.time+" Mins",A.id="time",F.innerHTML=S(parseInt(w.score),g[E].responses,w.name)+"th",F.id="percentile",O.appendChild($),O.appendChild(j),O.appendChild(F),O.appendChild(A),x.appendChild(O),I.appendChild(x),document.getElementById("main").appendChild(I)}}var P=document.getElementById("overall-data"),D=document.createElement("ul");D.style.float="right",D.style.marginRight="15vw";var U=document.createElement("li");U.innerHTML="Class Average: "+(t/n).toFixed(1)+"%",U.style.fontSize="20px";var W=document.createElement("li");W.innerHTML="Highest Scorer: "+a.split(":")[0]+" ("+a.split(":")[1]+"%)",W.style.fontSize="20px";var Y=document.createElement("li");Y.innerHTML="Lowest Scorer: "+s.split(":")[0]+" ("+s.split(":")[1]+"%)",Y.style.fontSize="20px";var z=document.createElement("li");mean=c.reduce(function(e,t){return e+t})/c.length,sd=Math.sqrt(c.map(function(e){return Math.pow(e-mean,2)}).reduce(function(e,t){return e+t})/c.length),z.innerHTML="Standard Deviation (σ): "+sd.toFixed(3),z.style.fontSize="20px",D.appendChild(U),D.appendChild(W),P.appendChild(document.createElement("br")),D.appendChild(Y),D.appendChild(z),P.appendChild(D)}r=!0}function M(e,t){var n=document.getElementById("item-analysis-data"),a=[];firebase.database().ref(t).once("value",function(e){for(var t in e.val().responses){var l=e.val().responses[t][[Object.keys(e.val().responses[t])[0]]];a.push(l.answers)}e.forEach(function(e){if(null!=e.val().examCode){var t=e.val().questions;for(var l in t){var d=t[l];H(n,d,a,l)}}})})}function H(e,t,n,a){var l=document.createElement("div"),d=[];(E=document.createElement("span")).style.color="#2e2f7d",E.style.paddingRight="20px",E.style.paddingLeft="20px",E.style.float="left",E.style.paddingRight="20px",E.style.borderRight="1px solid #2e2f7d",E.innerHTML=parseInt(a)+1,l.appendChild(E);var i=n.length,s=new Array(t.choices.length).fill(0),o=new Array(2).fill(0),r=document.createElement("div");if(r.className="progress",r.style.width="85%","mc"==t.type){for(var c=0;c<n.length;c++)s[parseInt(n[c][0].split(":")[1])]++;for(var m=0;m<s.length;m++)if(0!=s[m]){if(m==t.checked){var p=(s[m]/i*100).toFixed(2)+"%";(h=document.createElement("div")).className="progress-bar progress-bar-success progress-bar-striped",h.innerHTML="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")[m]+" ("+p+")",setTimeout(k,250,h,p),r.appendChild(h)}else{var u=(s[m]/i*100).toFixed(2)+"%";d.push(u),(g=document.createElement("div")).style.borderLeft="2px solid white",g.className="progress-bar progress-bar-danger progress-bar-striped",g.innerHTML="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("")[m]+" ("+u+")",setTimeout(k,250,g,u),r.appendChild(g)}l.appendChild(r)}}else if("tf"==t.type){for(c=0;c<n.length;c++)o[parseInt(n[c][0].split(":")[1])]++;if("true"==t.choices[0]){i=parseInt(o[0])+parseInt(o[1]),u=o[0]/i*100+"%";(h=document.createElement("div")).className="progress-bar progress-bar-success progress-bar-striped",h.innerHTML="TF".split("")[0]+" ("+u+")",setTimeout(k,250,h,u),r.appendChild(h);var y=o[1]/i*100+"%";(g=document.createElement("div")).style.borderLeft="2px solid white",g.className="progress-bar progress-bar-danger progress-bar-striped",g.innerHTML="TF".split("")[1]+" ("+y+")",setTimeout(k,250,g,y),r.appendChild(g)}else if("false"==t.choices[0]){var h,g;i=parseInt(o[0])+parseInt(o[1]),u=o[1]/i*100+"%";(h=document.createElement("div")).className="progress-bar progress-bar-success progress-bar-striped",h.innerHTML="TF".split("")[1]+" ("+u+")",setTimeout(k,250,h,u),r.appendChild(h);y=o[0]/i*100+"%";(g=document.createElement("div")).style.borderLeft="2px solid white",g.className="progress-bar progress-bar-danger progress-bar-striped",g.innerHTML="TF".split("")[0]+" ("+y+")",setTimeout(k,250,g,y),r.appendChild(g)}l.appendChild(r)}else if("fr"==t.type){var E;(E=document.createElement("span")).style.color="black",E.style.borderLeft="1px solid black",E.style.borderRight="1px solid black",E.style.paddingLeft="10px",E.style.paddingRight="10px",E.innerHTML="This is a Free Response question, so there is no item-analysis data.",l.appendChild(E)}e.appendChild(document.createElement("br")),e.appendChild(l),e.appendChild(document.createElement("br")),e.appendChild(document.createElement("hr"))}function k(e,t){e.style.width=t}function w(){document.getElementById("main").style.display="initial",document.getElementById("item-analysis").style.display="none",document.body.style.backgroundImage="linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%)"}function S(e,t,n){var a=0;for(var l in t)e>parseInt(t[l][Object.keys(t[l])[0]].score)?a++:e==parseInt(t[l][Object.keys(t[l])[0]].score)&&n!=t[l][Object.keys(t[l])[0]].name&&0;return 100*(a/Object.keys(t).length).toFixed(1)}function O(){for(var e=document.getElementsByTagName("LI"),t=0;t<e.length;t++)e[t].className=""}function q(e){'<a href="#">Ping-Pong</a>'==e?(document.getElementById("main").style.display="none",document.getElementById("pong").style.display="initial",document.getElementById("leaderboard").style.display="none",document.getElementById("feedback").style.display="none",document.getElementById("create-exam").style.display="none",document.getElementById("report-bug").style.display="none",document.getElementById("item-analysis").style.display="none",document.getElementById("create-exam").style.display="none"):'<a href="#">Dashboard</a>'==e?(document.getElementById("main").style.display="initial",document.getElementById("pong").style.display="none",document.getElementById("leaderboard").style.display="none",document.getElementById("feedback").style.display="none",document.getElementById("create-exam").style.display="none",document.getElementById("report-bug").style.display="none",document.getElementById("item-analysis").style.display="none",document.getElementById("create-exam").style.display="none"):'<a href="#">Leaderboard</a>'==e?(populateLeaderboard(),document.getElementById("feedback").style.display="none",document.getElementById("create-exam").style.display="none",document.getElementById("report-bug").style.display="none",document.getElementById("item-analysis").style.display="none",document.getElementById("create-exam").style.display="none"):'<a href="#">Feedback</a>'==e?(document.getElementById("main").style.display="none",document.getElementById("pong").style.display="none",document.getElementById("leaderboard").style.display="none",document.getElementById("feedback").style.display="initial",document.getElementById("create-exam").style.display="none",document.getElementById("report-bug").style.display="none",document.getElementById("item-analysis").style.display="none",document.getElementById("create-exam").style.display="none"):'<a href="#">Report A Bug!</a>'==e&&(document.getElementById("main").style.display="none",document.getElementById("pong").style.display="none",document.getElementById("leaderboard").style.display="none",document.getElementById("report-bug").style.display="initial",document.getElementById("feedback").style.display="none",document.getElementById("create-exam").style.display="none")}function j(){document.getElementById("classSpecific").style.display="none",document.getElementById("welcome-div").style.display="block",document.getElementById("wrapper").style.display="grid",document.getElementById("doesNotExist").style.display="none",document.getElementById("no-exams").style.display="none",document.getElementById("exam-wrapper").style.display="none",document.body.style.backgroundImage="none"}function F(){for(var e=document.getElementsByClassName("table"),t=0;t<e.length;t++)e[t].style.display="none";document.getElementById("topPage").style.display="none",document.getElementById("examSpecific").style.display="none",document.getElementById("classSpecific").style.display="initial",document.getElementById("exam-wrapper").style.display="grid",document.body.style.backgroundImage="linear-gradient(to top, rgb(223, 233, 243) 0%, white 100%)",$(document.getElementById("overall-data")).empty()}function A(){F(),j()}function R(e,t){document.getElementById("examSpecific").style.display="none",document.getElementById("student-exam-data").style.display="initial",document.body.style.backgroundImage="none";for(var n,a=document.getElementsByClassName("table"),l=0;l<a.length;l++)a[l].style.display="none";firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Students").once("value",function(t){for(var a in t.val()){var l=t.val()[a],d=l.split(";")[0],i=l.split(";")[1];e==i&&(n=d)}}),firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+t).once("value",function(a){var l=a.val().responses[e][Object.keys(a.val().responses[e])[0]];document.getElementById("resetStatus").onclick=function(){for(var l in a.val().taken){a.val().taken[l]==n&&firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+t+"/taken/").child(l).remove()}swal("Success!",e+"'s taken status has been reset. "+e+" should be able to retake exam now.","success")};var d=l.totalScore/100*a.val()[Object.keys(a.val())[0]].examTotalPoints;document.getElementById("score-num").innerHTML=d.toFixed(0)+" / "+a.val()[Object.keys(a.val())[0]].examTotalPoints,document.getElementById("score").innerHTML=l.totalScore+"%";var i="";sessionStorage.setItem("totalPointsExcludingFr",0);for(var s=0;s<Object.keys(l.answers).length;s++)"tf"==a.val()[Object.keys(a.val())[0]].questions[s].type?i=a.val()[Object.keys(a.val())[0]].questions[s].choices[0]:"mc"==a.val()[Object.keys(a.val())[0]].questions[s].type?i=a.val()[Object.keys(a.val())[0]].questions[s].checked:"fr"==a.val()[Object.keys(a.val())[0]].questions[s].type&&(i=""),P(l.answers[s].split(";")[1],i,Object.keys(a.val()[Object.keys(a.val())[0]].questions[s].choices).length,a.val()[Object.keys(a.val())[0]].questions[s].points,a.val()[Object.keys(a.val())[0]].questions[s],e,t,a.val()[Object.keys(a.val())[0]].examTotalPoints)})}function P(e,t,n,a,l,d,i,s){var o=0;"true"==t?(t="0",n=2):"false"==t&&(t="1",n=2);var r=!1;e==t&&(r=!0),"fr"!=l.type&&r&&sessionStorage.setItem("totalPointsExcludingFr",parseInt(sessionStorage.getItem("totalPointsExcludingFr"))+parseInt(l.points));var c=document.getElementById("question-data"),p=document.createElement("div");p.className="question",p.id=document.getElementsByClassName("question").length+1;var u=document.createElement("span");u.innerHTML=document.getElementsByClassName("question").length+1+". ",u.style.color="#97a5aa";var y=document.createElement("hr"),h=document.createElement("input");h.readOnly=!0,h.value=l.title,h.id="question-title",p.appendChild(u),p.appendChild(h),r&&(o=a);var g=document.createElement("div");g.id="points",(N=document.createElement("span")).innerHTML="( ";var E=document.createElement("span");E.type="text",E.id="numPoints",E.innerHTML=a;var f=document.createElement("span");f.className="pa",f.innerHTML=" points)  -  points awarded: "+o,g.appendChild(N),g.appendChild(E),g.appendChild(f),p.appendChild(g);var v=document.createElement("div");v.className="mc";for(var C=0;C<n;C++){var b=document.createElement("label");if(b.id="label",b.style.width="95%",r&&C==e||C==t){b.style.background="#e4f7e4",b.style.borderTop="1px solid #00cc00",b.style.borderBottom="1px solid #00cc00";var x=document.createElement("span");x.innerHTML="Correct Answer",x.style.float="right",x.style.fontWeight="normal",x.style.marginTop="10px",x.style.color="#00cc00",x.style.marginRight="15px",b.appendChild(x)}else if(!r&&C==e){b.style.background="#f2ebeb",b.style.borderTop="1px solid #cc5252",b.style.borderBottom="1px solid #cc5252",b.style.color="#cc5252";var I=document.createElement("span");I.innerHTML="Student Answer",I.style.float="right",I.style.fontWeight="normal",I.style.marginTop="10px",I.style.color="#cc5252",I.style.marginRight="15px",b.appendChild(I)}var T=document.createElement("input");T.disabled=!0,T.style.outline="none",T.type="radio",T.className="option-input radio",T.name=u.innerHTML;var N=document.createElement("span");"tf"!=l.type&&"fr"!=l.type?N.innerHTML=l.choices[C]:"tf"==l.type&&(N.innerHTML=0==C?"True":"False"),N.style.fontWeight="normal";var B=document.createElement("span");B.className="option",B.id="question-choice",b.appendChild(T),b.appendChild(B),b.appendChild(N),v.appendChild(b)}if("fr"==l.type){var L=document.createElement("textarea");$(L).attr("readonly",!0),L.className="fr",L.value=e;var M=document.createElement("span");M.innerHTML="Points Awarded - ";var H=document.createElement("input");H.maxLength=l.points.length,firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+i+"/responses/"+d).once("value",function(e){e.forEach(function(e){var t=e.val().answers;null!=t[2].split(";")[2]&&(setTimeout(function(){document.getElementsByClassName("pa")[parseInt(u.innerHTML.substring(0,u.innerHTML.indexOf(".")))-1].innerHTML=" points)  -  points awarded: "+t[2].split(";")[2]},100),H.value=t[2].split(";")[2])})}),H.onkeyup=function(){this.value=this.value.replace(/[^\d]/,""),this.value=this.value.replace("-",""),""!=this.value?document.getElementsByClassName("pa")[parseInt(u.innerHTML.substring(0,u.innerHTML.indexOf(".")))-1].innerHTML=" points)  -  points awarded: "+this.value:document.getElementsByClassName("pa")[parseInt(u.innerHTML.substring(0,u.innerHTML.indexOf(".")))-1].innerHTML=" points)  -  points awarded: 0";var e=this.value;firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+i+"/responses/"+d).once("value",function(t){t.forEach(function(t){for(var n=t.val().answers,a=0;a<n.length;a++)isNaN(n[a].split(";")[1])&&(n[a]=n[a].split(";")[0]+";"+n[a].split(";")[1]+";"+e);firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+i+"/responses/"+d+"/"+t.key).update({answers:n});var l=((parseInt(sessionStorage.getItem("totalPointsExcludingFr"))+parseInt(e))/s*100).toFixed(1);firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+i+"/responses/"+d+"/"+t.key).update({totalScore:l}),document.getElementById("score").innerHTML=l+"%",document.getElementById("score-num").innerHTML=parseInt(sessionStorage.getItem("totalPointsExcludingFr"))+parseInt(e)+" / "+s})})},H.placeholder="0 - "+l.points,H.style.padding="5px",H.style.fontSize="15px",H.style.border="1px solid #808080",H.style.borderRadius="3px",H.style.marginTop="20px",p.appendChild(L),p.appendChild(document.createElement("br")),p.appendChild(M),p.appendChild(H)}else p.appendChild(v);c.appendChild(p),c.appendChild(document.createElement("br")),c.appendChild(y)}function D(e,t){var n=0;for(var a in t)parseInt(e.split(":")[1])>parseInt(t[a].split(":")[1])?n++:parseInt(e.split(":")[1])==parseInt(t[a].split(":")[1])&&e.split(":")[0]!=t[a].split(":")[0]&&0;return 100*(n/Object.keys(t).length).toFixed(1)}function U(e){for(var t=document.getElementsByClassName("table table-striped"),n=0;n<t.length;n++)t[n].style.display="none";var a=i.slice();if(a.sort()," Original"==e){(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(var l=0;l<i.length;l++){var d=document.createElement("tr"),s=l;d.onclick=function(){R(i[s].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";var o=document.createElement("td"),r=document.createElement("td");f.innerHTML=i[l].split(":")[0],o.innerHTML=i[l].split(":")[1]+"%",r.innerHTML=D(i[l],i)+"th",(v=document.createElement("td")).innerHTML=i[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}else if(" Sort By Alphabet (A-Z)"==e){a.sort(),(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(l=0;l<a.length;l++){(d=document.createElement("tr")).onclick=function(){R(a[l].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";o=document.createElement("td"),r=document.createElement("td");f.innerHTML=a[l].split(":")[0],o.innerHTML=a[l].split(":")[1]+"%",r.innerHTML=D(a[l],a)+"th",(v=document.createElement("td")).innerHTML=a[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}else if(" Sort By Alphabet (Z-A)"==e){a.sort(),(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(l=a.length-1;l>=0;l--){(d=document.createElement("tr")).onclick=function(){R(a[l].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";o=document.createElement("td"),r=document.createElement("td");f.innerHTML=a[l].split(":")[0],o.innerHTML=a[l].split(":")[1]+"%",r.innerHTML=D(a[l],a)+"th",(v=document.createElement("td")).innerHTML=a[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}else if(" Sort By Score (high-low)"==e){var c=W(a);(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(l=c.length-1;l>=0;l--){(d=document.createElement("tr")).onclick=function(){R(c[l].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";o=document.createElement("td"),r=document.createElement("td");f.innerHTML=c[l].split(":")[0],o.innerHTML=c[l].split(":")[1]+"%",r.innerHTML=D(c[l],c)+"th",(v=document.createElement("td")).innerHTML=a[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}else if(" Sort By Score (low-high)"==e){c=W(a);(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(l=0;l<c.length;l++){(d=document.createElement("tr")).onclick=function(){R(c[l].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";o=document.createElement("td"),r=document.createElement("td");f.innerHTML=c[l].split(":")[0],o.innerHTML=c[l].split(":")[1]+"%",r.innerHTML=D(c[l],c)+"th",(v=document.createElement("td")).innerHTML=a[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}else if(" Sort By Time (high-low)"==e){var m=z(a);(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(l=m.length-1;l>=0;l--){(d=document.createElement("tr")).onclick=function(){R(m[l].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";o=document.createElement("td"),r=document.createElement("td");f.innerHTML=m[l].split(":")[0],o.innerHTML=m[l].split(":")[1]+"%",r.innerHTML=D(m[l],m)+"th",(v=document.createElement("td")).innerHTML=m[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}else if(" Sort By Time (low-high)"==e){var p,u,y,h,g,E;m=z(a);(p=document.createElement("table")).id="random",p.className="table table-striped",p.style.width="100vw",(u=document.createElement("tr")).style.color="darkgray",(y=document.createElement("td")).innerHTML="Name",y.style.paddingLeft="66px",y.id="name",(h=document.createElement("td")).innerHTML="Score (%)",h.id="score",(g=document.createElement("td")).innerHTML="Percentile",g.id="percentile",(E=document.createElement("td")).innerHTML="Time",E.id="time",u.appendChild(y),u.appendChild(h),u.appendChild(g),u.appendChild(E),p.appendChild(u);for(l=0;l<m.length;l++){var f;(d=document.createElement("tr")).onclick=function(){R(m[l].split(":")[0],sessionStorage.getItem("populatedExamCode"))},p.appendChild(document.createElement("br")),(f=document.createElement("td")).style.paddingLeft="66px";var v;o=document.createElement("td"),r=document.createElement("td");f.innerHTML=m[l].split(":")[0],o.innerHTML=m[l].split(":")[1]+"%",r.innerHTML=D(m[l],m)+"th",(v=document.createElement("td")).innerHTML=m[l].split(":")[2]+" Mins",v.id="time",d.appendChild(f),d.appendChild(o),d.appendChild(r),d.appendChild(v),p.appendChild(d)}document.getElementById("main").appendChild(p)}}function W(e){if(1===e.length)return e;var t=Math.floor(e.length/2),n=e.slice(0,t),a=e.slice(t);return Y(W(n),W(a))}function Y(e,t){for(var n=[],a=0,l=0;a<e.length&&l<t.length;)e[a].split(":")[1]<t[l].split(":")[1]?(n.push(e[a]),a++):(n.push(t[l]),l++);return n.concat(e.slice(a)).concat(t.slice(l))}function z(e){if(1===e.length)return e;var t=Math.floor(e.length/2),n=e.slice(0,t),a=e.slice(t);return V(z(n),z(a))}function V(e,t){for(var n=[],a=0,l=0;a<e.length&&l<t.length;)e[a].split(":")[2]<t[l].split(":")[2]?(n.push(e[a]),a++):(n.push(t[l]),l++);return n.concat(e.slice(a)).concat(t.slice(l))}function Q(){var e,t,n,a;for(e=document.getElementById("exam-search").value.toUpperCase(),t=document.getElementById("exam-wrapper").getElementsByClassName("examBox"),a=0;a<t.length;a++)((n=t[a].getElementsByTagName("span")[0]).textContent||n.innerText).toUpperCase().indexOf(e)>-1?t[a].style.display="":t[a].style.display="none"}function J(e,t,n,a){var l=document.getElementById("exam-wrapper"),d=document.createElement("div");d.className="examBox",d.style.background="white",d.onclick=function(){L(e),localStorage.setItem("lastEditedExam",e),document.getElementById("this-exam").innerHTML=e},firebase.database().ref(n).on("value",function(e){for(var t in e.val())e.val()[t].examCode==a&&null==e.val().responses&&(d.onclick=function(){document.getElementById("create-exam").style.display="initial",document.getElementById("main").style.display="none",document.body.style.background="white",f(a,n)})});var i=document.createElement("div");i.style.background=["linear-gradient( 135deg, #FEB692 10%, #EA5455 100%)","linear-gradient( 135deg, #72EDF2 10%, #5151E5 100%)","linear-gradient( 135deg, #ABDCFF 10%, #0396FF 100%)"][Math.floor(3*Math.random()+0)],i.style.borderRadius="10px 10px 0 0",i.className="wave",i.onclick=function(){};var s=document.createElement("span");""==e&&(e=a),s.innerHTML=e,s.style.marginLeft="30px",s.style.color="white",s.className="examName";var o=document.createElement("span");if(o.id="option_vertical",o.className="glyphicon glyphicon-option-vertical",o.onclick=function(){d.onclick=function(){};var t=document.createElement("div");t.id="modal";var l=document.createElement("ul"),i=document.createElement("li");i.className="options",i.innerHTML="Edit Exam",i.onclick=function(){document.getElementById("create-exam").style.display="initial",document.getElementById("main").style.display="none",document.body.style.background="white",f(a,n)};var s=document.createElement("li");s.className="options",s.innerHTML="View Results",s.onclick=function(){L(e),document.getElementById("this-exam").innerHTML=e};var r=document.createElement("li");r.className="options",r.innerHTML="Delete Exam",r.onclick=function(){_(a),setTimeout(function(){document.getElementById("create-exam").style.display="none"},500)};var c=document.createElement("li");c.className="options",c.innerHTML="Display Exam Info",c.onclick=function(){document.getElementById("main").style.display="none",document.getElementById("create-exam").style.display="none",document.getElementById("display").style.display="block",document.getElementById("display-code").innerHTML=a,document.body.style.backgroundImage="none";var e=Math.random().toString(36).substring(7);X(a,"Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/",e),firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+sessionStorage.getItem(e)+"/taken").on("value",function(e){$("#joined-students").html(""),e.forEach(function(e){var t="";firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Students/").once("value",function(n){n.forEach(function(n){n.val().split(";")[0]==e.val()&&(t=n.val().split(";")[1])})}),setTimeout(function(){K(t)},55)})})},l.appendChild(i),l.appendChild(document.createElement("hr")),l.appendChild(s),l.appendChild(document.createElement("hr")),l.appendChild(r),l.appendChild(document.createElement("hr")),l.appendChild(c),t.appendChild(l),document.getElementById("html").appendChild(t),document.body.style.opacity="0",document.body.style.filter="blur(30px)",document.body.style.overflowY="hidden",window.onclick=function(e){e.target!=o&&e.target!=t&&document.getElementById("modal")&&(t.remove(),document.body.style.overflowY="auto",document.body.style.opacity="1",document.body.style.filter="blur(0px)")},$(document).keyup(function(e){"Escape"===e.key&&(t.remove(),document.body.style.overflowY="auto",document.body.style.opacity="1",document.body.style.filter="blur(0px)")}),setTimeout(function(){d.onclick=function(){L(e),document.getElementById("this-exam").innerHTML=e}},3e3)},i.appendChild(s),i.appendChild(o),i.appendChild(document.createElement("hr")),setTimeout(Z,250,i),d.appendChild(i),"NaN"==t){(c=document.createElement("span")).innerHTML="No Responses!";var r=document.createElement("button");r.style.border="none",r.style.borderRadius="5px",r.style.padding="10px",r.style.marginTop="10px",r.style.boxShadow="3px 5px lightgray",r.innerHTML="Display Exam Info",r.onmouseover=function(){this.style.transform="translate(2px)"},r.onmouseleave=function(){this.style.transform="translate(0px)",this.style.transition="all .5s"},r.onclick=function(){d.onclick=function(){},document.getElementById("main").style.display="none",document.getElementById("create-exam").style.display="none",document.getElementById("display").style.display="block",document.getElementById("display-code").innerHTML=a,document.body.style.backgroundImage="none";var e=Math.random().toString(36).substring(7);X(a,"Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/",e),firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/"+sessionStorage.getItem(e)+"/taken").on("value",function(e){$("#joined-students").html(""),e.forEach(function(e){var t="";firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Students/").once("value",function(n){n.forEach(function(n){n.val().split(";")[0]==e.val()&&(t=n.val().split(";")[1])})}),setTimeout(function(){K(t)},100)})})},d.appendChild(c),d.appendChild(document.createElement("br")),d.appendChild(r)}else{var c,p=document.createElement("span");p.innerHTML=ue(t),p.style.color="#2e2f7d",p.style.fontSize="90px",(c=document.createElement("span")).innerHTML="Class Average ("+t+")",d.appendChild(p),d.appendChild(document.createElement("br")),d.appendChild(c)}l.appendChild(d),document.getElementById("main").appendChild(l)}function X(e,t,n){firebase.database().ref(t).once("value",function(t){for(var a in t.val())a.substring(1)==e&&sessionStorage.setItem(n,a)})}function Z(e){var t=e.childNodes[0].innerHTML;e.childNodes[0].innerHTML=e.childNodes[0].innerHTML.replace(/ /g,"");var n=e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;e.childNodes[0].innerHTML=n?t.substring(0,15)+"...":t}function K(e){var t=document.getElementById("joined-students"),n=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(to top, #a3bded 0%, #6991c7 100%)","linear-gradient(60deg, #29323c 0%, #485563 100%)","linear-gradient(-60deg, #ff5858 0%, #f09819 100%)","linear-gradient(to top, #4481eb 0%, #04befe 100%)","linear-gradient(to right, #0acffe 0%, #495aff 100%)","linear-gradient(-225deg, #A445B2 0%, #D41872 52%, #FF0066 100%)"],a=document.createElement("div");a.id="currentlyTakingBox",a.style.backgroundImage=n[Math.floor(Math.random()*n.length)],a.innerHTML=e;var l=document.createElement("center");l.appendChild(a),t.appendChild(l)}function _(e){if(""==e)e=document.getElementById("exam-code").innerHTML;var t="";swal({title:"Are you sure?",text:"Once deleted, you will not be able to recover this exam or any of its response data!",icon:"warning",buttons:!0,dangerMode:!0}).then(function(n){if(n){var a=!1;firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("createExamClass")+"/Exams/").once("value").then(function(n){n.forEach(function(n){n.key.substring(1)==e&&(t=n.key)}),firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/"+t).remove();var l=firebase.database().ref("Teachers/"+m+"/Classes/"+sessionStorage.getItem("className")+"/Exams/");l.once("value",function(e){e.forEach(function(e){a=!0}),a||l.push("no_exams")})}),firebase.database().ref("exam-codes").on("value",function(t){t.forEach(function(t){t.val().split(";")[0]==e&&firebase.database().ref("exam-codes").child(t.key).remove()})}),G(),document.getElementById("create-exam").style.display="none",document.getElementById("main").style.display="initial",document.body.style.background="white",setTimeout(function(){$("#exam-wrapper").empty(),$("#exam").empty(),I(sessionStorage.getItem("className")),sessionStorage.getItem("CreatedExamCode").toUpperCase()==e&&(sessionStorage.setItem("CreatedExamCode",""),document.getElementById("cached-exam-button").remove()),swal("Poof! Your exam has been deleted!",{icon:"success"})},100)}})}function G(){document.getElementById("nameOfExam").value="",document.getElementById("description").value="",document.getElementsByClassName("time")[0].value="",document.getElementById("maxScore").value="",document.getElementById("date").value=""}function ee(){for(var e=document.getElementsByClassName("question"),t=0;t<e.length;t++){var n=e[t];n.childNodes[0].innerHTML=t+1+". ",n.id=t+1}}function te(){for(var e=document.getElementsByClassName("matchingbox"),t=0;t<e.length;t++){questions[t].childNodes[1].innerHTML=t+1+". "}}function ne(e,t,n){var a=t+1,l=document.getElementById(a);if(e!=n){for(var d=0;d<l.childNodes.length;d++)l.childNodes[d].className==n&&(l.childNodes[d].style.display="none");"mc"==e?document.getElementsByClassName("mc")[t].style.display="initial":(l.childNodes[6].childNodes[3].remove(),l.childNodes[6].childNodes[3].remove(),"fr"==e&&(document.getElementsByClassName("mc")[t].style.display="none",document.getElementById(a).appendChild(de())),"tf"==e&&(document.getElementsByClassName("mc")[t].style.display="none",document.getElementById(a).appendChild(le())),"matching"==e&&(document.getElementsByClassName("mc")[t].style.display="none",document.getElementById(a).appendChild(ie())))}}function ae(){var e,t,n;for(e=document.getElementById("lb-search"),t=document.getElementById("leaderboard").getElementsByClassName("name"),n=0;n<t.length;n++)t[n].innerHTML==e.value&&(t[n].style.border="1px solid black",t[n].scrollIntoView({behavior:"smooth"}))}function le(){var e=document.createElement("label");e.id="label",e.className="tf";var t=document.createElement("input");t.style.outline="none",t.type="radio",t.className="option-input radio",t.name="tf";var n=document.createElement("input");n.style.outline="none",n.type="radio",n.className="option-input radio",n.name="tf",n.style.marginLeft="10%";var a=document.createElement("span");a.innerHTML=" True",a.style.marginLeft="10px",a.style.color="gray",a.style.fontWeight="normal";var l=document.createElement("span");return l.innerHTML=" False",l.style.marginLeft="10px",l.style.color="gray",l.style.fontWeight="normal",e.appendChild(t),e.appendChild(a),e.appendChild(n),e.appendChild(l),e}function de(){var e=document.createElement("textarea");return e.readOnly=!0,e.className="fr",e.placeholder="NOTE: This question type requires manual grading",e}function ie(){var e=document.createElement("div");e.className="matching-wrapper";var t=document.createElement("div");t.className="matching";var n=document.createElement("hr");n.style.width="67%";var a=document.createElement("span");a.innerHTML="Questions",a.style.marginLeft="1.5vw";var l=document.createElement("span");l.innerHTML="Results (Will Be Randomized)",l.style.marginLeft="22.5vw";var d=document.createElement("input");d.type="textbox",d.placeholder="# Of Elements...",d.style.borderRadius="5px",d.style.padding="5px",d.style.border="1px solid black",d.style.fontSize="15px",d.onkeyup=function(){if($(e).empty(),this.value<=20)for(var t=0;t<this.value;t++)se(e,t+1);else{this.value="";var n=document.createElement("div");n.innerHTML="20 Elements Max!",n.style.textAlign="center",n.style.width="100%",n.style.position="fixed",n.style.zIndex="100000",n.style.top="0",n.className="alert alert-danger",n.role="alert",document.getElementById("create-exam").appendChild(document.createElement("center").appendChild(n)),setTimeout(function(){document.getElementsByClassName("alert")[0].remove()},2500)}};var i=document.createElement("button");return i.id="newBox",i.innerHTML="New Element!",i.onclick=function(){se(e,document.getElementsByClassName("matchingbox").length+1),h(!1)},t.appendChild(d),t.appendChild(n),t.appendChild(a),t.appendChild(l),t.appendChild(e),t.appendChild(document.createElement("br")),t.appendChild(i),t}function se(e,t){var n=document.createElement("div");n.className="matchingbox";var a=document.createElement("span");a.className="glyphicon glyphicon-minus",a.style.display="none",a.style.marginRight="5px",a.style.color="#f25555",$(a).click(function(){this.parentNode.remove(),h(!1),te()}),$(n).hover(function(){this.childNodes[0].style.display="initial"},function(){this.childNodes[0].style.display="none"}),$(a).hover(function(){this.style.cursor="pointer",this.style.color="#f25555"},function(){}),n.appendChild(a);var l=document.createElement("span");l.innerHTML=t+".",l.style.marginRight="10px",l.style.fontSize="15px",n.appendChild(l);var d=document.createElement("input");d.type="textbox",d.style.marginTop="20px",d.style.textAlign="center",d.placeholder="1 + 1",d.id="result";var i=document.createElement("span");i.className="glyphicon glyphicon-arrow-right",i.style.paddingLeft="5vw";var s=document.createElement("input");s.type="textbox",s.style.marginLeft="5vw",s.style.textAlign="center",s.placeholder="2",s.id="result",n.appendChild(d),n.appendChild(i),n.appendChild(s),e.appendChild(n)}function oe(){$("#question-manager").empty();for(var e=0;e<document.getElementsByClassName("question").length;e++)E(e+1,!1)}function re(e,t){var n=document.getElementById("exam"),a=document.createElement("div");a.className="question",a.id=document.getElementsByClassName("question").length+1;var l=document.createElement("span");l.innerHTML=document.getElementsByClassName("question").length+1+". ",l.style.color="#97a5aa";var d=document.createElement("hr"),i=document.createElement("br"),s=document.createElement("span");s.className="glyphicon glyphicon-trash",s.style.display="none",s.style.marginRight="5px",s.style.color="lightgray",$(s).click(function(){a.remove(),d.remove(),i.remove(),oe(),ee(),h()}),$(s).hover(function(){s.style.cursor="pointer",s.style.color="black"},function(){s.style.color="lightgray"});var o=document.createElement("span");o.id="moveDiv",o.className="glyphicon glyphicon-refresh",o.style.display="none",o.style.marginRight="5px",$(o).click(function(){me(this.parentNode,prompt("Which Question (#) Would You Like To Swap With?"))?h(!1):swal("Failed!","The Number You Provided Does Not Exist","error")});var r=document.createElement("a");r.innerHTML="View Image",r.style.marginLeft="10px",r.style.display="none";var c=document.createElement("span");c.className="glyphicon glyphicon-picture",c.style.display="none",c.style.marginRight="7px",c.style.color="lightgray",c.onclick=function(){ce(l.innerHTML.substring(0,l.innerHTML.indexOf(".")),r)},$(c).hover(function(){c.style.cursor="pointer",c.style.color="black"},function(){c.style.color="lightgray"}),$(a).hover(function(){l.style.display="none",s.style.display="initial",o.style.display="initial",c.style.display="initial",l.style.cursor="pointer"},function(){l.style.display="initial",s.style.display="none",c.style.display="none",o.style.display="none"});var m=document.createElement("input");m.type="text",m.placeholder="Ex: What's Your Name?",m.id="question-title";var p=document.createElement("select"),u=document.createElement("option");u.value="mc",u.innerHTML="Multiple Choice";var y=document.createElement("option");y.value="fr",y.innerHTML="Free Response";var g,f=document.createElement("option");f.value="tf",f.innerHTML="True | False",p.appendChild(u),p.appendChild(y),p.appendChild(f),p.id="question-type",$(p).on("focusin",function(){g=$(this).val()}),p.onchange=function(){ne(this.children[this.selectedIndex].value,a.id-1,g),p.blur()},a.appendChild(l),a.appendChild(c),a.appendChild(o),a.appendChild(s),a.appendChild(m),a.appendChild(p);var v=document.createElement("div"),C=document.createElement("span");C.innerHTML="( ";var b=document.createElement("input");b.type="text",b.id="numPoints",b.className="numPoints",b.placeholder="Ex: 4";var x=document.createElement("span");x.innerHTML=" points)";var I=document.createElement("input");I.className="checkBox",I.type="checkbox",I.style.transform="scale(1.2)",I.style.marginLeft="20px",(B=document.createElement("span")).innerHTML="Multiple Correct Answers",B.style.marginLeft="5px",B.style.fontSize="15px",v.appendChild(C),v.appendChild(b),v.appendChild(x),v.appendChild(I),v.appendChild(B),v.appendChild(r),a.appendChild(v);var T=document.createElement("div");T.className="mc";for(var N=0;N<t;N++){var B;(B=document.createElement("label")).id="label";var L=document.createElement("input");L.style.outline="none",L.type="radio",L.className="option-input radio",L.name=l.innerHTML;var M=document.createElement("input");M.className="option",M.id="question-choice",M.type="text",M.placeholder=" Answer Choice...";var H=document.createElement("span");H.className="glyphicon glyphicon-minus",H.style.display="none",H.style.marginRight="5px",H.style.color="#f25555",$(H).click(function(){this.parentNode.remove(),h()}),$(B).hover(function(){this.childNodes[0].style.display="initial"},function(){this.childNodes[0].style.display="none"}),$(H).hover(function(){this.style.cursor="pointer",this.style.color="#f25555"},function(){}),B.onmouseup=function(){if(console.log(this.childNodes),this.childNodes[1].checked){var e=this.childNodes[1];setTimeout(function(){e.checked=!1,h(!1)},150)}},B.appendChild(H),B.appendChild(L),B.appendChild(M),T.appendChild(B)}var k=document.createElement("span");k.className="glyphicon glyphicon-plus";var w=document.createElement("a");w.id="createNewAnswerChoice",w.clasName="newChoice",w.href="javascript:createNewOptionChoice("+l.innerHTML+")",w.appendChild(k),w.innerHTML+=" New Answer Choice",T.appendChild(w),a.appendChild(T),n.appendChild(a),n.appendChild(i),n.appendChild(d),e||(window.scroll({top:a.getBoundingClientRect().top+window.scrollY,behavior:"smooth"}),E(document.getElementsByClassName("question").length,!1),h(!1))}function ce(e,t){var n=document.createElement("div");n.id="alertDiv";var a=document.createElement("h1");a.style.textDecoration="underline dodgerblue",a.style.color="#1ece76",a.innerHTML="Upload Image To Question "+e,n.appendChild(a);var l=document.createElement("input");l.type="file",l.style.border="1px solid dodgerblue",l.style.padding="10px",l.style.fontSize="10px",l.style.borderRadius="5px";var d=document.createElement("center");d.appendChild(l),n.appendChild(document.createElement("br")),n.appendChild(d),n.appendChild(document.createElement("hr"));var i=document.createElement("img");i.id="imgOut",n.appendChild(i);var s=document.createElement("input");s.style.margin="20px",s.style.borderRadius="5px",s.style.border="1px solid black",s.placeholder="Short description...",s.style.width="90%",s.style.height="30px",s.style.padding="5px",s.style.fontSize="15px",n.appendChild(s);var o=document.createElement("button");o.id="imgUploadCancel",o.innerHTML="Cancel",o.onclick=function(){document.body.style.opacity="1",document.body.style.filter="blur(0px)",document.body.style.overflowX="auto",document.body.style.overflowY="auto",n.remove()};var r=document.createElement("button");r.id="imgUploadAccept",r.innerHTML="Upload!",r.onclick=function(){""!=i.src&&(t.style.display="initial",t.onclick=function(){swal({icon:i.src,text:s.value,className:"imgView"})},t.className=i.src,document.body.style.opacity="1",document.body.style.filter="blur(0px)",document.body.style.overflowX="auto",document.body.style.overflowY="auto",n.remove(),h(s.value))},l.onchange=function(e){var t=(e.target||window.event.srcElement).files;if(FileReader&&t&&t.length){var n=new FileReader;n.onload=function(){i.src=n.result,i.style.border="1px solid black",o.style.marginBottom="20px",r.style.marginBottom="20px"},n.readAsDataURL(t[0])}},n.appendChild(r),n.appendChild(o),document.getElementById("html").appendChild(n),document.body.style.opacity="0.1",document.body.style.filter="blur(5px)",document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"}function me(e,t){if(null==document.getElementById(t))return!1;var n=jQuery(e),a=jQuery(document.getElementById(t)),l=n.clone(),d=a.clone();return n.replaceWith(d),a.replaceWith(l),ee(),!0}function pe(e){var t=document.getElementById(e).childNodes[7];if(t.childNodes.length<=8){t.childNodes[t.childNodes.length-1].remove();var n=document.createElement("label");n.id="label";var a,l=document.createElement("input");l.style.outline="none",l.type="radio",l.className="option-input radio",l.name="radio",(a=document.createElement("input")).className="option",a.id="question-choice",a.type="text",a.placeholder=" Answer Choice...",(a=document.createElement("input")).className="option",a.id="question-choice",a.type="text",a.placeholder=" Answer Choice...";var d=document.createElement("span");d.className="glyphicon glyphicon-minus",d.style.display="none",d.style.marginRight="5px",d.style.color="#f25555",$(d).click(function(){this.parentNode.remove(),h()}),$(n).hover(function(){this.childNodes[0].style.display="initial"},function(){this.childNodes[0].style.display="none"}),$(d).hover(function(){this.style.cursor="pointer",this.style.color="#f25555"},function(){}),n.appendChild(d),n.appendChild(l),n.appendChild(a),t.appendChild(n);var i=document.createElement("span");i.className="glyphicon glyphicon-plus";var s=document.createElement("a");s.id="createNewAnswerChoice",s.href="javascript:createNewOptionChoice("+e+")",s.clasName="newChoice",s.appendChild(i),s.innerHTML+=" New Answer Choice",t.appendChild(s),h(!1)}else swal("Maximum","Sorry, you can only add 8 option choices","error")}function ue(e){return e>=90?"A":e<90&&e>=80?"B":e<80&&e>=70?"C":e<70&&e>=60?"D":"F"}function ye(e,t,n){var a=document.getElementById("wrapper"),l=document.createElement("div");l.onclick=function(){sessionStorage.setItem("className",e),I(e,n)},l.className="classBox";var d=document.createElement("span");d.innerHTML=e,d.className="className",l.appendChild(d),l.appendChild(document.createElement("hr"));var i=document.createElement("p"),s=document.createElement("h6");s.innerHTML="Students",s.id="lowKey",i.innerHTML=t,i.appendChild(s),i.id="numStudents",l.appendChild(i);var o=document.createElement("hr");o.id="hrInBetween",l.appendChild(o);var r=document.createElement("p");(s=document.createElement("h6")).innerHTML="Exams",s.id="lowKey",r.innerHTML=n,r.appendChild(s),r.id="numExams",l.appendChild(r),a.appendChild(l),document.getElementById("main").appendChild(a)}function he(){if(!c){var e=firebase.database().ref("Teachers"),t=!1;e.once("value",function(e){e.forEach(function(e){if(e.key==m)for(var n in t=!0,l.push(e.child("Classes").val()),l){if(l.hasOwnProperty(n)){var a=l[n];for(var d in a)a.hasOwnProperty(d)&&("no_exams"==a[d].Exams[Object.keys(a[d].Exams)[0]]?ye(d,Object.keys(a[d].Students).length,0):ye(d,Object.keys(a[d].Students).length,Object.keys(a[d].Exams).length))}}}),t||(document.getElementById("doesNotExist").style.display="initial"),sessionStorage.setItem("exists",t)})}c=!0}N(B),B.addListener(N);
},{}]},{},["yFTU"], null)
//# sourceMappingURL=/teacher.ce60f317.js.map