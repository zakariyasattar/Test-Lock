{"version":3,"sources":["assets/js/teacher.js"],"names":["sessionStorage","getItem","document","body","style","display","alert","totalPoints","examCodes","examCodesTeachers","arr","exams","examData","autoSaveCounter","alphabet","examDataHasLoaded","userDataHasLoaded","window","onload","populateDashboard","$","click","toggleClass","focus","css","blur","on","saveExam","scroll","i","getElementsByClassName","length","elem","getElementById","docViewTop","scrollTop","docViewBottom","height","elemTop","offset","top","navigator","userAgent","toLowerCase","indexOf","clientHeight","childNodes","innerHTML","color","marginRight","undefined","userName","JSON","parse","profileImg","createQuiz","examCounter","firebase","database","ref","snapshot","forEach","childSnapshot","push","val","split","randomCode","generateCode","examInit","examCode","toUpperCase","examTitle","lastSaved","examType","examTotalPoints","examTotalMins","examDate","examDescription","questions","title","type","points","choices","value","once","child","key","remove","createQuestion","background","successfulSave","createElement","textAlign","width","position","zIndex","className","role","appendChild","setTimeout","newSave","Date","toLocaleString","replace","getAllPoints","then","set","examTeacher","localQuestions","pluginArrayArg","Array","question","children","jsonArg1","Object","checked","imgSrc","imgShortDescription","j","boxes","numBoxes","result","stringify","extend","code","substring","pointsBoxes","parseInt","createQuestionTracker","populating","manager","tracker","id","hover","cursor","onclick","scrollIntoView","block","circle","center","text","populateExam","refs","pop","join","keys","swal","icon","changeQuestionType","setChecked","div","loadClass","name","empty","collectiveAvg","classAvg","classCounter","backgroundImage","setItem","counter","exam","grade","score","createExamBox","toFixed","button","console","log","Math","random","toString","substr","string","shift","removeDropDown","x","matches","src","buttons","location","href","matchMedia","displayExamData","examName","cumAvg","classLength","highest","lowest","populated","standardDeviation","documentElement","finalSelectedCode","examCodeWithLetter","hasOwnProperty","obj","prop","initData","populateItemAnalysis","dbName","table","init","initName","paddingLeft","initScore","initPercentile","initTime","response","responses","data","time","tr","loadStudentExamData","percentile","getPercentileOriginal","overallData","ul","float","avg","fontSize","highestScorer","lowestScorer","standardDev","mean","reduce","a","b","sd","sqrt","map","pow","dataDiv","answers","responseData","q","createItemAnalysis","num","item","span","paddingRight","borderRight","totalAnswers","mcCounters","fill","pgBar","pg_green","percentage","pg_red","numBelow","student","numEqual","removeAllActive","navBars","getElementsByTagName","populateLeaderboard","attr","goHomeFromExams","goExamsFromExam","possibleTables","goHomeFromExamData","answer","finalId","info","fullName","takenKey","taken","studentPoints","totalScore","corrAnswer","createGradedQuestion","studAnswer","numAnswerChoices","numAnswerPoints","studName","examCurrentCode","awardedPoints","correct","hr","question_title","readOnly","numPoints","finishingSpan","answer_choices","label","borderTop","borderBottom","correctAnswer","fontWeight","marginTop","incorrectAnswer","input","disabled","outline","answer_choice","ta","pointsAwardedSpan","numAcceptedPoints","maxLength","questionNum","onkeyup","cleanVersion","k","isNaN","update","newScore","placeholder","padding","border","borderRadius","getPercentile","sort","func","tables","t","testExamData","slice","iTracker","scores","mergeSort","times","mergeSortTime","middle","floor","left","right","merge","indexLeft","indexRight","concat","mergeTime","searchExams","filter","li","textContent","innerText","gradients","wrapper","classBox","difBackground","marginLeft","option_vertical","modal","edit","results","deleteTest","deleteExam","displayInfo","randomStr","setCorrectExamCode","html","s","cs","createCurrentTakingBox","opacity","overflowY","event","target","keyup","e","descriptor","boxShadow","onmouseover","transform","onmouseleave","transition","letter","getLetter","randomNum","v","currentlyTakingDiv","box","modifiedCode","dangerMode","willDelete","restructureQuestions","restructureBoxes","prevVal","plus","plusDiv","createFreeResponse","createTrueFalse","createMatching","searchLeaderboard","behavior","true_input","false_input","true_span","false_span","matchingWrapper","matching","numElements","createMatchingElement","newBox","labelTrash","parentNode","arrow","result_input","restructureManager","loading","br","trash","moveDiv","swapDiv","prompt","viewImage","imgUpload","uploadImage","question_type","mc","fr","tf","previous","onchange","selectedIndex","createNewAnswerChoice","clasName","getBoundingClientRect","scrollY","imgLink","alertDiv","header","textDecoration","imgInput","imgOut","shortDescription","margin","cancel","overflowX","upload","evt","tgt","files","srcElement","FileReader","marginBottom","readAsDataURL","numToSwap","div1","jQuery","div2","tdiv1","clone","tdiv2","replaceWith","createNewOptionChoice","createClassBox","numStudentsInClass","numExamsInClass","numStudents","lowKey","hrInBetween","numExams","exists","Exams","Students","addListener"],"mappings":"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","file":"teacher.97adce7d.js","sourceRoot":"..","sourcesContent":["// check if user is signed in\nif(sessionStorage.getItem('userInfo') == null) {\n  document.body.style.display = \"none\";\n  alert(\"NOT AUTHORIZED\");\n}\n\nvar examCodes = [];\nvar examCodesTeachers = [];\nvar arr = [];\nvar exams = [];\nvar examData = [];\nvar totalPoints;\nvar autoSaveCounter = 0;\nvar alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n// HAS LOADED\nvar examDataHasLoaded = false;\nvar userDataHasLoaded = false;\n\n\n//when page loads, populateDashboard()\nwindow.onload = function() {\n  populateDashboard();\n\n  $('.dropdown').click(function(){\n    $('.dropdown-menu').toggleClass('show');\n  });\n\n  $(\"#description\").focus(function() {\n    $(\"#description\").css(\"border\", \"1px solid #458ec1\");\n  }).blur(function() {\n    $(\"#description\").css(\"border\", \"1px solid lightgray\");\n  });\n\n  $(\"#create-exam\").on('blur', \":input\", function() {\n    saveExam(false);\n  });\n\n  $(\"#create-exam\").on('change', \"input:radio\", function() {\n    saveExam(false);\n  });\n\n  // for create-exam\n  $(window).scroll(function(){\n    for(var i = 1; i < document.getElementsByClassName('question').length + 1; i++) {\n      var elem = document.getElementById(i);\n      var docViewTop = $(window).scrollTop();\n      var docViewBottom = docViewTop + $(window).height();\n\n      var elemTop = $(elem).offset().top;\n      var elemBottom = elemTop + $(elem).height();\n\n      var isInView = ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n\n      if (isInView){\n        if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n          document.getElementById('question-manager').scrollTop = document.getElementById('question-tracker').clientHeight * (i - 1);\n          document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CF;\"\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"white\";\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.marginRight = \"10px\";\n        }\n        else {\n          document.getElementById('question-manager').scrollTop = document.getElementById('question-tracker').clientHeight * (i - 1);\n          document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CF;\"\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"white\";\n        }\n      }\n      else {\n        if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n          document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CC;\";\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"black\";\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.marginRight = \"0\";\n        }\n        else {\n          if(document.getElementsByClassName(i)[0] != undefined) {\n            document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CC;\";\n            document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"black\";\n          }\n        }\n      }\n    }\n  })\n};\n\n// retrieve userName, img from sessionStorage\nvar userName = (JSON.parse(sessionStorage.getItem(\"userInfo\"))[1]);\nvar profileImg = (JSON.parse(sessionStorage.getItem(\"userInfo\"))[2]);\n\n//initialize aspects of page with JS data\ndocument.getElementById('welcome-text').innerHTML = \"Welcome \" + userName + \"!\";\ndocument.getElementById('profile').src = profileImg;\n\n$('#profile').click(function(){\n  swal({\n    title: \"Sign Out\",\n    text: \"Are You Sure You Want To Sign Out?\",\n    icon: \"warning\",\n    buttons: [\"Cancel\", \"Sign Me Out!\"],\n  })\n  .then((value) => {\n    if(value) {\n      window.location.href = \"index.html?noRedirect\";\n    }\n  });\n});\n\n// create initial framework for exams\nfunction createQuiz() {\n  var examCounter = 0;\n\n  if(examCodes.length == 0){\n    // Pull all exam codes and seperate the datapoints from each other\n    firebase.database().ref('exam-codes').on('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        examCodes.push(childSnapshot.val().split(\";\")[0]);\n        examCodesTeachers.push(childSnapshot.val().split(\";\")[1])\n      });\n    });\n  }\n\n  var randomCode = generateCode();\n\n  var examInit = {\n    examCode: randomCode.toUpperCase(),\n    examTitle: \"\",\n    lastSaved: \"\",\n    examType: \"\",\n    examTotalPoints: \"\",\n    examTotalMins: \"\",\n    examDate: \"\",\n    examDescription: \"\",\n    questions: [\n      {\n        title: '',\n        type:   '',\n        points: '',\n        choices: [\n          {value: \"\"},\n          {value: \"\"},\n          {value: \"\"},\n          {value: \"\"},\n        ]\n      }\n    ]\n  };\n\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\").once('value', function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val() == \"no_exams\") {\n        firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\").child(childSnapshot.key).remove();\n      }\n      else {\n        examCounter++;\n      }\n    });\n  });\n\n  if(examCounter < 26) {\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + alphabet[(alphabet.length - 1) - examCounter] + randomCode.toUpperCase()).push(examInit);\n  }\n  else {\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + alphabet[(alphabet.length - 1) - examCounter-26] +  alphabet[(alphabet.length - 1) - examCounter-26] + randomCode.toUpperCase()).push(examInit);\n  }\n\n  createQuestion(true, 4);\n\n  document.getElementById('create-exam').style.display = \"initial\";\n  document.getElementById('main').style.display = \"none\";\n  document.body.style.background = \"white\";\n  document.getElementById('exam-code').innerHTML = randomCode.toUpperCase();\n}\n\n// Alert After Save\nfunction successfulSave() {\n  var alert = document.createElement('div');\n  alert.innerHTML = \"Successfully Saved Exam!\"\n  alert.style.textAlign = \"center\";\n  alert.style.width = \"100%\";\n  alert.style.position = \"fixed\";\n  alert.style.zIndex = \"100000\";\n  alert.style.top = \"0\";\n  alert.className = \"alert alert-success\";\n  alert.role = \"alert\";\n\n  document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n  setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n}\n\n// Save Exam\nfunction saveExam(alert) {\n  if(alert) {\n    successfulSave();\n  }\n\n  var newSave = new Date().toLocaleString().replace(\",\", \" @\");\n  if(newSave == \"\") {\n    newSave = \" Not Saved!\";\n  }\n\n  document.getElementById('last-saved').innerHTML = \"Last Sync: \" + newSave;\n  document.getElementsByClassName('points')[0].value = getAllPoints();\n\n  if(document.getElementById('nameOfExam').value != \"\") {\n    firebase.database().ref(\"exam-codes\").once('value').then(function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.val().split(\";\")[0] == document.getElementById('exam-code').innerHTML) {\n          firebase.database().ref(\"exam-codes\").child(childSnapshot.key).set(childSnapshot.val().split(\";\")[0] + \";\" + childSnapshot.val().split(\";\")[1] + \";\" + childSnapshot.val().split(\";\")[2] + \";\" + document.getElementById('nameOfExam').value);\n        }\n      });\n    });\n  }\n\n  var examInit = {\n    examTeacher: userName,\n    examCode: document.getElementById('exam-code').innerHTML,\n    examTitle: document.getElementById('nameOfExam').value,\n    lastSaved: newSave,\n    examTotalPoints: getAllPoints(),\n    examTotalMins: document.getElementsByClassName('time')[0].value,\n    examDate: document.getElementById('date').value,\n    examDescription: document.getElementById('description').value,\n    questions: []\n  };\n\n  var localQuestions = document.getElementsByClassName('question');\n  var pluginArrayArg = new Array();\n\n  for(var i = 0; i < localQuestions.length; i++) {\n    var question = localQuestions[i];\n    var children = question.childNodes;\n\n    var jsonArg1 = new Object();\n    jsonArg1.title = children[4].value;\n    jsonArg1.type = children[5].value;\n    jsonArg1.points = children[6].childNodes[1].value;\n    jsonArg1.checked = -1;\n    jsonArg1.imgSrc = children[6].childNodes[3].className;\n\n    if(alert != true && alert != false) {\n      jsonArg1.imgShortDescription = alert;\n    }\n\n    jsonArg1.choices = [];\n\n\n    if(jsonArg1.type == 'mc') {\n      for(var j = 0; j < children[7].childNodes.length - 1; j++){\n        jsonArg1.choices.push(children[7].childNodes[j].childNodes[2].value);\n\n        if(children[7].childNodes[j].childNodes[1].checked == true) {\n          jsonArg1.checked = j;\n        }\n      }\n    }\n\n    else if(jsonArg1.type == 'fr') {\n      jsonArg1.choices.push(children[8].value);\n    }\n\n    else if(jsonArg1.type == 'tf') {\n      if(children[8].childNodes[0].checked) {\n        jsonArg1.choices.push(\"true\");\n      }\n      else {\n        jsonArg1.choices.push(\"false\");\n      }\n    }\n\n    else {\n      var boxes = document.getElementsByClassName('matchingbox');\n      jsonArg1.numBoxes = boxes.length;\n\n      for(var i = 0; i < boxes.length; i++) {\n        var question = boxes[i].childNodes[3].value;\n        var result = boxes[i].childNodes[5].value;\n\n        jsonArg1.choices.push(question + \";\" + result);\n      }\n    }\n\n    pluginArrayArg.push(jsonArg1);\n    var questions = JSON.parse(JSON.stringify(pluginArrayArg));\n    $.extend(examInit, { questions });\n  }\n\n  var code = \"\";\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\").once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.key.substring(1) == document.getElementById('exam-code').innerHTML) {\n        code = childSnapshot.key;\n      }\n    });\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + code).once('value').then(function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.key != \"responses\" && childSnapshot.key != \"taken\") {\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + code).child(childSnapshot.key).set(examInit);\n        }\n      });\n    });\n  });\n}\n\nfunction getAllPoints() {\n  var pointsBoxes = document.getElementsByClassName('numPoints');\n  var points = 0;\n\n  for(var i = 0; i < pointsBoxes.length; i++) {\n    if(pointsBoxes[i].value != \"\") {\n      points += parseInt(pointsBoxes[i].value);\n    }\n  }\n\n  return points;\n}\n\nfunction createQuestionTracker(i, populating) {\n  var manager = document.getElementById('question-manager');\n  var tracker = document.createElement('div');\n  tracker.id = \"question-tracker\";\n  tracker.className = i;\n\n    $(tracker).hover(function(){\n      if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n        this.style.cursor = \"pointer\";\n        $(this).children()[0].innerHTML = \"&#x25CF;\";\n        this.childNodes[1].childNodes[0].style.color = \"white\";\n        this.childNodes[1].childNodes[0].style.marginRight = \"10px\";\n      }\n      else {\n        this.style.cursor = \"pointer\";\n        $(this).children()[0].innerHTML = \"&#x25CF;\";\n        this.childNodes[1].childNodes[0].style.color = \"white\";\n      }\n    }, function(){\n      if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n        this.childNodes[1].childNodes[0].style.color = \"black\";\n        $(this).children()[0].innerHTML = \"&#x25CC;\";\n        this.childNodes[1].childNodes[0].style.marginRight = \"0\";\n      }\n      else {\n        this.childNodes[1].childNodes[0].style.color = \"black\";\n        $(this).children()[0].innerHTML = \"&#x25CC;\";\n      }\n    });\n\n  tracker.onclick = function() {\n    document.getElementById(i).scrollIntoView({block: \"center\"});\n  }\n\n  var circle = document.createElement('div');\n  circle.id = \"circle\";\n  circle.innerHTML = \"&#x25CC;\"\n\n  var center = document.createElement('center');\n  var text = document.createElement('div');\n  text.id = \"text\";\n  text.innerHTML = i;\n\n  center.appendChild(text);\n\n  tracker.appendChild(circle);\n  tracker.appendChild(center);\n\n  manager.appendChild(tracker);\n  manager.scrollTop = (manager.clientHeight + manager.clientHeight);\n}\n\n//populate exam for autosave\nfunction populateExam(code, ref) {\n  var refs = ref.split('/'); refs.pop();\n\n  firebase.database().ref(refs.join().split(',').join('/')).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.key.substring(1) == code) {\n        firebase.database().ref(refs.join().split(',').join('/') + \"/\" + childSnapshot.key).once('value').then(function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            var val = childSnapshot.val();\n\n            if(val.examCode != undefined){\n              var counter = 0;\n\n              document.getElementById('last-saved').innerHTML = \"Last Sync: \" + val.lastSaved;\n              document.getElementById('exam-code').innerHTML = val.examCode;\n              document.getElementById('date').value = val.examDate;\n              document.getElementById('description').value = val.examDescription;\n              document.getElementById('nameOfExam').value = val.examTitle;\n              document.getElementsByClassName('time')[0].value = val.examTotalMins;\n\n              for(var i = 0; i < Object.keys(val.questions).length; i++) {\n                var localQuestions = document.getElementsByClassName('question');\n                var question = childSnapshot.val().questions[i];\n\n                if(question.choices != undefined && question.type != \"matching\") {\n                  createQuestion(true, Object.keys(question.choices).length);\n                  createQuestionTracker(i + 1, true);\n\n                  localQuestions[i].childNodes[4].value = question.title;\n                  localQuestions[i].childNodes[6].childNodes[1].value = question.points;\n                  localQuestions[i].childNodes[5].value = question.type;\n\n                  if(question.imgSrc != \"\") {\n                    localQuestions[i].childNodes[6].childNodes[3].style.display = \"initial\";\n                    localQuestions[i].childNodes[6].childNodes[3].onclick = function() {\n                      swal({\n                        icon: question.imgSrc,\n                        text: question.imgShortDescription,\n                        className: \"imgView\"\n                      });\n                    }\n                  }\n\n                  changeQuestionType(question.type, i, 'mc');\n\n                  if(question.type == \"mc\") {\n                    for(var j = 0; j < Object.keys(question.choices).length; j++){\n                      if(question.choices[j].value != undefined){\n                        localQuestions[i].childNodes[7].childNodes[j].childNodes[2].value = (question.choices[j].value);\n                        if(j == question.checked) {\n                          setChecked(localQuestions[i].childNodes[7].childNodes[j].childNodes[1]);\n                        }\n                      }\n                      else {\n                        localQuestions[i].childNodes[7].childNodes[j].childNodes[2].value = (question.choices[j]);\n                        if(j == question.checked) {\n                          setChecked(localQuestions[i].childNodes[7].childNodes[j].childNodes[1]);\n                        }\n                      }\n                    }\n                  }\n\n                  else if(question.type == \"fr\"){\n                    localQuestions[i].childNodes[8].value = (question.choices[0]);\n                  }\n\n                  else if(question.type == \"tf\") {\n                    if(question.choices[0] == 'true') {\n                      localQuestions[i].childNodes[8].childNodes[0].checked = true;\n                    }\n                    else {\n                      localQuestions[i].childNodes[8].childNodes[2].checked = true;\n                    }\n                  }\n                }\n\n                // else if(question.type == \"matching\") {\n                //   createQuestion(true, question.numBoxes);\n                //   createQuestionTracker(i + 1, true);\n                //   changeQuestionType(question.type, i, \"mc\");\n                //\n                //   localQuestions[i].childNodes[3].value = question.title;\n                //   localQuestions[i].childNodes[5].childNodes[1].value = question.points;\n                //   localQuestions[i].childNodes[4].value = question.type;\n                //\n                //   localQuestions[i].childNodes[0].value = question.numBoxes;\n                //   for(var j = 0; j < question.numBoxes; j++) {\n                //     createMatchingElement(localQuestions[i].childNodes[6], j + 1);\n                //   }\n                //\n                //   var localBoxes = document.getElementsByClassName('matchingbox');\n                //   for(var k = 0; k < localBoxes.length; k++) {\n                //     localBoxes[k].childNodes[0].value = question.choices[k].split(\";\")[0];\n                //     localBoxes[k].childNodes[2].value = question.choices[k].split(\";\")[1];\n                //   }\n                // }\n              }\n            }\n          });\n        });\n      }\n    });\n  });\n\n  setTimeout(function(){ document.getElementsByClassName('points')[0].value = getAllPoints(); }, 200);\n}\n\nfunction setChecked(div) {\n  setTimeout(function(){ div.checked = true; }, 200);\n}\n\n//load class based on name\nfunction loadClass(name) {\n    if($(\"#exam-wrapper\") != undefined) {\n      $(\"#exam-wrapper\").empty();\n    }\n    var examCounter = 0;\n    var collectiveAvg = 0;\n    var classAvg = 0;\n    var classCounter = 0;\n    var counter = -1\n\n    document.getElementById('welcome-div').style.display = \"none\";\n    document.getElementById('wrapper').style.display = \"none\";\n    document.getElementById('classSpecific').style.display = \"initial\";\n    document.getElementById('exam-wrapper').style.display = \"grid\";\n    document.getElementById('main-header').innerHTML = \"Welcome to \" + name;\n    document.body.style.backgroundImage = \"linear-gradient(to top, #dfe9f3 0%, white 100%)\";\n\n    sessionStorage.setItem('createExamClass', name);\n\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + name + \"/Exams/\").on('value', function(snapshot) {\n      exams.push(snapshot.val());\n      counter++;\n      snapshot.forEach(function(childSnapshot) {\n        childSnapshot.child('responses').forEach(function(exam) {\n          classCounter++;\n          examCounter++;\n          var grade = exam.val()[Object.keys(exam.val())[0]].score;\n          collectiveAvg += parseInt(grade);\n\n          classAvg += parseInt(grade);\n        });\n\n        for(var key in childSnapshot.val()) {\n          if(childSnapshot.val() != \"no_exams\") {\n            createExamBox(childSnapshot.val()[key].examTitle, (classAvg / classCounter).toFixed(1), \"Teachers/\" + userName + \"/Classes/\" + name + \"/Exams/\" + childSnapshot.key, childSnapshot.val()[key].examCode);\n            var val = childSnapshot.val()[key].examTitle;\n\n            if(sessionStorage.getItem(\"CreatedExamCode\") != \"\") {\n              var button = document.getElementById('cached-code');\n              if(button != null) {\n                button.id = \"cached-exam-button\";\n                button.style.display = \"inline-block\";\n\n                console.log(button)\n\n                button.onclick = function() {\n                  document.getElementById('create-exam').style.display = \"initial\";\n                  document.getElementById('main').style.display = \"none\";\n                  document.body.style.background = \"white\";\n\n                  console.log(sessionStorage.getItem(\"CreatedExamCode\").toUpperCase())\n\n                  populateExam(sessionStorage.getItem(\"CreatedExamCode\").toUpperCase(), \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + sessionStorage.getItem(\"CreatedExamCode\").toUpperCase());\n                }\n              }\n            }\n\n            if(childSnapshot.val()[key].examTitle == \"\"){\n              val = childSnapshot.val()[key].examCode;\n            }\n\n            if(sessionStorage.getItem(\"CreatedExamCode\") != null && sessionStorage.getItem(\"CreatedExamCode\").toUpperCase() == childSnapshot.val()[key].examCode) {\n              console.log(sessionStorage.getItem(\"CreatedExamCode\").toUpperCase(), childSnapshot.val()[key].examCode)\n                document.getElementById('cached-exam-button').style.display = \"initial\";\n                document.getElementById('cached-exam-code').innerHTML = \"Edit \" + val;\n            }\n            else if(document.getElementById('cached-exam-button') != null){\n              document.getElementById('cached-exam-button').style.display = \"none\";\n            }\n            break;\n          }\n          else {\n            document.getElementById('no-exams').style.display = \"initial\";\n          }\n        }\n        classAvg = 0;\n        classCounter = 0;\n      });\n\n      collectiveAvg = collectiveAvg / examCounter;\n      collectiveAvg = (collectiveAvg).toFixed(1);\n\n      if(collectiveAvg == \"NaN\"){\n        document.getElementById('avg-grade-number').innerHTML = \"No Data\";\n      }\n      else{\n        document.getElementById('avg-grade-number').innerHTML = collectiveAvg + \"%\";\n        sessionStorage.setItem(\"avg-grade-number\", collectiveAvg + \"%\");\n      }\n    });\n}\n\n// Generate random exam code\nfunction generateCode() {\n  var code = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);\n  var className = \"\";\n\n  var string = document.getElementById('main-header').innerHTML.substring(document.getElementById('main-header')).split(\" \");\n  string.shift(); string.shift();\n\n  for(var i = 0; i < string.length; i++) {\n    if(i != string.length - 1) {\n      className += string[i] + \" \";\n    }\n    else{\n      className += string[i];\n    }\n  }\n\n  if(examCodes.indexOf(code) == -1){\n    firebase.database().ref(\"exam-codes\").push(code.toUpperCase() + \";\" + userName + \";\" + className + \";\" + code.toUpperCase());\n    sessionStorage.setItem(\"CreatedExamCode\", code);\n    return code;\n  }\n  else {\n    generateCode(); // Rerun generateCode() if code exists already\n  }\n}\n\n// remove dropdown if screen size can handle navbar\nfunction removeDropDown(x) {\n if (x.matches) { // If media query matches\n   document.getElementById('dropdown').style.display = \"none\"; // Remove DropDown\n } else {\n   document.getElementById('dropdown').style.display = \"initial\"; //Bring DropDown back\n }\n}\n\n// JS media query for dropdown nav\nvar x = window.matchMedia(\"(min-width: 601px)\") // Specify what to set media-queries at\nremoveDropDown(x) // Call listener function at run time\nx.addListener(removeDropDown) // Attach listener function on state changes\n\n// function to display all data in the table by exam name\nfunction displayExamData(examName) {\n  if(!examDataHasLoaded) {\n    var cumAvg = 0;\n    var classLength = 0;\n    var highest = \"a:-1000\";\n    var lowest = \"a:1000\";\n    var quickest = \"a:1000\";\n    var slowest = \"a:-1000\";\n    var table;\n    var populated = false;\n    var standardDeviation = [];\n\n    document.getElementById('welcome-div').style.display = \"none\";\n    document.getElementById('wrapper').style.display = \"none\";\n    document.getElementById('classSpecific').style.display = \"none\";\n    document.getElementById('exam-wrapper').style.display = \"none\";\n    document.getElementById('examSpecific').style.display = \"initial\";\n    document.getElementById('sort-menu').style.display = \"initial\";\n    document.getElementById('exam-name').innerHTML = examName;\n    document.body.style.backgroundImage = \"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)\";\n\n    var i = document.createElement('i');\n    i.className = \"glyphicon glyphicon-circle-arrow-up\";\n    i.id = \"topPage\";\n\n    i.onclick = function() {\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    };\n\n    document.getElementById('main').appendChild(document.createElement('br'));\n    document.getElementById('main').appendChild(i);\n\n    var finalSelectedCode = \"\";\n    var examCodeWithLetter = \"\";\n\n    for (var key in exams) {\n      // skip loop if the property is from prototype\n      if (!arr.hasOwnProperty(key)) continue;\n      var obj = exams[key];\n\n      for (var prop in obj) {\n        for(var initData in obj[prop]){\n          if(obj[prop][initData].examCode != undefined && Object.keys(obj[prop]).length > 1) {\n            var code = obj[prop][initData].examCode;\n\n            sessionStorage.setItem('populatedExamCode', code);\n\n            if(examName == obj[prop][initData].examTitle) {\n              finalSelectedCode = code;\n              examCodeWithLetter = prop;\n\n              document.getElementById('edit-exam').innerHTML = examName;\n              document.getElementById('edit-current-exam').style.display = \"initial\";\n\n              document.getElementById('edit-current-exam').onclick = function() {\n                document.getElementById('create-exam').style.display = \"initial\";\n                document.getElementById('main').style.display = \"none\";\n                document.body.style.background = \"white\";\n                populateExam(finalSelectedCode, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + examCodeWithLetter)\n              };\n\n              document.getElementById('view-item-analysis').style.display = \"initial\";\n              document.getElementById('view-item-analysis').onclick = function() {\n                document.getElementById('main').style.display = \"none\";\n                document.getElementById('item-analysis').style.display = \"inline-block\";\n                document.body.style.backgroundImage = \"linear-gradient(to bottom, #6a85b6 0%, #bac8e0 100%)\";\n                document.getElementById('item-analysis-name').innerHTML = examName;\n                populateItemAnalysis(finalSelectedCode, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + examCodeWithLetter)\n              }\n            }\n\n            // skip loop if the property is from prototype\n            if(!obj.hasOwnProperty(prop)) continue;\n\n            var dbName = obj[prop][initData].examTitle;\n            if(dbName == \"\") {\n              dbName = obj[prop][initData].examCode.substring(1);\n            }\n\n            if(dbName == examName) {\n              var random = document.createElement('div');\n              var table = document.createElement('table');\n\n              table.id = \"random\";\n              table.className = \"table table-striped\";\n              table.style.width = \"100vw\";\n\n              var init = document.createElement('tr');\n              init.style.color = \"darkgray\";\n\n              var initName = document.createElement('td');\n              initName.innerHTML = \"Name\";\n              initName.style.paddingLeft = \"66px\";\n              initName.id = \"name\";\n\n              var initScore = document.createElement('td');\n              initScore.innerHTML = \"Score (%)\"\n              initScore.id = \"score\";\n\n              var initPercentile = document.createElement('td');\n              initPercentile.innerHTML = \"Percentile\";\n              initPercentile.id = \"percentile\";\n\n              var initTime = document.createElement('td');\n              initTime.innerHTML = \"Time\";\n              initTime.id = \"time\";\n\n              init.appendChild(initName);\n              init.appendChild(initScore);\n              init.appendChild(initPercentile);\n              init.appendChild(initTime);\n\n              table.appendChild(init);\n            }\n          }\n          else if(Object.keys(obj[prop]).length > 1 && !populated){\n            populated = true;\n\n            for(var response in obj[prop].responses){\n              var data = obj[prop].responses[response][Object.keys(obj[prop].responses[response])[0]];\n\n              standardDeviation.push(parseInt(data.score));\n              examData.push(data.name + \":\" + data.score + \":\" + data.time);\n              cumAvg += parseInt(data.score);\n              classLength = Object.keys(obj[prop].responses).length;\n\n              if(parseInt(data.score) > parseInt(highest.split(\":\")[1])) {\n                highest = data.name + \":\" + parseInt(data.score);\n              }\n\n              if(parseInt(data.score) < parseInt(lowest.split(\":\")[1])) {\n                lowest = data.name + \":\" + parseInt(data.score);\n              }\n\n              var tr = document.createElement('tr');\n              tr.className = response;\n              var examCode = prop;\n              tr.onclick = function() { loadStudentExamData(this.className, examCode); }\n\n              table.appendChild(document.createElement('br'));\n\n        \t\t\tvar name = document.createElement('td');\n              name.style.paddingLeft = \"66px\";\n              name.id = \"name\";\n        \t\t\tvar score = document.createElement('td');\n        \t\t\tvar percentile = document.createElement('td');\n              var time = document.createElement('td');\n\n        \t\t\tname.innerHTML = data.name;\n              name.id = \"name\";\n\n        \t\t\tscore.innerHTML = data.score + \"%\";\n              score.id = \"score\";\n\n              time.innerHTML = data.time + \" Mins\";\n              time.id = \"time\";\n\n        \t\t\tpercentile.innerHTML = getPercentileOriginal(parseInt(data.score), obj[prop].responses, data.name) + \"th\";\n              percentile.id = \"percentile\";\n\n        \t\t\ttr.appendChild(name);\n        \t\t\ttr.appendChild(score);\n        \t\t\ttr.appendChild(percentile);\n              tr.appendChild(time);\n        \t\t\ttable.appendChild(tr);\n\n              random.appendChild(table);\n              document.getElementById('main').appendChild(random);\n            }\n          }\n        }\n      }\n    }\n\n      var overallData = document.getElementById('overall-data');\n      var ul = document.createElement('ul');\n      ul.style.float = \"right\";\n      ul.style.marginRight = \"15vw\";\n\n      var avg = document.createElement('li');\n      avg.innerHTML = \"Class Average: \" + (cumAvg / classLength).toFixed(1) + '%';\n      avg.style.fontSize = \"20px\";\n\n      var highestScorer = document.createElement('li');\n      highestScorer.innerHTML = \"Highest Scorer: \" + highest.split(\":\")[0] + \" (\" + highest.split(\":\")[1] + \"%)\";\n      highestScorer.style.fontSize = \"20px\";\n\n      var lowestScorer = document.createElement('li');\n      lowestScorer.innerHTML = \"Lowest Scorer: \" + lowest.split(\":\")[0] + \" (\" + lowest.split(\":\")[1] + \"%)\";\n      lowestScorer.style.fontSize = \"20px\";\n\n      var standardDev = document.createElement('li');\n\n      // calc SD\n      mean = standardDeviation.reduce((a,b) => a+b)/standardDeviation.length;\n      sd = Math.sqrt(standardDeviation.map(x => Math.pow(x-mean,2)).reduce((a,b) => a+b)/standardDeviation.length);\n\n      standardDev.innerHTML = \"Standard Deviation (σ): \" + sd.toFixed(3);\n      standardDev.style.fontSize = \"20px\";\n\n      ul.appendChild(avg);\n      ul.appendChild(highestScorer);\n      overallData.appendChild(document.createElement('br'));\n      ul.appendChild(lowestScorer);\n      ul.appendChild(standardDev);\n\n      overallData.appendChild(ul);\n    }\n    else {\n      var possibleTables = document.getElementsByClassName('table');\n      possibleTables[0].style.display = \"table\";\n\n      document.getElementById('topPage').style.display = \"initial\";\n      document.getElementById('examSpecific').style.display = \"inherit\";\n      document.getElementById('classSpecific').style.display = \"none\";\n      document.getElementById('exam-wrapper').style.display = \"none\";\n\n      document.body.style.backgroundImage = \"linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%);\";\n    }\n    examDataHasLoaded = true;\n}\n\nfunction populateItemAnalysis(code, ref) {\n  var dataDiv = document.getElementById('item-analysis-data');\n  var answers = [];\n\n  firebase.database().ref(ref).once('value', function(snapshot) {\n    for(var response in snapshot.val()['responses']) {\n      var responseData = (snapshot.val()['responses'][response][[Object.keys(snapshot.val()['responses'][response])[0]]]);\n\n      answers.push(responseData.answers);\n    }\n\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val().examCode != undefined) {\n        var data = childSnapshot.val();\n        var questions = data.questions;\n\n        for(var q in questions) {\n          var question = questions[q];\n\n          createItemAnalysis(dataDiv, question, answers, q)\n        }\n      }\n    });\n  });\n\n}\n\n// <div class=\"progress\">\n//\n// </div>\n\n// function is called multiple times per question\nfunction createItemAnalysis(div, question, answers, num) {\n  var item = document.createElement('div');\n\n  var span = document.createElement('span');\n  span.style.color = \"#2e2f7d\";\n  span.style.paddingRight = \"20px\";\n  span.style.paddingLeft = \"20px\";\n  span.style.float = \"left\";\n  span.style.paddingRight = \"20px\";\n  span.style.borderRight = \"1px solid #2e2f7d\"\n  span.innerHTML = parseInt(num) + 1;\n  item.appendChild(span);\n\n  var totalAnswers = answers.length;\n  var mcCounters = new Array(question.choices.length).fill(0);\n  var tfCounters = new Array(2).fill(0);\n\n  var pgBar = document.createElement('div');\n  pgBar.className = \"progress\";\n  pgBar.style.width = \"85%\";\n\n  if(question.type == \"mc\") {\n    for(var i = 0; i < answers.length; i++) {\n      mcCounters[(parseInt(answers[i][0].split(\";\")[1]))]++;\n    }\n\n    for(var j = 0; j < mcCounters.length; j++) {\n      if(mcCounters[j] != 0) {\n        if((j + 1) == question.checked) {\n          var pg_green, info_green;\n          var percentage = (mcCounters[j] / totalAnswers) * 100 + \"%\";\n\n          pg_green = document.createElement('div');\n          pg_green.className = \"progress-bar progress-bar-success progress-bar-striped\";\n          pg_green.innerHTML = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\")[j] + \" (\" + percentage + \")\";\n\n          setTimeout(function(){ pg_green.style.width = percentage}, 250);\n          pgBar.appendChild(pg_green);\n          console.log('appendedGreen')\n        }\n        else {\n          var pg_red, info_red;\n          var percentage = (mcCounters[j] / totalAnswers) * 100 + \"%\";\n\n          pg_red = document.createElement('div');\n          pg_red.className = \"progress-bar progress-bar-danger progress-bar-striped\";\n          pg_red.innerHTML = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\")[j] + \" (\" + percentage + \")\";\n\n          setTimeout(function(){ pg_red.style.width = percentage}, 250);\n          pgBar.appendChild(pg_red);\n        }\n      }\n    }\n\n    // <div class=\"progress-bar progress-bar-warning progress-bar-striped\" style=\"width: 20%\">\n    //   <span class=\"sr-only\">20% Complete (warning)</span>\n    // </div>\n    // <div class=\"progress-bar progress-bar-danger\" style=\"width: 10%\">\n    //   <span class=\"sr-only\">10% Complete (danger)</span>\n    // </div>\n    item.appendChild(pgBar)\n  }\n\n  else if(question.type == \"tf\") {\n\n  }\n\n  else if(question.type == \"fr\") {\n\n  }\n\n  div.appendChild(document.createElement('br'));\n  div.appendChild(item);\n  div.appendChild(document.createElement('br'));\n  div.appendChild(document.createElement('hr'))\n\n}\n\nfunction getPercentileOriginal(score, exam, name) {\n  var numBelow = 0;\n  var numEqual = 0;\n\n  for(var student in exam) {\n    if(score > parseInt(exam[student][Object.keys(exam[student])[0]].score)) {\n      numBelow++;\n    }\n    else if(score == parseInt(exam[student][Object.keys(exam[student])[0]].score) && name != exam[student][Object.keys(exam[student])[0]].name) {\n      numEqual++;\n    }\n  }\n  return 100 * (numBelow / (Object.keys(exam).length)).toFixed(1);\n}\n\n//function to remove all class='active'\nfunction removeAllActive() {\n  var navBars = document.getElementsByTagName(\"LI\");\n\n  for(var i = 0; i < navBars.length; i++) {\n    navBars[i].className = \"\";\n  }\n}\n\n//function to switch displays based on what user clicks\nfunction display(title) {\n  if(title == '<a href=\"#\">Ping-Pong</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"initial\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Dashboard</a>') {\n    document.getElementById('main').style.display = \"initial\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Leaderboard</a>') {\n    populateLeaderboard(); // takes care of all other display calls\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Feedback</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('feedback').style.display = \"initial\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n\n    var iframe = $(\"#feedback-form\");\n    iframe.attr(\"src\", 'https://forms.id/f/zakariyasattar.id.blockstack/56856430b7');\n  }\n  else if(title == '<a href=\"#\">Report A Bug!</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('report-bug').style.display = \"initial\";\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n\n    var iframe = $(\"#report-bug-form\");\n    iframe.attr(\"src\", 'https://forms.id/f/zakariyasattar.id.blockstack/30e2bc327b');\n  }\n}\n\n// function to display / undisplay items to simulate going home\nfunction goHomeFromExams() {\n  document.getElementById('classSpecific').style.display = \"none\";\n  document.getElementById('welcome-div').style.display = \"block\";\n  document.getElementById('wrapper').style.display = \"grid\";\n  document.getElementById('doesNotExist').style.display = \"none\";\n  document.getElementById('no-exams').style.display = \"none\";\n  document.getElementById('exam-wrapper').style.display = \"none\";\n\n  document.body.style.backgroundImage = \"none\"\n}\n\nfunction goExamsFromExam() {\n  var possibleTables = document.getElementsByClassName('table');\n\n  for(var i = 0; i < possibleTables.length; i++) {\n    possibleTables[i].style.display = \"none\";\n  }\n\n  document.getElementById('topPage').style.display = \"none\";\n  document.getElementById('examSpecific').style.display = \"none\";\n  document.getElementById('classSpecific').style.display = \"initial\";\n  document.getElementById('exam-wrapper').style.display = \"grid\";\n\n  document.body.style.backgroundImage = \"linear-gradient(to top, rgb(223, 233, 243) 0%, white 100%)\";\n  $(document.getElementById('overall-data')).empty()\n}\n\nfunction goHomeFromExamData() {\n  goExamsFromExam(); goHomeFromExams();\n}\n\n// function to display student exam data\nfunction loadStudentExamData(name, code) {\n  document.getElementById('examSpecific').style.display = \"none\";\n  document.getElementById('student-exam-data').style.display = \"initial\";\n  document.body.style.backgroundImage = \"none\";\n  var answer = \"\";\n  var finalId;\n\n  //linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%);\n\n  var table = document.getElementsByClassName('table');\n  for(var i = 0; i < table.length; i++) {\n    table[i].style.display = \"none\";\n  }\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Students\").once('value', function(snapshot) {\n    for(var info in snapshot.val()) {\n      var data = snapshot.val()[info];\n      var id = data.split(\";\")[0];\n      var fullName = data.split(\";\")[1];\n\n      if(name == fullName) {\n        finalId = id;\n      }\n    }\n  });\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + code).once('value', function(snapshot) {\n    var data = (snapshot.val().responses[name][Object.keys(snapshot.val().responses[name])[0]]);\n\n    document.getElementById('resetStatus').onclick = function() {\n      for(var takenKey in snapshot.val().taken) {\n        var id = (snapshot.val().taken[takenKey]);\n\n        if(id == finalId) {\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + code + \"/taken/\").child(takenKey).remove()\n        }\n      }\n\n      swal(\"Success!\", name + \"'s taken status has been reset. \" + name + \" should be able to retake exam now.\", 'success')\n    }\n\n    var studentPoints = data.totalScore / 100 * snapshot.val()[Object.keys(snapshot.val())[0]].examTotalPoints;\n    document.getElementById('score-num').innerHTML = (studentPoints).toFixed(0) + \" / \" + snapshot.val()[Object.keys(snapshot.val())[0]].examTotalPoints;\n    document.getElementById('score').innerHTML = data.totalScore + \"%\";\n\n    var corrAnswer = \"\";\n    sessionStorage.setItem(\"totalPointsExcludingFr\", 0);\n\n    for(var i = 0; i < Object.keys(data.answers).length; i++) {\n\n      if(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].type == \"tf\") {\n        corrAnswer = snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].choices[0];\n      }\n      else if(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].type == \"mc\"){\n        corrAnswer = snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].checked;\n      }\n      else if(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].type == \"fr\") {\n        corrAnswer = \"\";\n      }\n      createGradedQuestion(\n        // PARAM: studAnswer\n        data.answers[i].split(\";\")[1],\n        // PARAM: corrAnswer\n        corrAnswer,\n        // PARAM: numAnswerChoices\n        Object.keys(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].choices).length,\n        // PARAM: numPoints\n        snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].points,\n        // PARAM: questions\n        snapshot.val()[Object.keys(snapshot.val())[0]].questions[i],\n        // PARAM: studName\n        name,\n        // PARAM: examCurrentCode\n        code,\n        // PARAM: examTotalPoints\n        snapshot.val()[Object.keys(snapshot.val())[0]].examTotalPoints\n      );\n    }\n  });\n}\n\n//create Question box for every graded question\nfunction createGradedQuestion(studAnswer, corrAnswer, numAnswerChoices, numAnswerPoints, questions, studName, examCurrentCode, examTotalPoints) {\n  var awardedPoints = 0;\n  if(corrAnswer == \"true\"){\n    corrAnswer = \"0\";\n    numAnswerChoices = 2;\n  }\n  else if(corrAnswer == 'false') {\n    corrAnswer = \"1\";\n    numAnswerChoices = 2;\n  }\n\n  var correct = false;\n  if(studAnswer == corrAnswer) {\n    correct = true;\n  }\n\n  if(questions.type != \"fr\" && correct) {\n    sessionStorage.setItem(\"totalPointsExcludingFr\", parseInt(sessionStorage.getItem(\"totalPointsExcludingFr\")) + parseInt(questions.points))\n  }\n\n  var exam = document.getElementById('question-data');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n\n  var question_title = document.createElement('input');\n  question_title.readOnly = true;\n  question_title.value = questions.title;\n  question_title.id = \"question-title\";\n\n  question.appendChild(num);\n  question.appendChild(question_title);\n\n  if(correct) {\n    awardedPoints = numAnswerPoints;\n  }\n\n  var points = document.createElement('div');\n  points.id = \"points\";\n\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('span');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.innerHTML = numAnswerPoints;\n\n  var finishingSpan = document.createElement('span');\n  finishingSpan.className = \"pa\";\n  finishingSpan.innerHTML = \" points)  -  points awarded: \" + awardedPoints;\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n\n  question.appendChild(points);\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n    label.style.width = \"95%\"\n    if((correct && i == studAnswer) || i == corrAnswer) {\n      label.style.background = \"#e4f7e4\";\n      label.style.borderTop = \"1px solid #00cc00\"\n      label.style.borderBottom = \"1px solid #00cc00\"\n\n      var correctAnswer = document.createElement('span');\n      correctAnswer.innerHTML = \"Correct Answer\"\n      correctAnswer.style.float = \"right\";\n      correctAnswer.style.fontWeight = \"normal\";\n      correctAnswer.style.marginTop  = \"10px\";\n      correctAnswer.style.color = \"#00cc00\";\n      correctAnswer.style.marginRight  = \"15px\";\n\n      label.appendChild(correctAnswer);\n    }\n    else if(!correct && i == studAnswer) {\n      label.style.background = \"#f2ebeb\";\n      label.style.borderTop = \"1px solid #cc5252\"\n      label.style.borderBottom = \"1px solid #cc5252\"\n      label.style.color = \"#cc5252\";\n\n      var incorrectAnswer = document.createElement('span');\n      incorrectAnswer.innerHTML = \"Student Answer\"\n      incorrectAnswer.style.float = \"right\";\n      incorrectAnswer.style.fontWeight = \"normal\";\n      incorrectAnswer.style.marginTop  = \"10px\";\n      incorrectAnswer.style.color = \"#cc5252\";\n      incorrectAnswer.style.marginRight  = \"15px\";\n      label.appendChild(incorrectAnswer);\n    }\n\n    var input = document.createElement('input');\n    input.disabled = true;\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var span = document.createElement('span');\n    if(questions.type != \"tf\" && questions.type != \"fr\") {\n      span.innerHTML = questions.choices[i];\n    }\n    else if(questions.type == \"tf\"){\n      if(i == 0) {\n        span.innerHTML = \"True\";\n      }\n      else {\n        span.innerHTML = \"False\";\n      }\n    }\n    span.style.fontWeight = \"normal\"\n\n    var answer_choice = document.createElement('span');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n    label.appendChild(span);\n    answer_choices.appendChild(label);\n  }\n\n  if(questions.type == \"fr\") {\n    var ta = document.createElement('textarea');\n    $(ta).attr(\"readonly\", true);\n    ta.className = \"fr\";\n    ta.value = studAnswer;\n\n    var pointsAwardedSpan = document.createElement('span');\n    pointsAwardedSpan.innerHTML = \"Points Awarded - \";\n\n    var numAcceptedPoints = document.createElement('input');\n    numAcceptedPoints.maxLength = questions.points.length;\n\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName).once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        var questionNum;\n        var answers = childSnapshot.val().answers;\n\n        if(answers[2].split(\";\")[2] != undefined) {\n          setTimeout(function(){ document.getElementsByClassName('pa')[parseInt(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\"))) - 1].innerHTML = \" points)  -  points awarded: \" + answers[2].split(\";\")[2]; }, 100);\n          numAcceptedPoints.value = answers[2].split(\";\")[2];\n        }\n      });\n    });\n\n    numAcceptedPoints.onkeyup = function () {\n      this.value = this.value.replace(/[^\\d]/,'');\n      this.value = this.value.replace('-', '');\n\n      if(this.value != \"\") {\n        document.getElementsByClassName('pa')[parseInt(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\"))) - 1].innerHTML = \" points)  -  points awarded: \" + this.value;\n      }\n      else {\n        document.getElementsByClassName('pa')[parseInt(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\"))) - 1].innerHTML = \" points)  -  points awarded: 0\";\n      }\n\n      var cleanVersion = this.value;\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName).once('value', function(snapshot) {\n        snapshot.forEach(function(childSnapshot) {\n          var questionNum;\n          var answers = childSnapshot.val().answers;\n\n          for(var k = 0; k < answers.length; k++) {\n            if(isNaN(answers[k].split(\";\")[1])) {\n              console.log(answers[k])\n              answers[k] = answers[k].split(\";\")[0] + \";\" + answers[k].split(\";\")[1] + \";\" + cleanVersion;\n            }\n          }\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName + \"/\" + childSnapshot.key).update({ 'answers': answers });\n\n          var newScore = (((parseInt(sessionStorage.getItem(\"totalPointsExcludingFr\")) + parseInt(cleanVersion)) / examTotalPoints) * 100).toFixed(1);\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName + \"/\" + childSnapshot.key).update({ 'totalScore': newScore });\n\n          document.getElementById(\"score\").innerHTML = newScore + \"%\";\n          document.getElementById(\"score-num\").innerHTML = (parseInt(sessionStorage.getItem(\"totalPointsExcludingFr\")) + parseInt(cleanVersion)) + \" / \" + examTotalPoints;\n        });\n      });\n    }\n\n    numAcceptedPoints.placeholder = \"0 - \" + questions.points;\n    numAcceptedPoints.style.padding = \"5px\";\n    numAcceptedPoints.style.fontSize = \"15px\";\n    numAcceptedPoints.style.border = \"1px solid #808080\";\n    numAcceptedPoints.style.borderRadius = \"3px\";\n    numAcceptedPoints.style.marginTop = \"20px\";\n\n    question.appendChild(ta);\n    question.appendChild(document.createElement('br'));\n    question.appendChild(pointsAwardedSpan);\n    question.appendChild(numAcceptedPoints);\n  }\n  else {\n    question.appendChild(answer_choices);\n  }\n\n  exam.appendChild(question);\n  exam.appendChild(document.createElement('br'));\n  exam.appendChild(hr);\n\n}\n\n//function to calc precentile range\nfunction getPercentile(val, exam) {\n  var numBelow = 0;\n  var numEqual = 0;\n\n  for(var student in exam) {\n    if(parseInt(val.split(\":\")[1]) > parseInt(exam[student].split(\":\")[1])) {\n      numBelow++;\n    }\n    else if(parseInt(val.split(\":\")[1]) == parseInt(exam[student].split(\":\")[1]) && val.split(\":\")[0] != exam[student].split(\":\")[0]) {\n      numEqual++;\n    }\n  }\n  return 100 * (numBelow / (Object.keys(exam).length)).toFixed(1);\n}\n\n// sort function\nfunction sort(func) {\n  var tables = document.getElementsByClassName('table table-striped');\n\n  for(var t = 0; t < tables.length; t++) {\n    tables[t].style.display = \"none\";\n  }\n\n  var testExamData = examData.slice();\n  testExamData.sort();\n\n  if(func == \" Original\") {\n    var table = document.createElement('table');\n    table.id = \"random\";\n    table.className = \"table table-striped\";\n    table.style.width = \"100vw\";\n\n    var init = document.createElement('tr');\n    init.style.color = \"darkgray\";\n\n    var initName = document.createElement('td');\n    initName.innerHTML = \"Name\";\n    initName.style.paddingLeft = \"66px\";\n    initName.id = \"name\";\n\n    var initScore = document.createElement('td');\n    initScore.innerHTML = \"Score (%)\"\n    initScore.id = \"score\";\n\n    var initPercentile = document.createElement('td');\n    initPercentile.innerHTML = \"Percentile\";\n    initPercentile.id = \"percentile\";\n\n    var initTime = document.createElement('td');\n    initTime.innerHTML = \"Time\";\n    initTime.id = \"time\";\n\n    init.appendChild(initName);\n    init.appendChild(initScore);\n    init.appendChild(initPercentile);\n    init.appendChild(initTime);\n\n    table.appendChild(init);\n\n    for(var i = 0; i < examData.length; i++){\n      var tr = document.createElement('tr');\n\n      var iTracker = i;\n      tr.onclick = function() { loadStudentExamData(examData[iTracker].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n      table.appendChild(document.createElement('br'));\n\n      var name = document.createElement('td');\n      name.style.paddingLeft = \"66px\";\n      var score = document.createElement('td');\n      var percentile = document.createElement('td');\n\n      name.innerHTML = examData[i].split(\":\")[0];\n      score.innerHTML = examData[i].split(\":\")[1] + \"%\";\n      percentile.innerHTML = getPercentile(examData[i], examData) + \"th\";\n\n      var time = document.createElement('td');\n      time.innerHTML = examData[i].split(\":\")[2] + \" Mins\";\n      time.id = \"time\";\n\n      tr.appendChild(name);\n      tr.appendChild(score);\n      tr.appendChild(percentile);\n      tr.appendChild(time);\n      table.appendChild(tr);\n    }\n\n    document.getElementById('main').appendChild(table);\n  }\n  else {\n    if(func == \" Sort By Alphabet (A-Z)\"){\n      testExamData.sort();\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = 0; i < testExamData.length; i++){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(testExamData[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = testExamData[i].split(\":\")[0];\n        score.innerHTML = testExamData[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(testExamData[i], testExamData) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n\n    }\n    else if(func == \" Sort By Alphabet (Z-A)\") {\n      testExamData.sort();\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = testExamData.length - 1; i >= 0; i--){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(testExamData[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = testExamData[i].split(\":\")[0];\n        score.innerHTML = testExamData[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(testExamData[i], testExamData) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n    }\n\n    else if(func == \" Sort By Score (high-low)\") {\n      var scores = mergeSort(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = scores.length - 1; i >= 0; i--){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(scores[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = scores[i].split(\":\")[0];\n        score.innerHTML = scores[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(scores[i], scores) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n\n    }\n    else if(func == \" Sort By Score (low-high)\") {\n      var scores = mergeSort(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = 0; i < scores.length; i++){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(scores[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = scores[i].split(\":\")[0];\n        score.innerHTML = scores[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(scores[i], scores) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n\n    }\n    else if(func == \" Sort By Time (high-low)\") {\n      var times = mergeSortTime(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = times.length - 1; i >= 0; i--){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(times[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = times[i].split(\":\")[0];\n        score.innerHTML = times[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(times[i], times) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = times[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n    }\n    else if(func == \" Sort By Time (low-high)\") {\n      var times = mergeSortTime(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = 0; i < times.length; i++){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(times[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = times[i].split(\":\")[0];\n        score.innerHTML = times[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(times[i], times) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = times[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n    }\n  }\n}\n\n//implement merge sort\nfunction mergeSort (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return merge(\n    mergeSort(left),\n    mergeSort(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction merge(left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\":\")[1] < right[indexRight].split(\":\")[1]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n//implement merge sort\nfunction mergeSortTime (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return mergeTime(\n    mergeSortTime(left),\n    mergeSortTime(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction mergeTime(left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\":\")[2] < right[indexRight].split(\":\")[2]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n// search and parse through exams based on value\nfunction searchExams() {\n  var input, filter, ul, li, a, i, txtValue;\n\n  input = document.getElementById(\"exam-search\");\n  filter = input.value.toUpperCase();\n\n  ul = document.getElementById(\"exam-wrapper\");\n  li = ul.getElementsByClassName(\"examBox\");\n\n  for (i = 0; i < li.length; i++) {\n    a = li[i].getElementsByTagName(\"span\")[0];\n    txtValue = a.textContent || a.innerText;\n    if (txtValue.toUpperCase().indexOf(filter) > -1) {\n        li[i].style.display = \"\";\n    } else {\n        li[i].style.display = \"none\";\n    }\n  }\n}\n\n// create div based on name and avg\nfunction createExamBox(name, classAvg, ref, code) {\n  var gradients = [\n    \"linear-gradient( 135deg, #FEB692 10%, #EA5455 100%)\",\n    \"linear-gradient( 135deg, #72EDF2 10%, #5151E5 100%)\",\n    \"linear-gradient( 135deg, #ABDCFF 10%, #0396FF 100%)\"\n  ];\n\n  var wrapper = document.getElementById('exam-wrapper');\n  var optionVert = false;\n\n  var classBox = document.createElement('div');\n  classBox.className = \"examBox\";\n  classBox.style.background = \"white\";\n\n  classBox.onclick = function() {\n    displayExamData(name);\n    document.getElementById(\"this-exam\").innerHTML = name;\n  };\n\n  firebase.database().ref(ref).on('value', function(snapshot) {\n    for(var obj in snapshot.val()) {\n      if(snapshot.val()[obj].examCode == code && snapshot.val().responses == undefined) {\n        classBox.onclick = function() {\n          document.getElementById('create-exam').style.display = \"initial\";\n          document.getElementById('main').style.display = \"none\";\n          document.body.style.background = \"white\";\n\n          populateExam(code, ref);\n        };\n      }\n    }\n  });\n\n  var difBackground = document.createElement('div')\n  difBackground.style.background = gradients[Math.floor(Math.random()*(3) + 0)];\n  difBackground.style.borderRadius= \"10px 10px 0 0\";\n  difBackground.className = 'wave';\n\n  difBackground.onclick = function() {\n\n  }\n\n  var span = document.createElement('span');\n  if(name == \"\") {\n    name = code;\n  }\n\n  span.innerHTML = name;\n  span.style.marginLeft = \"40px\";\n  span.style.color = \"white\";\n  span.className = 'examName';\n\n  var option_vertical = document.createElement('span');\n  option_vertical.id = \"option_vertical\"\n  option_vertical.className = \"glyphicon glyphicon-option-vertical\";\n\n  option_vertical.onclick = function() {\n    classBox.onclick = function() {}\n\n    var modal = document.createElement('div');\n    modal.id = \"modal\";\n\n    var ul = document.createElement('ul');\n\n    var edit = document.createElement('li');\n    edit.className = \"options\";\n    edit.innerHTML = \"Edit Exam\";\n\n    edit.onclick = function() {\n      document.getElementById('create-exam').style.display = \"initial\";\n      document.getElementById('main').style.display = \"none\";\n      document.body.style.background = \"white\";\n\n      populateExam(code, ref);\n    }\n\n    var results = document.createElement('li');\n    results.className = \"options\";\n    results.innerHTML = \"View Results\";\n\n    results.onclick = function() {\n      displayExamData(name);\n      document.getElementById(\"this-exam\").innerHTML = name;\n    }\n\n    var deleteTest = document.createElement('li');\n    deleteTest.className = \"options\";\n    deleteTest.innerHTML = \"Delete Exam\";\n\n    deleteTest.onclick = function() {\n      deleteExam(code);\n    }\n\n    var displayInfo = document.createElement('li');\n    displayInfo.className = \"options\";\n    displayInfo.innerHTML = \"Display Exam Info\";\n\n\n    displayInfo.onclick = function() {\n      document.getElementById('main').style.display = \"none\";\n      document.getElementById('create-exam').style.display = \"none\";\n      document.getElementById('display').style.display = \"block\";\n      document.getElementById('display-code').innerHTML = code;\n      document.body.style.backgroundImage = \"none\";\n\n      var randomStr = Math.random().toString(36).substring(7);\n      setCorrectExamCode(code, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass')+ \"/Exams/\", randomStr);\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + sessionStorage.getItem(randomStr) + \"/taken\").on('value', function(snapshot) {\n        $(\"#joined-students\").html(\"\");\n        snapshot.forEach(function(childSnapshot) {\n          var name = \"\";\n\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Students/\").once('value', function(s) {\n            s.forEach(function(cs) {\n              if(cs.val().split(\";\")[0] == childSnapshot.val()){\n                name = cs.val().split(\";\")[1];\n              }\n            })\n          });\n\n          setTimeout(function(){ createCurrentTakingBox(name); }, 55);\n        });\n      });\n    }\n\n    ul.appendChild(edit); ul.appendChild(document.createElement('hr')); ul.appendChild(results); ul.appendChild(document.createElement('hr')); ul.appendChild(deleteTest); ul.appendChild(document.createElement('hr')); ul.appendChild(displayInfo);\n\n    modal.appendChild(ul);\n\n    document.getElementById('html').appendChild(modal);\n    document.body.style.opacity = \"0\"\n    document.body.style.filter = \"blur(30px)\";\n    document.body.style.overflowY = \"hidden\";\n\n    window.onclick = function(event) {\n      if (event.target != option_vertical && event.target != modal && document.getElementById('modal')) {\n        modal.remove();\n        document.body.style.overflowY = \"auto\";\n        document.body.style.opacity = \"1\"\n        document.body.style.filter = \"blur(0px)\";\n      }\n    }\n\n    $(document).keyup(function(e) {\n       if (e.key === \"Escape\") {\n         modal.remove();\n         document.body.style.overflowY = \"auto\";\n         document.body.style.opacity = \"1\";\n         document.body.style.filter = \"blur(0px)\";\n       }\n    });\n\n    setTimeout(function(){\n      classBox.onclick = function() {\n        displayExamData(name);\n        document.getElementById(\"this-exam\").innerHTML = name;\n      }\n    }, 3000);\n  }\n\n  difBackground.appendChild(span);\n  difBackground.appendChild(option_vertical);\n  difBackground.appendChild(document.createElement('hr'));\n  classBox.appendChild(difBackground);\n\n  if(classAvg == 'NaN') {\n    var descriptor = document.createElement('span');\n    descriptor.innerHTML = \"No Responses!\";\n\n    var button = document.createElement('button');\n    button.style.border = \"none\";\n    button.style.borderRadius = \"5px\";\n    button.style.padding = \"10px\";\n    button.style.marginTop = \"10px\";\n    button.style.boxShadow = \"3px 5px lightgray\"\n    button.innerHTML = \"Display Exam Info\";\n\n    button.onmouseover = function() {\n      this.style.transform = \"translate(2px)\";\n    }\n\n    button.onmouseleave = function() {\n      this.style.transform = \"translate(0px)\";\n      this.style.transition = \"all .5s\";\n    }\n\n    button.onclick = function() {\n      classBox.onclick = function() {};\n\n      document.getElementById('main').style.display = \"none\";\n      document.getElementById('create-exam').style.display = \"none\";\n      document.getElementById('display').style.display = \"block\";\n      document.getElementById('display-code').innerHTML = code;\n      document.body.style.backgroundImage = \"none\";\n\n      var randomStr = Math.random().toString(36).substring(7);\n      setCorrectExamCode(code, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass')+ \"/Exams/\", randomStr);\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + sessionStorage.getItem(randomStr) + \"/taken\").on('value', function(snapshot) {\n        $(\"#joined-students\").html(\"\");\n        snapshot.forEach(function(childSnapshot) {\n          var name = \"\";\n\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Students/\").once('value', function(s) {\n            s.forEach(function(cs) {\n              if(cs.val().split(\";\")[0] == childSnapshot.val()){\n                name = cs.val().split(\";\")[1];\n              }\n            })\n          });\n\n          setTimeout(function(){ createCurrentTakingBox(name); }, 55);\n        });\n      });\n    }\n\n    classBox.appendChild(descriptor);\n    classBox.appendChild(document.createElement('br'));\n    classBox.appendChild(button);\n  }\n\n  else {\n    var letter = document.createElement('span');\n    letter.innerHTML = getLetter(classAvg);\n    letter.style.color = \"#2e2f7d\";\n    letter.style.fontSize = \"90px\";\n\n    var descriptor = document.createElement('span');\n    descriptor.innerHTML = \"Class Average (\" + classAvg + \")\";\n\n    classBox.appendChild(letter);\n    classBox.appendChild(document.createElement('br'));\n    classBox.appendChild(descriptor);\n  }\n\n  wrapper.appendChild(classBox);\n  document.getElementById('main').appendChild(wrapper);\n}\n\nfunction setCorrectExamCode(code, ref, randomNum) {\n  firebase.database().ref(ref).once('value', function(snapshot) {\n    for(var v in snapshot.val()) {\n      if(v.substring(1) == code) {\n        sessionStorage.setItem(randomNum, v)\n      }\n    }\n  });\n}\n\n\n// create currentlyTaking box\nfunction createCurrentTakingBox(name) {\n  var currentlyTakingDiv = document.getElementById('joined-students');\n  var gradients = [\n    \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    \"linear-gradient(to top, #a3bded 0%, #6991c7 100%)\",\n    \"linear-gradient(60deg, #29323c 0%, #485563 100%)\",\n    \"linear-gradient(-60deg, #ff5858 0%, #f09819 100%)\",\n    \"linear-gradient(to top, #4481eb 0%, #04befe 100%)\",\n    \"linear-gradient(to right, #0acffe 0%, #495aff 100%)\",\n    \"linear-gradient(-225deg, #A445B2 0%, #D41872 52%, #FF0066 100%)\"\n  ];\n\n  var box = document.createElement('div');\n  box.id = 'currentlyTakingBox';\n  box.style.backgroundImage = gradients[Math.floor(Math.random()*gradients.length)];\n  box.innerHTML = name;\n\n  var center = document.createElement('center');\n  center.appendChild(box);\n\n  currentlyTakingDiv.appendChild(center);\n}\n\n//delete current exam\nfunction deleteExam(code) {\n  if(code == \"\"){\n    var code = document.getElementById('exam-code').innerHTML;\n  }\n  var modifiedCode = \"\";\n\n  swal({\n    title: \"Are you sure?\",\n    text: \"Once deleted, you will not be able to recover this exam or any of its response data!\",\n    icon: \"warning\",\n    buttons: true,\n    dangerMode: true,\n  })\n  .then((willDelete) => {\n    if (willDelete) {\n      var data = false;\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\").once('value').then(function(snapshot) {\n        snapshot.forEach(function(childSnapshot) {\n          if(childSnapshot.key.substring(1) == code) {\n            modifiedCode = childSnapshot.key;\n          }\n        });\n        firebase.database().ref('Teachers/' + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + modifiedCode).remove();\n\n        var ref = (firebase.database().ref('Teachers/' + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\"));\n        ref.once('value', function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            data = true;\n          });\n          if(!data) {\n            ref.push(\"no_exams\");\n          }\n        });\n      });\n\n      firebase.database().ref('exam-codes').on('value', function(snapshot) {\n        snapshot.forEach(function(childSnapshot) {\n          if(childSnapshot.val().split(\";\")[0] == code){\n            firebase.database().ref('exam-codes').child(childSnapshot.key).remove();\n          }\n        });\n      });\n\n      document.getElementById('create-exam').style.display = \"none\";\n      document.getElementById('main').style.display = \"initial\";\n      document.body.style.background = \"white\";\n\n      setTimeout(function(){\n        $(\"#exam-wrapper\").empty();\n        $(\"#exam\").empty();\n\n        loadClass(sessionStorage.getItem(\"className\"));\n\n        if(sessionStorage.getItem(\"CreatedExamCode\").toUpperCase() == code) {\n          sessionStorage.setItem(\"CreatedExamCode\", \"\");\n          document.getElementById('cached-exam-button').remove();\n        }\n\n        swal(\"Poof! Your exam has been deleted!\", {\n          icon: \"success\",\n        });\n    }, 100);\n\n    }\n  });\n}\n\n//function to restructure if question is deleted in the middle\nfunction restructureQuestions() {\n  var questions = document.getElementsByClassName('question');\n\n  for(var i = 0; i < questions.length; i++) {\n    var question = questions[i];\n\n    question.childNodes[0].innerHTML = i + 1 + \". \"\n    question.id = i + 1;\n  }\n}\n\n// function to restructure matching boxes\nfunction restructureBoxes() {\n  var boxes = document.getElementsByClassName('matchingbox');\n\n  for(var i = 0; i < boxes.length; i++) {\n    var box = questions[i];\n\n    box.childNodes[1].innerHTML = i + 1 + \". \"\n  }\n}\n\n//function to dynamically change type of question\nfunction changeQuestionType(val, i, prevVal) {\n  var plus = i + 1;\n  var plusDiv = document.getElementById(plus);\n\n  if(val != prevVal) {\n    for(var j = 0; j < plusDiv.childNodes.length; j++) {\n      if(plusDiv.childNodes[j].className == prevVal) {\n        plusDiv.childNodes[j].style.display = \"none\";\n      }\n    }\n\n    if(val == \"mc\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"initial\";\n    }\n\n    else if(val == \"fr\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n      document.getElementById(plus).appendChild(createFreeResponse());\n    }\n    else if(val == \"tf\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n      document.getElementById(plus).appendChild(createTrueFalse());\n    }\n    else if(val == \"matching\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n      document.getElementById(plus).appendChild(createMatching());\n    }\n  }\n}\n\n// search LB\nfunction searchLeaderboard() {\n  var input, filter, ul, tr, a, i, txtValue;\n\n  input = document.getElementById(\"lb-search\");\n  tr = document.getElementById('leaderboard').getElementsByClassName(\"name\");\n\n  for (i = 0; i < tr.length; i++) {\n    if(tr[i].innerHTML == input.value) {\n      tr[i].style.border = \"1px solid black\";\n      tr[i].scrollIntoView({behavior: \"smooth\"});\n    }\n  }\n}\n\n// True | False\nfunction createTrueFalse() {\n  var label = document.createElement('label');\n  label.id = \"label\";\n  label.className = \"tf\";\n\n  var true_input = document.createElement('input');\n  true_input.style.outline = \"none\";\n  true_input.type = \"radio\";\n  true_input.className = \"option-input radio\";\n  true_input.name = \"tf\";\n\n  var false_input = document.createElement('input');\n  false_input.style.outline = \"none\";\n  false_input.type = \"radio\";\n  false_input.className = \"option-input radio\";\n  false_input.name = \"tf\";\n  false_input.style.marginLeft = \"10%\";\n\n  var true_span = document.createElement('span');\n  true_span.innerHTML = \" True\";\n  true_span.style.marginLeft = \"10px\";\n  true_span.style.color = \"gray\"\n  true_span.style.fontWeight = 'normal';\n\n  var false_span = document.createElement('span');\n  false_span.innerHTML = \" False\";\n  false_span.style.marginLeft = \"10px\";\n  false_span.style.color = \"gray\"\n  false_span.style.fontWeight = 'normal';\n\n  label.appendChild(true_input);\n  label.appendChild(true_span)\n\n  label.appendChild(false_input);\n  label.appendChild(false_span)\n\n  return label;\n}\n\n// function for Free-Response\nfunction createFreeResponse() {\n  var ta = document.createElement('textarea');\n  ta.readOnly = true;\n  ta.className = \"fr\";\n  ta.placeholder = \"NOTE: This question type requires manual grading\";\n\n  return ta;\n}\n\n\n// function to create matching boxes\nfunction createMatching(){\n  var matchingWrapper = document.createElement('div');\n  matchingWrapper.className = \"matching-wrapper\";\n\n  var matching = document.createElement('div');\n  matching.className = 'matching';\n\n  var hr = document.createElement('hr');\n  hr.style.width = '67%';\n\n  var questions = document.createElement('span');\n  questions.innerHTML = 'Questions';\n  questions.style.marginLeft = \"1.5vw\";\n\n  var results = document.createElement('span');\n  results.innerHTML = 'Results (Will Be Randomized)'\n  results.style.marginLeft = \"22.5vw\";\n\n  var numElements = document.createElement('input');\n  numElements.type = 'textbox';\n  numElements.placeholder = '# Of Elements...';\n  numElements.style.borderRadius = \"5px\";\n  numElements.style.padding = \"5px\";\n  numElements.style.border= \"1px solid black\";\n  numElements.style.fontSize = \"15px\";\n\n  numElements.onkeyup = function() {\n    $(matchingWrapper).empty();\n\n    if(this.value <= 20) {\n      for(var i = 0; i < this.value; i++) {\n        createMatchingElement(matchingWrapper, i + 1);\n      }\n    }\n    else {\n      this.value = \"\";\n\n      var alert = document.createElement('div');\n      alert.innerHTML = \"20 Elements Max!\"\n      alert.style.textAlign = \"center\";\n      alert.style.width = \"100%\";\n      alert.style.position = \"fixed\";\n      alert.style.zIndex = \"100000\";\n      alert.style.top = \"0\";\n      alert.className = \"alert alert-danger\";\n      alert.role = \"alert\";\n\n      document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n      setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n    }\n  }\n\n  var newBox = document.createElement('button');\n  newBox.id = \"newBox\";\n  newBox.innerHTML = \"New Element!\";\n\n  newBox.onclick = function() {\n    createMatchingElement(matchingWrapper, document.getElementsByClassName('matchingbox').length + 1);\n    saveExam(false);\n  }\n\n  matching.appendChild(numElements);\n  matching.appendChild(hr);\n  matching.appendChild(questions); matching.appendChild(results);\n  matching.appendChild(matchingWrapper);\n\n  matching.appendChild(document.createElement('br'));\n  matching.appendChild(newBox);\n\n  return matching;\n}\n\n// function to create matching Elements\nfunction createMatchingElement(div, i) {\n  var box = document.createElement('div');\n  box.className = 'matchingbox';\n\n  var labelTrash = document.createElement('span');\n  labelTrash.className = \"glyphicon glyphicon-minus\";\n  labelTrash.style.display = \"none\";\n  labelTrash.style.marginRight = \"5px\";\n  labelTrash.style.color = \"#f25555\";\n\n  $(labelTrash).click(function(){\n    this.parentNode.remove();\n    saveExam(false);\n    restructureBoxes();\n  });\n\n  $(box).hover(function(){\n    this.childNodes[0].style.display = \"initial\";\n  }, function(){\n    this.childNodes[0].style.display = \"none\";\n  });\n\n  $(labelTrash).hover(function(){\n    this.style.cursor=\"pointer\";\n    this.style.color = \"#f25555\";\n  }, function(){\n\n  });\n\n  box.appendChild(labelTrash)\n\n  var num = document.createElement('span');\n  num.innerHTML = i + \".\";\n  num.style.marginRight = \"10px\";\n  num.style.fontSize = \"15px\";\n\n  box.appendChild(num);\n\n  var input = document.createElement('input');\n  input.type = 'textbox';\n  input.style.marginTop = \"20px\";\n  input.style.textAlign = \"center\";\n  input.placeholder = \"1 + 1\";\n  input.id = 'result';\n\n  var arrow = document.createElement('span');\n  arrow.className = 'glyphicon glyphicon-arrow-right';\n  arrow.style.paddingLeft = '5vw';\n\n  var result_input = document.createElement('input');\n  result_input.type = 'textbox';\n  result_input.style.marginLeft = \"5vw\";\n  result_input.style.textAlign = \"center\";\n  result_input.placeholder = \"2\";\n  result_input.id = 'result';\n\n  box.appendChild(input);\n  box.appendChild(arrow);\n  box.appendChild(result_input);\n  div.appendChild(box);\n}\n\nfunction restructureManager() {\n  $('#question-manager').empty();\n\n  for(var i = 0; i < document.getElementsByClassName('question').length; i++) {\n    createQuestionTracker(i + 1, false);\n  }\n}\n\n// function to create HTML question\nfunction createQuestion(loading, numAnswerChoices) {\n  var exam = document.getElementById('exam');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n  var br = document.createElement('br');\n\n  var trash = document.createElement('span');\n  trash.className = \"glyphicon glyphicon-trash\";\n  trash.style.display = \"none\";\n  trash.style.marginRight = \"5px\";\n  trash.style.color = \"lightgray\";\n\n  $(trash).click(function(){\n    question.remove(); hr.remove(); br.remove();\n    restructureManager(); restructureQuestions(); saveExam();\n  });\n\n  $(trash).hover(function(){\n    trash.style.cursor=\"pointer\";\n    trash.style.color = \"black\";\n  }, function(){\n    trash.style.color = \"lightgray\";\n  });\n\n  var moveDiv = document.createElement('span');\n  moveDiv.id = \"moveDiv\"\n  moveDiv.className = \"glyphicon glyphicon-refresh\";\n  moveDiv.style.display = \"none\";\n  moveDiv.style.marginRight = \"5px\";\n\n  $(moveDiv).click(function(){\n    if(!swapDiv(this.parentNode, prompt(\"Which Question (#) Would You Like To Swap With?\"))){\n      swal(\"Failed!\", \"The Number You Provided Does Not Exist\", \"error\");\n    }\n    else {\n      saveExam(false);\n    }\n  });\n\n  var viewImage = document.createElement(\"a\");\n  viewImage.innerHTML = \"View Image\";\n  viewImage.style.marginLeft = \"10px\";\n  viewImage.style.display = \"none\";\n\n  var imgUpload = document.createElement('span');\n  imgUpload.className = \"glyphicon glyphicon-picture\";\n  imgUpload.style.display = \"none\";\n  imgUpload.style.marginRight = \"7px\";\n  imgUpload.style.color = \"lightgray\";\n\n  imgUpload.onclick =  function() {\n    uploadImage(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\")), viewImage);\n  };\n\n  $(imgUpload).hover(function(){\n    imgUpload.style.cursor=\"pointer\";\n    imgUpload.style.color = \"black\";\n  }, function(){\n    imgUpload.style.color = \"lightgray\";\n  });\n\n  $(question).hover(function(){\n    num.style.display = \"none\";\n    trash.style.display = \"initial\";\n    moveDiv.style.display = \"initial\";\n    imgUpload.style.display = \"initial\";\n    num.style.cursor = \"pointer\";\n  }, function(){\n    num.style.display = \"initial\";\n    trash.style.display = \"none\";\n    imgUpload.style.display = \"none\";\n    moveDiv.style.display = \"none\";\n  });\n\n\n  var question_title = document.createElement('input');\n  question_title.type = \"text\";\n  question_title.placeholder = \"Ex: What's Your Name?\";\n  question_title.id = \"question-title\";\n\n  var question_type = document.createElement('select');\n    var mc = document.createElement('option'); mc.value = \"mc\"; mc.innerHTML = \"Multiple Choice\";\n    var fr = document.createElement('option'); fr.value = \"fr\"; fr.innerHTML = \"Free Response\";\n    var tf = document.createElement('option'); tf.value = \"tf\"; tf.innerHTML = \"True | False\";\n    // var matching = document.createElement('option'); matching.value = \"matching\"; matching.innerHTML = \"Matching\"\n\n  question_type.appendChild(mc); question_type.appendChild(fr); question_type.appendChild(tf); //question_type.appendChild(matching);\n  question_type.id = \"question-type\";\n\n  var previous;\n\n  $(question_type).on('focusin', function(){\n    previous = $(this).val();\n  });\n\n  question_type.onchange = function() {\n    changeQuestionType(this.children[this.selectedIndex].value, question.id - 1, previous);\n    question_type.blur();\n  }\n\n  question.appendChild(num);\n  question.appendChild(imgUpload);\n  question.appendChild(moveDiv);\n  question.appendChild(trash);\n  question.appendChild(question_title);\n  question.appendChild(question_type);\n\n  var points = document.createElement('div');\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('input');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.className = \"numPoints\";\n  numPoints.placeholder = \"Ex: 4\";\n\n  var finishingSpan =  document.createElement('span');\n  finishingSpan.innerHTML = \" points)\";\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n  points.appendChild(viewImage);\n\n  question.appendChild(points);\n\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var answer_choice = document.createElement('input');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n    answer_choice.type=\"text\";\n    answer_choice.placeholder = \" Answer Choice...\";\n\n    var labelTrash = document.createElement('span');\n    labelTrash.className = \"glyphicon glyphicon-minus\";\n    labelTrash.style.display = \"none\";\n    labelTrash.style.marginRight = \"5px\";\n    labelTrash.style.color = \"#f25555\";\n\n    $(labelTrash).click(function(){\n        this.parentNode.remove();\n        saveExam();\n    });\n    $(label).hover(function(){\n      this.childNodes[0].style.display = \"initial\";\n    }, function(){\n      this.childNodes[0].style.display = \"none\";\n    });\n\n    $(labelTrash).hover(function(){\n      this.style.cursor=\"pointer\";\n      this.style.color = \"#f25555\";\n    }, function(){});\n\n\n    label.appendChild(labelTrash)\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n    answer_choices.appendChild(label);\n  }\n\n  var plus = document.createElement('span');\n  plus.className = \"glyphicon glyphicon-plus\";\n\n  var createNewAnswerChoice = document.createElement('a');\n  createNewAnswerChoice.id = \"createNewAnswerChoice\";\n  createNewAnswerChoice.clasName = \"newChoice\";\n  createNewAnswerChoice.href = \"javascript:createNewOptionChoice(\" +  num.innerHTML + \")\";\n  createNewAnswerChoice.appendChild(plus);\n  createNewAnswerChoice.innerHTML += ' New Answer Choice'\n\n  answer_choices.appendChild(createNewAnswerChoice);\n\n  question.appendChild(answer_choices);\n\n  exam.appendChild(question);\n\n  exam.appendChild(br);\n  exam.appendChild(hr);\n\n\n  if(!loading) {\n    window.scroll({ top: question.getBoundingClientRect().top + window.scrollY, behavior: 'smooth' });\n    createQuestionTracker(document.getElementsByClassName('question').length, false);\n    saveExam(false);\n  }\n}\n\n// upload images\nfunction uploadImage(num, imgLink) {\n  var alertDiv = document.createElement('div');\n  alertDiv.id = \"alertDiv\";\n\n  var header = document.createElement('h1');\n  header.style.textDecoration = \"underline dodgerblue\";\n  header.style.color = \"#1ece76\"\n  header.innerHTML = \"Upload Image To Question \" + num;\n  alertDiv.appendChild(header);\n\n  var imgInput = document.createElement('input');\n  imgInput.type = \"file\";\n  imgInput.style.border = \"1px solid dodgerblue\";\n  imgInput.style.padding = \"10px\";\n  imgInput.style.fontSize = \"10px\"\n  imgInput.style.borderRadius = \"5px\";\n\n  var center = document.createElement('center');\n  center.appendChild(imgInput)\n\n  alertDiv.appendChild(document.createElement('br'));\n  alertDiv.appendChild(center);\n  alertDiv.appendChild(document.createElement('hr'));\n\n  var imgOut = document.createElement('img');\n  imgOut.id = \"imgOut\"\n  alertDiv.appendChild(imgOut);\n\n  var shortDescription = document.createElement('input');\n  shortDescription.style.margin = \"20px\";\n  shortDescription.style.borderRadius = \"5px\";\n  shortDescription.style.border = \"1px solid black\";\n  shortDescription.placeholder = \"Short description...\"\n  shortDescription.style.width = \"90%\";\n  shortDescription.style.height = \"30px\";\n  shortDescription.style.padding = \"5px\";\n  shortDescription.style.fontSize = \"15px\";\n  alertDiv.appendChild(shortDescription)\n\n  var cancel = document.createElement('button');\n  cancel.id = \"imgUploadCancel\";\n  cancel.innerHTML = \"Cancel\";\n\n  cancel.onclick = function() {\n    document.body.style.opacity = \"1\"\n    document.body.style.filter = \"blur(0px)\";\n    document.body.style.overflowX = \"auto\";\n    document.body.style.overflowY = \"auto\";\n\n    alertDiv.remove()\n  }\n\n  var upload = document.createElement('button');\n  upload.id = \"imgUploadAccept\";\n  upload.innerHTML = \"Upload!\";\n\n  upload.onclick = function() {\n    if(imgOut.src != \"\") {\n      imgLink.style.display = \"initial\"\n      imgLink.onclick = function() {\n        swal({\n          icon: imgOut.src,\n          text: shortDescription.value,\n          className: \"imgView\"\n        });\n      }\n      imgLink.className = imgOut.src;\n\n      document.body.style.opacity = \"1\"\n      document.body.style.filter = \"blur(0px)\";\n      document.body.style.overflowX = \"auto\";\n      document.body.style.overflowY = \"auto\";\n\n      alertDiv.remove();\n      saveExam(shortDescription.value);\n    }\n  }\n\n  imgInput.onchange = function (evt) {\n    var tgt = evt.target || window.event.srcElement,\n        files = tgt.files;\n\n    // FileReader support\n    if (FileReader && files && files.length) {\n        var fr = new FileReader();\n        fr.onload = function () {\n            imgOut.src = fr.result;\n            imgOut.style.border = \"1px solid black\";\n            cancel.style.marginBottom = \"20px\";\n            upload.style.marginBottom = \"20px\";\n        }\n        fr.readAsDataURL(files[0]);\n    }\n  }\n\n  alertDiv.appendChild(upload);\n  alertDiv.appendChild(cancel);\n\n  document.getElementById('html').appendChild(alertDiv);\n\n  document.body.style.opacity = \"0.1\"\n  document.body.style.filter = \"blur(5px)\";\n  document.body.style.overflowX = \"hidden\";\n  document.body.style.overflowY = \"hidden\";\n}\n\n//function to swap divs\nfunction swapDiv(elem, numToSwap){\n  if(document.getElementById(numToSwap) == undefined) {\n    return false;\n  }\n  else {\n    var div1 = jQuery(elem);\n  \tvar div2 = jQuery(document.getElementById(numToSwap));\n\n  \tvar tdiv1 = div1.clone();\n  \tvar tdiv2 = div2.clone();\n\n\t\tdiv1.replaceWith(tdiv2);\n\t\tdiv2.replaceWith(tdiv1);\n\n    restructureQuestions();\n    return true;\n  }\n}\n\n// append new answer choice to question based on num\nfunction createNewOptionChoice(num) {\n  var val = document.getElementById(num).childNodes[7];\n\n  if(val.childNodes.length <= 8) {\n    val.childNodes[val.childNodes.length - 1].remove();\n\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.className = \"option-input radio\";\n    input.name = \"radio\";\n\n    var answer_choice = document.createElement('input');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n    answer_choice.type=\"text\";\n    answer_choice.placeholder = \" Answer Choice...\";\n\n    var answer_choice = document.createElement('input');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n    answer_choice.type=\"text\";\n    answer_choice.placeholder = \" Answer Choice...\";\n\n    var labelTrash = document.createElement('span');\n    labelTrash.className = \"glyphicon glyphicon-minus\";\n    labelTrash.style.display = \"none\";\n    labelTrash.style.marginRight = \"5px\";\n    labelTrash.style.color = \"#f25555\";\n\n    $(labelTrash).click(function(){\n        this.parentNode.remove();\n        saveExam();\n    });\n\n    $(label).hover(function(){\n      this.childNodes[0].style.display = \"initial\";\n    }, function(){\n      this.childNodes[0].style.display = \"none\";\n    });\n\n    $(labelTrash).hover(function(){\n      this.style.cursor=\"pointer\";\n      this.style.color = \"#f25555\";\n    }, function(){\n\n    });\n\n    label.appendChild(labelTrash);\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n    val.appendChild(label);\n\n    var plus = document.createElement('span');\n    plus.className = \"glyphicon glyphicon-plus\";\n\n    var createNewAnswerChoice = document.createElement('a');\n    createNewAnswerChoice.id = \"createNewAnswerChoice\";\n    createNewAnswerChoice.href = \"javascript:createNewOptionChoice(\" +  num + \")\";\n    createNewAnswerChoice.clasName = \"newChoice\";\n    createNewAnswerChoice.appendChild(plus);\n    createNewAnswerChoice.innerHTML += ' New Answer Choice';\n\n    val.appendChild(createNewAnswerChoice);\n    saveExam(false);\n  }\n  else {\n    swal(\"Maximum\", \"Sorry, you can only add 8 option choices\", \"error\");\n  }\n}\n\n// return letter grade based on avg\nfunction getLetter(avg) {\n  if(avg >= 90.0) {\n    return \"A\";\n  }\n  else if(avg < 90.0 && avg >= 80.0) {\n    return \"B\";\n  }\n  else if(avg < 80.0 && avg >= 70.0) {\n    return \"C\";\n  }\n  else if(avg < 70.0 && avg >= 60.0) {\n    return \"D\";\n  }\n  else {\n    return \"F\";\n  }\n\n}\n\n// create div box for every class\nfunction createClassBox(className, numStudentsInClass, numExamsInClass) {\n  var wrapper = document.getElementById('wrapper');\n\n  var classBox = document.createElement('div');\n  classBox.onclick = function() {\n    sessionStorage.setItem('className', className);\n    loadClass(className, numExamsInClass);\n  };\n\n  classBox.className = \"classBox\";\n\n  var span = document.createElement('span');\n  span.innerHTML = className;\n  span.className = 'className';\n\n  classBox.appendChild(span);\n  classBox.appendChild(document.createElement('hr'));\n\n  var numStudents = document.createElement('p');\n\n  var lowKey = document.createElement('h6');\n  lowKey.innerHTML = \"Students\";\n  lowKey.id=\"lowKey\";\n\n  numStudents.innerHTML = numStudentsInClass;\n  numStudents.appendChild(lowKey);\n\n  numStudents.id = \"numStudents\";\n  classBox.appendChild(numStudents);\n\n  var hrInBetween = document.createElement('hr');\n  hrInBetween.id = \"hrInBetween\";\n  classBox.appendChild(hrInBetween);\n\n  var numExams = document.createElement('p');\n\n  lowKey = document.createElement('h6');\n  lowKey.innerHTML = \"Exams\";\n  lowKey.id = \"lowKey\";\n  numExams.innerHTML = numExamsInClass;\n  numExams.appendChild(lowKey);\n\n  numExams.id=\"numExams\";\n  classBox.appendChild(numExams);\n\n  wrapper.appendChild(classBox);\n  document.getElementById('main').appendChild(wrapper);\n}\n\n//populate main dashboard of page when page loads\nfunction populateDashboard() {\n  if(!userDataHasLoaded) {\n    var ref = firebase.database().ref('Teachers');\n    var counter = 0;\n    var exists = false;\n\n    ref.once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.key == userName) {\n          exists = true;\n          arr.push(childSnapshot.child(\"Classes\").val());\n\n          for (var key in arr) {\n            var x = 0;\n            // skip loop if the property is from prototype\n            if (!arr.hasOwnProperty(key)) continue;\n            var obj = arr[key];\n            for (var prop in obj) {\n              // skip loop if the property is from prototype\n              if(!obj.hasOwnProperty(prop)) continue;\n\n              if(obj[prop].Exams[Object.keys(obj[prop].Exams)[0]] == \"no_exams\") {\n                createClassBox(prop, Object.keys(obj[prop].Students).length, 0);\n              }\n              else {\n                createClassBox(prop, Object.keys(obj[prop].Students).length, Object.keys(obj[prop].Exams).length);\n              }\n            }\n          }\n        }\n      });\n      if(!exists) {\n        document.getElementById('doesNotExist').style.display = \"initial\";\n      }\n    });\n  }\n\n  userDataHasLoaded = true;\n}\n"]}