{"version":3,"sources":["assets/js/teacher.js"],"names":["sessionStorage","getItem","document","body","style","display","alert","totalPoints","examCodes","examCodesTeachers","arr","exams","examData","autoSaveCounter","alphabet","examDataHasLoaded","userDataHasLoaded","window","onload","populateDashboard","$","click","toggleClass","focus","css","blur","on","saveExam","scroll","i","getElementsByClassName","length","elem","getElementById","docViewTop","scrollTop","docViewBottom","height","elemTop","offset","top","navigator","userAgent","toLowerCase","indexOf","clientHeight","childNodes","innerHTML","color","marginRight","undefined","userName","JSON","parse","profileImg","createQuiz","examCounter","firebase","database","ref","snapshot","forEach","childSnapshot","push","val","split","randomCode","generateCode","examInit","examCode","toUpperCase","examTitle","lastSaved","examType","examTotalPoints","examTotalMins","examDate","examDescription","questions","title","type","points","choices","value","once","child","key","remove","createQuestion","background","successfulSave","createElement","textAlign","width","position","zIndex","className","role","appendChild","setTimeout","newSave","Date","toLocaleString","replace","getAllPoints","then","set","examTeacher","localQuestions","pluginArrayArg","Array","question","children","jsonArg1","Object","checked","imgSrc","imgShortDescription","alreadyChecked","j","parentNode","multiple","boxes","numBoxes","result","stringify","extend","code","substring","pointsBoxes","parseInt","createQuestionTracker","populating","manager","tracker","id","hover","cursor","onclick","scrollIntoView","block","circle","center","text","populateExam","refs","pop","join","keys","swal","icon","changeQuestionType","setChecked","checkBox","changeNames","k","addEventListener","resetNames","options","numberOfOptions","name","div","loadClass","empty","collectiveAvg","classAvg","classCounter","backgroundImage","setItem","counter","exam","grade","score","createExamBox","toFixed","button","Math","random","toString","substr","string","shift","removeDropDown","x","matches","src","buttons","location","href","matchMedia","displayExamData","examName","cumAvg","classLength","highest","lowest","populated","standardDeviation","documentElement","finalSelectedCode","examCodeWithLetter","hasOwnProperty","obj","prop","initData","populateItemAnalysis","dbName","table","init","initName","paddingLeft","initScore","initPercentile","initTime","response","responses","data","time","tr","loadStudentExamData","percentile","getPercentileOriginal","overallData","ul","float","avg","fontSize","highestScorer","lowestScorer","standardDev","mean","reduce","a","b","sd","sqrt","map","pow","dataDiv","answers","responseData","q","createItemAnalysis","num","item","percentages","span","paddingRight","borderRight","totalAnswers","mcCounters","fill","tfCounters","pgBar","pg_green","correctPercentage","setPercentageItem","pg_red","percentage","borderLeft","otherPercentage","goBackToCurrentExams","numBelow","student","numEqual","removeAllActive","navBars","getElementsByTagName","populateLeaderboard","goHomeFromExams","goExamsFromExam","possibleTables","goHomeFromExamData","answer","finalId","info","fullName","takenKey","taken","studentPoints","totalScore","corrAnswer","createGradedQuestion","studAnswer","numAnswerChoices","numAnswerPoints","studName","examCurrentCode","awardedPoints","correct","hr","question_title","readOnly","numPoints","finishingSpan","answer_choices","label","borderTop","borderBottom","correctAnswer","fontWeight","marginTop","incorrectAnswer","input","disabled","outline","answer_choice","ta","attr","pointsAwardedSpan","numAcceptedPoints","maxLength","questionNum","onkeyup","cleanVersion","isNaN","update","newScore","placeholder","padding","border","borderRadius","getPercentile","sort","func","tables","t","testExamData","slice","iTracker","scores","mergeSort","times","mergeSortTime","middle","floor","left","right","merge","indexLeft","indexRight","concat","mergeTime","searchExams","filter","li","textContent","innerText","gradients","wrapper","classBox","difBackground","marginLeft","option_vertical","modal","edit","results","deleteTest","deleteExam","displayInfo","randomStr","setCorrectExamCode","html","s","cs","createCurrentTakingBox","opacity","overflowY","event","target","keyup","e","isOverflown","descriptor","boxShadow","onmouseover","transform","onmouseleave","transition","letter","getLetter","randomNum","v","element","scrollHeight","scrollWidth","clientWidth","currentlyTakingDiv","box","modifiedCode","dangerMode","willDelete","resetInitExam","restructureQuestions","restructureBoxes","prevVal","plus","plusDiv","createFreeResponse","createTrueFalse","createMatching","searchLeaderboard","behavior","true_input","false_input","true_span","false_span","matchingWrapper","matching","numElements","createMatchingElement","newBox","labelTrash","arrow","result_input","restructureManager","loading","br","trash","moveDiv","swapDiv","prompt","viewImage","imgUpload","uploadImage","question_type","mc","fr","tf","previous","onchange","selectedIndex","onmouseup","createNewAnswerChoice","clasName","getBoundingClientRect","scrollY","imgLink","alertDiv","header","textDecoration","imgInput","imgOut","shortDescription","margin","cancel","overflowX","upload","evt","tgt","files","srcElement","FileReader","marginBottom","readAsDataURL","numToSwap","div1","jQuery","div2","tdiv1","clone","tdiv2","replaceWith","createNewOptionChoice","createClassBox","numStudentsInClass","numExamsInClass","numStudents","lowKey","hrInBetween","numExams","exists","Exams","Students","addListener"],"mappings":"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","file":"teacher.c2066998.js","sourceRoot":"..","sourcesContent":["// check if user is signed in\nif(sessionStorage.getItem('userInfo') == null) {\n  document.body.style.display = \"none\";\n  alert(\"NOT AUTHORIZED\");\n}\n\nvar examCodes = [];\nvar examCodesTeachers = [];\nvar arr = [];\nvar exams = [];\nvar examData = [];\nvar totalPoints;\nvar autoSaveCounter = 0;\nvar alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n\n// HAS LOADED\nvar examDataHasLoaded = false;\nvar userDataHasLoaded = false;\n\n\n//when page loads, populateDashboard()\nwindow.onload = function() {\n  populateDashboard();\n\n  $('.dropdown').click(function(){\n    $('.dropdown-menu').toggleClass('show');\n  });\n\n  $(\"#description\").focus(function() {\n    $(\"#description\").css(\"border\", \"1px solid #458ec1\");\n  }).blur(function() {\n    $(\"#description\").css(\"border\", \"1px solid lightgray\");\n  });\n\n  $(\"#create-exam\").on('blur', \":input\", function() {\n    saveExam(false);\n  });\n\n  $(\"#create-exam\").on('change', \"input:radio\", function() {\n    saveExam(false);\n  });\n\n  // for create-exam\n  $(window).scroll(function(){\n    for(var i = 1; i < document.getElementsByClassName('question').length + 1; i++) {\n      var elem = document.getElementById(i);\n      var docViewTop = $(window).scrollTop();\n      var docViewBottom = docViewTop + $(window).height();\n\n      var elemTop = $(elem).offset().top;\n      var elemBottom = elemTop + $(elem).height();\n\n      var isInView = ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));\n\n      if (isInView){\n        if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n          document.getElementById('question-manager').scrollTop = document.getElementById('question-tracker').clientHeight * (i - 1);\n          document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CF;\"\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"white\";\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.marginRight = \"10px\";\n        }\n        else {\n          document.getElementById('question-manager').scrollTop = document.getElementById('question-tracker').clientHeight * (i - 1);\n          document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CF;\"\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"white\";\n        }\n      }\n      else {\n        if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n          document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CC;\";\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"black\";\n          document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.marginRight = \"0\";\n        }\n        else {\n          if(document.getElementsByClassName(i)[0] != undefined) {\n            document.getElementsByClassName(i)[0].childNodes[0].innerHTML = \"&#x25CC;\";\n            document.getElementsByClassName(i)[0].childNodes[1].childNodes[0].style.color = \"black\";\n          }\n        }\n      }\n    }\n  })\n};\n\n// retrieve userName, img from sessionStorage\nvar userName = (JSON.parse(sessionStorage.getItem(\"userInfo\"))[1]);\nvar profileImg = (JSON.parse(sessionStorage.getItem(\"userInfo\"))[2]);\n\n//initialize aspects of page with JS data\ndocument.getElementById('welcome-text').innerHTML = \"Welcome \" + userName + \"!\";\ndocument.getElementById('profile').src = profileImg;\n\n$('#profile').click(function(){\n  swal({\n    title: \"Sign Out\",\n    text: \"Are You Sure You Want To Sign Out?\",\n    icon: \"warning\",\n    buttons: [\"Cancel\", \"Sign Me Out!\"],\n  })\n  .then((value) => {\n    if(value) {\n      window.location.href = \"index.html?noRedirect\";\n    }\n  });\n});\n\n// create initial framework for exams\nfunction createQuiz() {\n  var examCounter = 0;\n\n  if(examCodes.length == 0){\n    // Pull all exam codes and seperate the datapoints from each other\n    firebase.database().ref('exam-codes').on('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        examCodes.push(childSnapshot.val().split(\";\")[0]);\n        examCodesTeachers.push(childSnapshot.val().split(\";\")[1])\n      });\n    });\n  }\n\n  var randomCode = generateCode();\n\n  var examInit = {\n    examCode: randomCode.toUpperCase(),\n    examTitle: \"\",\n    lastSaved: \"\",\n    examType: \"\",\n    examTotalPoints: \"\",\n    examTotalMins: \"\",\n    examDate: \"\",\n    examDescription: \"\",\n    questions: [\n      {\n        title: '',\n        type:   '',\n        points: '',\n        choices: [\n          {value: \"\"},\n          {value: \"\"},\n          {value: \"\"},\n          {value: \"\"},\n        ]\n      }\n    ]\n  };\n\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\").once('value', function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val() == \"no_exams\") {\n        firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\").child(childSnapshot.key).remove();\n      }\n      else {\n        examCounter++;\n      }\n    });\n  });\n\n  if(examCounter < 26) {\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + alphabet[(alphabet.length - 1) - examCounter] + randomCode.toUpperCase()).push(examInit);\n  }\n  else {\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + alphabet[(alphabet.length - 1) - examCounter-26] +  alphabet[(alphabet.length - 1) - examCounter-26] + randomCode.toUpperCase()).push(examInit);\n  }\n\n  createQuestion(true, 4);\n\n  document.getElementById('create-exam').style.display = \"initial\";\n  document.getElementById('main').style.display = \"none\";\n  document.body.style.background = \"white\";\n  document.getElementById('exam-code').innerHTML = randomCode.toUpperCase();\n}\n\n// Alert After Save\nfunction successfulSave() {\n  var alert = document.createElement('div');\n  alert.innerHTML = \"Successfully Saved Exam!\"\n  alert.style.textAlign = \"center\";\n  alert.style.width = \"100%\";\n  alert.style.position = \"fixed\";\n  alert.style.zIndex = \"100000\";\n  alert.style.top = \"0\";\n  alert.className = \"alert alert-success\";\n  alert.role = \"alert\";\n\n  document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n  setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n}\n\n// Save Exam\nfunction saveExam(alert) {\n\n  if(alert) {\n    successfulSave();\n  }\n\n  var newSave = new Date().toLocaleString().replace(\",\", \" @\");\n  if(newSave == \"\") {\n    newSave = \" Not Saved!\";\n  }\n\n  document.getElementById('last-saved').innerHTML = \"Last Sync: \" + newSave;\n  document.getElementsByClassName('points')[0].value = getAllPoints();\n\n  if(document.getElementById('nameOfExam').value != \"\") {\n    firebase.database().ref(\"exam-codes\").once('value').then(function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.val().split(\";\")[0] == document.getElementById('exam-code').innerHTML) {\n          firebase.database().ref(\"exam-codes\").child(childSnapshot.key).set(childSnapshot.val().split(\";\")[0] + \";\" + childSnapshot.val().split(\";\")[1] + \";\" + childSnapshot.val().split(\";\")[2] + \";\" + document.getElementById('nameOfExam').value);\n        }\n      });\n    });\n  }\n\n  var examInit = {\n    examTeacher: userName,\n    examCode: document.getElementById('exam-code').innerHTML,\n    examTitle: document.getElementById('nameOfExam').value,\n    lastSaved: newSave,\n    examTotalPoints: getAllPoints(),\n    examTotalMins: document.getElementsByClassName('time')[0].value,\n    examDate: document.getElementById('date').value,\n    examDescription: document.getElementById('description').value,\n    questions: []\n  };\n\n  var localQuestions = document.getElementsByClassName('question');\n  var pluginArrayArg = new Array();\n\n  for(var i = 0; i < localQuestions.length; i++) {\n    var question = localQuestions[i];\n    var children = question.childNodes;\n\n    var jsonArg1 = new Object();\n    jsonArg1.title = children[4].value;\n    jsonArg1.type = children[5].value;\n    jsonArg1.points = children[6].childNodes[1].value;\n    jsonArg1.checked = -1;\n    jsonArg1.imgSrc = children[6].childNodes[4].className;\n\n    if(alert && !alert) {\n      jsonArg1.imgShortDescription = alert;\n    }\n\n    jsonArg1.choices = [];\n\n    if(jsonArg1.type == 'mc') {\n      var alreadyChecked = false;\n\n      for(var j = 0; j < children[7].childNodes.length - 1; j++){\n        jsonArg1.choices.push(children[7].childNodes[j].childNodes[2].value);\n\n        // checkBox\n        if(children[7].parentNode.childNodes[6].childNodes[3].checked && !alreadyChecked) {\n          jsonArg1.multiple = \"true\";\n          jsonArg1.checked = [];\n          alreadyChecked = true;\n        }\n\n        if(children[7].childNodes[j].childNodes[1].checked == true) {\n          //check if .checked is an Array\n          if(typeof jsonArg1.checked == \"object\") {\n            jsonArg1.checked.push(j);\n          }\n          else {\n            jsonArg1.checked = j;\n          }\n        }\n      }\n    }\n\n    else if(jsonArg1.type == 'fr') {\n      jsonArg1.choices.push(children[8].value);\n    }\n\n    else if(jsonArg1.type == 'tf') {\n      if(children[8].childNodes[0].checked) {\n        jsonArg1.choices.push(\"true\");\n      }\n      else {\n        jsonArg1.choices.push(\"false\");\n      }\n    }\n\n    else {\n      var boxes = document.getElementsByClassName('matchingbox');\n      jsonArg1.numBoxes = boxes.length;\n\n      for(var i = 0; i < boxes.length; i++) {\n        var question = boxes[i].childNodes[3].value;\n        var result = boxes[i].childNodes[5].value;\n\n        jsonArg1.choices.push(question + \";\" + result);\n      }\n    }\n\n    pluginArrayArg.push(jsonArg1);\n    var questions = JSON.parse(JSON.stringify(pluginArrayArg));\n    $.extend(examInit, { questions });\n  }\n\n  var code = \"\";\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\").once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.key.substring(1) == document.getElementById('exam-code').innerHTML) {\n        code = childSnapshot.key;\n      }\n    });\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + code).once('value').then(function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.key != \"responses\" && childSnapshot.key != \"taken\") {\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + code).child(childSnapshot.key).set(examInit);\n        }\n      });\n    });\n  });\n}\n\nfunction getAllPoints() {\n  var pointsBoxes = document.getElementsByClassName('numPoints');\n  var points = 0;\n\n  for(var i = 0; i < pointsBoxes.length; i++) {\n    if(pointsBoxes[i].value != \"\") {\n      points += parseInt(pointsBoxes[i].value);\n    }\n  }\n\n  return points;\n}\n\nfunction createQuestionTracker(i, populating) {\n  var manager = document.getElementById('question-manager');\n  var tracker = document.createElement('div');\n  tracker.id = \"question-tracker\";\n  tracker.className = i;\n\n    $(tracker).hover(function(){\n      if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n        this.style.cursor = \"pointer\";\n        $(this).children()[0].innerHTML = \"&#x25CF;\";\n        this.childNodes[1].childNodes[0].style.color = \"white\";\n        this.childNodes[1].childNodes[0].style.marginRight = \"10px\";\n      }\n      else {\n        this.style.cursor = \"pointer\";\n        $(this).children()[0].innerHTML = \"&#x25CF;\";\n        this.childNodes[1].childNodes[0].style.color = \"white\";\n      }\n    }, function(){\n      if(navigator.userAgent.toLowerCase().indexOf('safari/') > -1) {\n        this.childNodes[1].childNodes[0].style.color = \"black\";\n        $(this).children()[0].innerHTML = \"&#x25CC;\";\n        this.childNodes[1].childNodes[0].style.marginRight = \"0\";\n      }\n      else {\n        this.childNodes[1].childNodes[0].style.color = \"black\";\n        $(this).children()[0].innerHTML = \"&#x25CC;\";\n      }\n    });\n\n  tracker.onclick = function() {\n    document.getElementById(i).scrollIntoView({block: \"center\"});\n  }\n\n  var circle = document.createElement('div');\n  circle.id = \"circle\";\n  circle.innerHTML = \"&#x25CC;\"\n\n  var center = document.createElement('center');\n  var text = document.createElement('div');\n  text.id = \"text\";\n  text.innerHTML = i;\n\n  center.appendChild(text);\n\n  tracker.appendChild(circle);\n  tracker.appendChild(center);\n\n  manager.appendChild(tracker);\n  manager.scrollTop = (manager.clientHeight + manager.clientHeight);\n}\n\n//populate exam for autosave\nfunction populateExam(code, ref) {\n  var refs = ref.split('/'); refs.pop();\n\n  firebase.database().ref(refs.join().split(',').join('/')).once('value').then(function(snapshot) {\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.key.substring(1) == code) {\n        firebase.database().ref(refs.join().split(',').join('/') + \"/\" + childSnapshot.key).once('value').then(function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            var val = childSnapshot.val();\n\n            if(val.examCode != undefined){\n              var counter = 0;\n\n              document.getElementById('last-saved').innerHTML = \"Last Sync: \" + val.lastSaved;\n              document.getElementById('exam-code').innerHTML = val.examCode;\n              document.getElementById('date').value = val.examDate;\n              document.getElementById('description').value = val.examDescription;\n              document.getElementById('nameOfExam').value = val.examTitle;\n              document.getElementsByClassName('time')[0].value = val.examTotalMins;\n\n              for(var i = 0; i < Object.keys(val.questions).length; i++) {\n                var localQuestions = document.getElementsByClassName('question');\n                var question = childSnapshot.val().questions[i];\n\n                if(question.choices != undefined && question.type != \"matching\") {\n                  createQuestion(true, Object.keys(question.choices).length);\n                  createQuestionTracker(i + 1, true);\n\n                  localQuestions[i].childNodes[4].value = question.title;\n                  localQuestions[i].childNodes[6].childNodes[1].value = question.points;\n                  localQuestions[i].childNodes[5].value = question.type;\n\n                  if(question.imgSrc != \"\") {\n                    localQuestions[i].childNodes[6].childNodes[4].style.display = \"initial\";\n                    localQuestions[i].childNodes[6].childNodes[4].onclick = function() {\n                      swal({\n                        icon: question.imgSrc,\n                        text: question.imgShortDescription,\n                        className: \"imgView\"\n                      });\n                    }\n                  }\n\n                  changeQuestionType(question.type, i, 'mc');\n\n                  if(question.type == \"mc\") {\n                    var multiple = (question.multiple == \"true\");\n\n                    for(var j = 0; j < Object.keys(question.choices).length; j++){\n                      if(question.choices[j].value != undefined){\n                        localQuestions[i].childNodes[7].childNodes[j].childNodes[2].value = (question.choices[j].value);\n                        if(j == question.checked && !multiple) {\n                          setChecked(localQuestions[i].childNodes[7].childNodes[j].childNodes[1]);\n                        }\n                      }\n                      else {\n                        localQuestions[i].childNodes[7].childNodes[j].childNodes[2].value = (question.choices[j]);\n                        if(j == question.checked && !multiple) {\n                          setChecked(localQuestions[i].childNodes[7].childNodes[j].childNodes[1]);\n                        }\n                      }\n                    }\n\n                    var checkBox = document.getElementsByClassName('checkBox')[i];\n\n                    if(multiple){\n                      checkBox.checked = true;\n                      setTimeout(function(){ changeNames(checkBox);}, 1000);\n\n                      for(var k = 0; k < question.checked.length; k++) {\n                        setChecked(localQuestions[i].childNodes[7].childNodes[k].childNodes[1]);\n                      }\n\n                      saveExam(false);\n                    }\n\n                    checkBox.addEventListener( 'change', function() {\n                      if(this.checked) {\n                        changeNames(checkBox);\n                        saveExam(false);\n                      }\n                      else {\n                        resetNames(checkBox);\n                        saveExam(false);\n                      }\n                    });\n                  }\n\n                  else if(question.type == \"fr\"){\n                    localQuestions[i].childNodes[8].value = (question.choices[0]);\n                  }\n\n                  else if(question.type == \"tf\") {\n                    if(question.choices[0] == 'true') {\n                      localQuestions[i].childNodes[8].childNodes[0].checked = true;\n                    }\n                    else {\n                      localQuestions[i].childNodes[8].childNodes[2].checked = true;\n                    }\n                  }\n                }\n\n                // else if(question.type == \"matching\") {\n                //   createQuestion(true, question.numBoxes);\n                //   createQuestionTracker(i + 1, true);\n                //   changeQuestionType(question.type, i, \"mc\");\n                //\n                //   localQuestions[i].childNodes[3].value = question.title;\n                //   localQuestions[i].childNodes[5].childNodes[1].value = question.points;\n                //   localQuestions[i].childNodes[4].value = question.type;\n                //\n                //   localQuestions[i].childNodes[0].value = question.numBoxes;\n                //   for(var j = 0; j < question.numBoxes; j++) {\n                //     createMatchingElement(localQuestions[i].childNodes[6], j + 1);\n                //   }\n                //\n                //   var localBoxes = document.getElementsByClassName('matchingbox');\n                //   for(var k = 0; k < localBoxes.length; k++) {\n                //     localBoxes[k].childNodes[0].value = question.choices[k].split(\";\")[0];\n                //     localBoxes[k].childNodes[2].value = question.choices[k].split(\";\")[1];\n                //   }\n                // }\n              }\n            }\n          });\n        });\n      }\n    });\n  });\n\n  setTimeout(function(){ document.getElementsByClassName('points')[0].value = getAllPoints(); }, 200);\n}\n\nfunction changeNames(checkBox) {\n  var options = checkBox.parentNode.parentNode.childNodes[7].childNodes;\n  var numberOfOptions = (options.length - 1);\n\n  for(var i = 0; i < numberOfOptions; i++) {\n    options[i].childNodes[1].name = i;\n  }\n}\n\nfunction resetNames(checkBox) {\n  var options = checkBox.parentNode.parentNode.childNodes[7].childNodes;\n  var numberOfOptions = (options.length - 1);\n\n  for(var i = 0; i < numberOfOptions; i++) {\n    options[i].childNodes[1].name = checkBox.parentNode.parentNode.id + \".\";\n  }\n}\n\nfunction setChecked(div) {\n  setTimeout(function(){ div.checked = true; }, 800);\n}\n\n//load class based on name\nfunction loadClass(name) {\n    if($(\"#exam-wrapper\") != undefined) {\n      $(\"#exam-wrapper\").empty();\n    }\n    var examCounter = 0;\n    var collectiveAvg = 0;\n    var classAvg = 0;\n    var classCounter = 0;\n    var counter = -1\n\n    document.getElementById('welcome-div').style.display = \"none\";\n    document.getElementById('wrapper').style.display = \"none\";\n    document.getElementById('classSpecific').style.display = \"initial\";\n    document.getElementById('exam-wrapper').style.display = \"grid\";\n    document.getElementById('main-header').innerHTML = \"Welcome to \" + name;\n    document.body.style.backgroundImage = \"linear-gradient(to top, #dfe9f3 0%, white 100%)\";\n\n    sessionStorage.setItem('createExamClass', name);\n\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + name + \"/Exams/\").on('value', function(snapshot) {\n      exams.push(snapshot.val());\n      counter++;\n      snapshot.forEach(function(childSnapshot) {\n        childSnapshot.child('responses').forEach(function(exam) {\n          classCounter++;\n          examCounter++;\n          var grade = exam.val()[Object.keys(exam.val())[0]].score;\n          collectiveAvg += parseInt(grade);\n\n          classAvg += parseInt(grade);\n        });\n\n        for(var key in childSnapshot.val()) {\n          if(childSnapshot.val() != \"no_exams\") {\n            createExamBox(childSnapshot.val()[key].examTitle, (classAvg / classCounter).toFixed(1), \"Teachers/\" + userName + \"/Classes/\" + name + \"/Exams/\" + childSnapshot.key, childSnapshot.val()[key].examCode);\n            var val = childSnapshot.val()[key].examTitle;\n\n            if(sessionStorage.getItem(\"CreatedExamCode\") != \"\") {\n              var button = document.getElementById('cached-code');\n              if(button != null) {\n                button.id = \"cached-exam-button\";\n                button.style.display = \"inline-block\";\n\n                button.onclick = function() {\n                  document.getElementById('create-exam').style.display = \"initial\";\n                  document.getElementById('main').style.display = \"none\";\n                  document.body.style.background = \"white\";\n\n                  populateExam(sessionStorage.getItem(\"CreatedExamCode\").toUpperCase(), \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + sessionStorage.getItem(\"CreatedExamCode\").toUpperCase());\n                }\n              }\n            }\n\n            if(childSnapshot.val()[key].examTitle == \"\"){\n              val = childSnapshot.val()[key].examCode;\n            }\n\n            if(sessionStorage.getItem(\"CreatedExamCode\") != null && sessionStorage.getItem(\"CreatedExamCode\").toUpperCase() == childSnapshot.val()[key].examCode) {\n                document.getElementById('cached-exam-button').style.display = \"initial\";\n                document.getElementById('cached-exam-code').innerHTML = \"Edit \" + val;\n            }\n            else if(document.getElementById('cached-exam-button') != null){\n              document.getElementById('cached-exam-button').style.display = \"none\";\n            }\n            break;\n          }\n          else {\n            document.getElementById('no-exams').style.display = \"initial\";\n          }\n        }\n        classAvg = 0;\n        classCounter = 0;\n      });\n\n      collectiveAvg = collectiveAvg / examCounter;\n      collectiveAvg = (collectiveAvg).toFixed(1);\n\n      if(collectiveAvg == \"NaN\"){\n        document.getElementById('avg-grade-number').innerHTML = \"No Data\";\n      }\n      else{\n        document.getElementById('avg-grade-number').innerHTML = collectiveAvg + \"%\";\n        sessionStorage.setItem(\"avg-grade-number\", collectiveAvg + \"%\");\n      }\n    });\n}\n\n// Generate random exam code\nfunction generateCode() {\n  var code = Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 5);\n  var className = \"\";\n\n  var string = document.getElementById('main-header').innerHTML.substring(document.getElementById('main-header')).split(\" \");\n  string.shift(); string.shift();\n\n  for(var i = 0; i < string.length; i++) {\n    if(i != string.length - 1) {\n      className += string[i] + \" \";\n    }\n    else{\n      className += string[i];\n    }\n  }\n\n  if(examCodes.indexOf(code) == -1){\n    firebase.database().ref(\"exam-codes\").push(code.toUpperCase() + \";\" + userName + \";\" + className + \";\" + code.toUpperCase());\n    sessionStorage.setItem(\"CreatedExamCode\", code);\n    return code;\n  }\n  else {\n    generateCode(); // Rerun generateCode() if code exists already\n  }\n}\n\n// remove dropdown if screen size can handle navbar\nfunction removeDropDown(x) {\n if (x.matches) { // If media query matches\n   document.getElementById('dropdown').style.display = \"none\"; // Remove DropDown\n } else {\n   document.getElementById('dropdown').style.display = \"initial\"; //Bring DropDown back\n }\n}\n\n// JS media query for dropdown nav\nvar x = window.matchMedia(\"(min-width: 601px)\") // Specify what to set media-queries at\nremoveDropDown(x) // Call listener function at run time\nx.addListener(removeDropDown) // Attach listener function on state changes\n\n// function to display all data in the table by exam name\nfunction displayExamData(examName) {\n  if(!examDataHasLoaded) {\n    var cumAvg = 0;\n    var classLength = 0;\n    var highest = \"a:-1000\";\n    var lowest = \"a:1000\";\n    var quickest = \"a:1000\";\n    var slowest = \"a:-1000\";\n    var table;\n    var populated = false;\n    var standardDeviation = [];\n\n    document.getElementById('welcome-div').style.display = \"none\";\n    document.getElementById('wrapper').style.display = \"none\";\n    document.getElementById('classSpecific').style.display = \"none\";\n    document.getElementById('exam-wrapper').style.display = \"none\";\n    document.getElementById('examSpecific').style.display = \"initial\";\n    document.getElementById('sort-menu').style.display = \"initial\";\n    document.getElementById('exam-name').innerHTML = examName;\n    document.body.style.backgroundImage = \"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)\";\n\n    var i = document.createElement('i');\n    i.className = \"glyphicon glyphicon-circle-arrow-up\";\n    i.id = \"topPage\";\n\n    i.onclick = function() {\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n    };\n\n    document.getElementById('main').appendChild(document.createElement('br'));\n    document.getElementById('main').appendChild(i);\n\n    var finalSelectedCode = \"\";\n    var examCodeWithLetter = \"\";\n\n    for (var key in exams) {\n      // skip loop if the property is from prototype\n      if (!arr.hasOwnProperty(key)) continue;\n      var obj = exams[key];\n\n      for (var prop in obj) {\n        for(var initData in obj[prop]){\n          if(obj[prop][initData].examCode != undefined && Object.keys(obj[prop]).length > 1) {\n            var code = obj[prop][initData].examCode;\n\n            sessionStorage.setItem('populatedExamCode', code);\n\n            if(examName == obj[prop][initData].examTitle) {\n              finalSelectedCode = code;\n              examCodeWithLetter = prop;\n\n              document.getElementById('edit-exam').innerHTML = examName;\n              document.getElementById('edit-current-exam').style.display = \"initial\";\n\n              document.getElementById('edit-current-exam').onclick = function() {\n                document.getElementById('create-exam').style.display = \"initial\";\n                document.getElementById('main').style.display = \"none\";\n                document.body.style.background = \"white\";\n                populateExam(finalSelectedCode, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + examCodeWithLetter)\n              };\n\n              document.getElementById('view-item-analysis').style.display = \"initial\";\n              document.getElementById('view-item-analysis').onclick = function() {\n                document.getElementById('main').style.display = \"none\";\n                document.getElementById('item-analysis').style.display = \"inline-block\";\n                document.body.style.backgroundImage = \"linear-gradient(to bottom, #6a85b6 0%, #bac8e0 100%)\";\n                document.getElementById('item-analysis-name').innerHTML = examName;\n                document.getElementById('current-exam').innerHTML = examName;\n                populateItemAnalysis(finalSelectedCode, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + examCodeWithLetter)\n              }\n            }\n\n            // skip loop if the property is from prototype\n            if(!obj.hasOwnProperty(prop)) continue;\n\n            var dbName = obj[prop][initData].examTitle;\n            if(dbName == \"\") {\n              dbName = obj[prop][initData].examCode.substring(1);\n            }\n\n            if(dbName == examName) {\n              var random = document.createElement('div');\n              var table = document.createElement('table');\n\n              table.id = \"random\";\n              table.className = \"table table-striped\";\n              table.style.width = \"100vw\";\n\n              var init = document.createElement('tr');\n              init.style.color = \"darkgray\";\n\n              var initName = document.createElement('td');\n              initName.innerHTML = \"Name\";\n              initName.style.paddingLeft = \"66px\";\n              initName.id = \"name\";\n\n              var initScore = document.createElement('td');\n              initScore.innerHTML = \"Score (%)\"\n              initScore.id = \"score\";\n\n              var initPercentile = document.createElement('td');\n              initPercentile.innerHTML = \"Percentile\";\n              initPercentile.id = \"percentile\";\n\n              var initTime = document.createElement('td');\n              initTime.innerHTML = \"Time\";\n              initTime.id = \"time\";\n\n              init.appendChild(initName);\n              init.appendChild(initScore);\n              init.appendChild(initPercentile);\n              init.appendChild(initTime);\n\n              table.appendChild(init);\n            }\n          }\n          else if(Object.keys(obj[prop]).length > 1 && !populated){\n            populated = true;\n\n            for(var response in obj[prop].responses){\n              var data = obj[prop].responses[response][Object.keys(obj[prop].responses[response])[0]];\n\n              standardDeviation.push(parseInt(data.score));\n              examData.push(data.name + \":\" + data.score + \":\" + data.time);\n              cumAvg += parseInt(data.score);\n              classLength = Object.keys(obj[prop].responses).length;\n\n              if(parseInt(data.score) > parseInt(highest.split(\":\")[1])) {\n                highest = data.name + \":\" + parseInt(data.score);\n              }\n\n              if(parseInt(data.score) < parseInt(lowest.split(\":\")[1])) {\n                lowest = data.name + \":\" + parseInt(data.score);\n              }\n\n              var tr = document.createElement('tr');\n              tr.className = response;\n              var examCode = prop;\n              tr.onclick = function() { loadStudentExamData(this.className, examCode); }\n\n              table.appendChild(document.createElement('br'));\n\n        \t\t\tvar name = document.createElement('td');\n              name.style.paddingLeft = \"66px\";\n              name.id = \"name\";\n        \t\t\tvar score = document.createElement('td');\n        \t\t\tvar percentile = document.createElement('td');\n              var time = document.createElement('td');\n\n        \t\t\tname.innerHTML = data.name;\n              name.id = \"name\";\n\n        \t\t\tscore.innerHTML = data.score + \"%\";\n              score.id = \"score\";\n\n              time.innerHTML = data.time + \" Mins\";\n              time.id = \"time\";\n\n        \t\t\tpercentile.innerHTML = getPercentileOriginal(parseInt(data.score), obj[prop].responses, data.name) + \"th\";\n              percentile.id = \"percentile\";\n\n        \t\t\ttr.appendChild(name);\n        \t\t\ttr.appendChild(score);\n        \t\t\ttr.appendChild(percentile);\n              tr.appendChild(time);\n        \t\t\ttable.appendChild(tr);\n\n              random.appendChild(table);\n              document.getElementById('main').appendChild(random);\n            }\n          }\n        }\n      }\n    }\n\n      var overallData = document.getElementById('overall-data');\n      var ul = document.createElement('ul');\n      ul.style.float = \"right\";\n      ul.style.marginRight = \"15vw\";\n\n      var avg = document.createElement('li');\n      avg.innerHTML = \"Class Average: \" + (cumAvg / classLength).toFixed(1) + '%';\n      avg.style.fontSize = \"20px\";\n\n      var highestScorer = document.createElement('li');\n      highestScorer.innerHTML = \"Highest Scorer: \" + highest.split(\":\")[0] + \" (\" + highest.split(\":\")[1] + \"%)\";\n      highestScorer.style.fontSize = \"20px\";\n\n      var lowestScorer = document.createElement('li');\n      lowestScorer.innerHTML = \"Lowest Scorer: \" + lowest.split(\":\")[0] + \" (\" + lowest.split(\":\")[1] + \"%)\";\n      lowestScorer.style.fontSize = \"20px\";\n\n      var standardDev = document.createElement('li');\n\n      // calculate SD\n      mean = standardDeviation.reduce((a,b) => a+b)/standardDeviation.length;\n      sd = Math.sqrt(standardDeviation.map(x => Math.pow(x-mean,2)).reduce((a,b) => a+b)/standardDeviation.length);\n\n      standardDev.innerHTML = \"Standard Deviation (σ): \" + sd.toFixed(3);\n      standardDev.style.fontSize = \"20px\";\n\n      ul.appendChild(avg);\n      ul.appendChild(highestScorer);\n      overallData.appendChild(document.createElement('br'));\n      ul.appendChild(lowestScorer);\n      ul.appendChild(standardDev);\n\n      overallData.appendChild(ul);\n    }\n    else {\n      var possibleTables = document.getElementsByClassName('table');\n      possibleTables[0].style.display = \"table\";\n\n      document.getElementById('topPage').style.display = \"initial\";\n      document.getElementById('examSpecific').style.display = \"inherit\";\n      document.getElementById('classSpecific').style.display = \"none\";\n      document.getElementById('exam-wrapper').style.display = \"none\";\n\n      document.body.style.backgroundImage = \"linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%);\";\n    }\n    examDataHasLoaded = true;\n}\n\nfunction populateItemAnalysis(code, ref) {\n  var dataDiv = document.getElementById('item-analysis-data');\n  var answers = [];\n\n  firebase.database().ref(ref).once('value', function(snapshot) {\n    for(var response in snapshot.val()['responses']) {\n      var responseData = (snapshot.val()['responses'][response][[Object.keys(snapshot.val()['responses'][response])[0]]]);\n\n      answers.push(responseData.answers);\n    }\n\n    snapshot.forEach(function(childSnapshot) {\n      if(childSnapshot.val().examCode != undefined) {\n        var data = childSnapshot.val();\n        var questions = data.questions;\n\n        for(var q in questions) {\n          var question = questions[q];\n\n          createItemAnalysis(dataDiv, question, answers, q)\n        }\n      }\n    });\n  });\n\n}\n\n\n// function is called multiple times per exam\nfunction createItemAnalysis(div, question, answers, num) {\n  var item = document.createElement('div');\n  var percentages = [];\n\n  var span = document.createElement('span');\n  span.style.color = \"#2e2f7d\";\n  span.style.paddingRight = \"20px\";\n  span.style.paddingLeft = \"20px\";\n  span.style.float = \"left\";\n  span.style.paddingRight = \"20px\";\n  span.style.borderRight = \"1px solid #2e2f7d\"\n  span.innerHTML = parseInt(num) + 1;\n  item.appendChild(span);\n\n  var totalAnswers = answers.length;\n  var mcCounters = new Array(question.choices.length).fill(0);\n  var tfCounters = new Array(2).fill(0);\n\n  var pgBar = document.createElement('div');\n  pgBar.className = \"progress\";\n  pgBar.style.width = \"85%\";\n\n  if(question.type == \"mc\") {\n    for(var i = 0; i < answers.length; i++) {\n      mcCounters[(parseInt(answers[i][0].split(\":\")[1]))]++;\n    }\n\n    for(var j = 0; j < mcCounters.length; j++) {\n      if(mcCounters[j] != 0) {\n        if(j == question.checked) {\n          var pg_green, info_green;\n          var correctPercentage = ((mcCounters[j] / totalAnswers) * 100).toFixed(2) + \"%\";\n\n          pg_green = document.createElement('div');\n          pg_green.className = \"progress-bar progress-bar-success progress-bar-striped\";\n          pg_green.innerHTML = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\")[j] + \" (\" + correctPercentage + \")\";\n\n          setTimeout(setPercentageItem, 250, pg_green, correctPercentage);\n          pgBar.appendChild(pg_green);\n        }\n        else {\n          var pg_red, info_red;\n          var percentage = ((mcCounters[j] / totalAnswers) * 100).toFixed(2) + \"%\";\n          percentages.push(percentage);\n\n          pg_red = document.createElement('div');\n          pg_red.style.borderLeft = \"2px solid white\";\n          pg_red.className = \"progress-bar progress-bar-danger progress-bar-striped\";\n          pg_red.innerHTML = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\".split(\"\")[j] + \" (\" + percentage + \")\";\n\n          setTimeout(setPercentageItem, 250, pg_red, percentage);\n          pgBar.appendChild(pg_red);\n        }\n        item.appendChild(pgBar)\n      }\n    }\n  }\n\n  else if(question.type == \"tf\") {\n    for(var i = 0; i < answers.length; i++) {\n      tfCounters[(parseInt(answers[i][0].split(\":\")[1]))]++;\n    }\n\n    if(question.choices[0] == 'true') {\n      var totalAnswers = parseInt(tfCounters[0]) + parseInt(tfCounters[1]);\n      var pg_green, info_green; var pg_red, info_red;\n      var percentage = (tfCounters[0] / totalAnswers) * 100 + \"%\";\n\n      pg_green = document.createElement('div');\n      pg_green.className = \"progress-bar progress-bar-success progress-bar-striped\";\n      pg_green.innerHTML = \"TF\".split(\"\")[0] + \" (\" + percentage + \")\";\n\n      setTimeout(setPercentageItem, 250, pg_green, percentage);\n      pgBar.appendChild(pg_green);\n\n      var otherPercentage = (tfCounters[1] / totalAnswers) * 100 + \"%\";\n\n      pg_red = document.createElement('div');\n      pg_red.style.borderLeft = \"2px solid white\";\n      pg_red.className = \"progress-bar progress-bar-danger progress-bar-striped\";\n      pg_red.innerHTML = \"TF\".split(\"\")[1] + \" (\" + otherPercentage + \")\";\n\n      setTimeout(setPercentageItem, 250, pg_red, otherPercentage);\n      pgBar.appendChild(pg_red);\n    }\n\n    else if(question.choices[0] == \"false\"){\n      var totalAnswers = parseInt(tfCounters[0]) + parseInt(tfCounters[1]);\n      var pg_green, info_green; var pg_red, info_red;\n      var percentage = (tfCounters[1] / totalAnswers) * 100 + \"%\";\n\n      pg_green = document.createElement('div');\n      pg_green.className = \"progress-bar progress-bar-success progress-bar-striped\";\n      pg_green.innerHTML = \"TF\".split(\"\")[1] + \" (\" + percentage + \")\";\n\n      setTimeout(setPercentageItem, 250, pg_green, percentage);\n      pgBar.appendChild(pg_green);\n\n      var otherPercentage = (tfCounters[0] / totalAnswers) * 100 + \"%\";\n\n      pg_red = document.createElement('div');\n      pg_red.style.borderLeft = \"2px solid white\";\n      pg_red.className = \"progress-bar progress-bar-danger progress-bar-striped\";\n      pg_red.innerHTML = \"TF\".split(\"\")[0] + \" (\" + otherPercentage + \")\";\n\n      setTimeout(setPercentageItem, 250, pg_red, otherPercentage);\n      pgBar.appendChild(pg_red);\n    }\n    item.appendChild(pgBar)\n  }\n\n  else if(question.type == \"fr\") {\n    var span = document.createElement('span');\n    span.style.color = \"black\";\n    span.style.borderLeft = \"1px solid black\";\n    span.style.borderRight = \"1px solid black\";\n    span.style.paddingLeft = \"10px\";\n    span.style.paddingRight = \"10px\";\n\n    span.innerHTML = \"This is a Free Response question, so there is no item-analysis data.\";\n    item.appendChild(span);\n  }\n\n  div.appendChild(document.createElement('br'));\n  div.appendChild(item);\n  div.appendChild(document.createElement('br'));\n  div.appendChild(document.createElement('hr'))\n}\n\nfunction setPercentageItem(div, percentage) {\n  div.style.width = percentage;\n}\n\n\n// function to increase nav from item-analysis\nfunction goBackToCurrentExams() {\n  document.getElementById('main').style.display = \"initial\";\n  document.getElementById('item-analysis').style.display = \"none\";\n  document.body.style.backgroundImage = \"linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%)\";\n\n  var examDataHasLoaded = false;\n}\n\n\nfunction getPercentileOriginal(score, exam, name) {\n  var numBelow = 0;\n  var numEqual = 0;\n\n  for(var student in exam) {\n    if(score > parseInt(exam[student][Object.keys(exam[student])[0]].score)) {\n      numBelow++;\n    }\n    else if(score == parseInt(exam[student][Object.keys(exam[student])[0]].score) && name != exam[student][Object.keys(exam[student])[0]].name) {\n      numEqual++;\n    }\n  }\n  return 100 * (numBelow / (Object.keys(exam).length)).toFixed(1);\n}\n\n//function to remove all class='active'\nfunction removeAllActive() {\n  var navBars = document.getElementsByTagName(\"LI\");\n\n  for(var i = 0; i < navBars.length; i++) {\n    navBars[i].className = \"\";\n  }\n}\n\n//function to switch displays based on what user clicks\nfunction display(title) {\n  if(title == '<a href=\"#\">Ping-Pong</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"initial\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n\n    document.getElementById('item-analysis').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Dashboard</a>') {\n    document.getElementById('main').style.display = \"initial\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n\n    document.getElementById('item-analysis').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Leaderboard</a>') {\n    populateLeaderboard(); // takes care of all other display calls\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n\n    document.getElementById('item-analysis').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\";\n  }\n  else if(title == '<a href=\"#\">Feedback</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('feedback').style.display = \"initial\";\n    document.getElementById('create-exam').style.display = \"none\"\n    document.getElementById('report-bug').style.display = \"none\";\n\n    document.getElementById('item-analysis').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\";\n  }\n\n  else if(title == '<a href=\"#\">Report A Bug!</a>') {\n    document.getElementById('main').style.display = \"none\";\n    document.getElementById('pong').style.display = \"none\";\n    document.getElementById('leaderboard').style.display = \"none\";\n    document.getElementById('report-bug').style.display = \"initial\";\n    document.getElementById('feedback').style.display = \"none\";\n    document.getElementById('create-exam').style.display = \"none\"\n  }\n}\n\n// function to display / undisplay items to simulate going home\nfunction goHomeFromExams() {\n  document.getElementById('classSpecific').style.display = \"none\";\n  document.getElementById('welcome-div').style.display = \"block\";\n  document.getElementById('wrapper').style.display = \"grid\";\n  document.getElementById('doesNotExist').style.display = \"none\";\n  document.getElementById('no-exams').style.display = \"none\";\n  document.getElementById('exam-wrapper').style.display = \"none\";\n\n  document.body.style.backgroundImage = \"none\"\n\n  var examDataHasLoaded = false;\n}\n\nfunction goExamsFromExam() {\n  var possibleTables = document.getElementsByClassName('table');\n\n  for(var i = 0; i < possibleTables.length; i++) {\n    possibleTables[i].style.display = \"none\";\n  }\n\n  document.getElementById('topPage').style.display = \"none\";\n  document.getElementById('examSpecific').style.display = \"none\";\n  document.getElementById('classSpecific').style.display = \"initial\";\n  document.getElementById('exam-wrapper').style.display = \"grid\";\n\n  document.body.style.backgroundImage = \"linear-gradient(to top, rgb(223, 233, 243) 0%, white 100%)\";\n  $(document.getElementById('overall-data')).empty()\n  var examDataHasLoaded = false;\n}\n\nfunction goHomeFromExamData() {\n  goExamsFromExam(); goHomeFromExams();\n  var examDataHasLoaded = false;\n}\n\n// function to display student exam data\nfunction loadStudentExamData(name, code) {\n  document.getElementById('examSpecific').style.display = \"none\";\n  document.getElementById('student-exam-data').style.display = \"initial\";\n  document.body.style.backgroundImage = \"none\";\n  var answer = \"\";\n  var finalId;\n\n  //linear-gradient(135deg, rgb(245, 247, 250) 0%, rgb(195, 207, 226) 100%);\n\n  var table = document.getElementsByClassName('table');\n  for(var i = 0; i < table.length; i++) {\n    table[i].style.display = \"none\";\n  }\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Students\").once('value', function(snapshot) {\n    for(var info in snapshot.val()) {\n      var data = snapshot.val()[info];\n      var id = data.split(\";\")[0];\n      var fullName = data.split(\";\")[1];\n\n      if(name == fullName) {\n        finalId = id;\n      }\n    }\n  });\n\n  firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + code).once('value', function(snapshot) {\n    var data = (snapshot.val().responses[name][Object.keys(snapshot.val().responses[name])[0]]);\n\n    document.getElementById('resetStatus').onclick = function() {\n      for(var takenKey in snapshot.val().taken) {\n        var id = (snapshot.val().taken[takenKey]);\n\n        if(id == finalId) {\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + code + \"/taken/\").child(takenKey).remove()\n        }\n      }\n\n      swal(\"Success!\", name + \"'s taken status has been reset. \" + name + \" should be able to retake exam now.\", 'success')\n    }\n\n    var studentPoints = data.totalScore / 100 * snapshot.val()[Object.keys(snapshot.val())[0]].examTotalPoints;\n    document.getElementById('score-num').innerHTML = (studentPoints).toFixed(0) + \" / \" + snapshot.val()[Object.keys(snapshot.val())[0]].examTotalPoints;\n    document.getElementById('score').innerHTML = data.totalScore + \"%\";\n\n    var corrAnswer = \"\";\n    sessionStorage.setItem(\"totalPointsExcludingFr\", 0);\n\n    for(var i = 0; i < Object.keys(data.answers).length; i++) {\n\n      if(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].type == \"tf\") {\n        corrAnswer = snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].choices[0];\n      }\n      else if(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].type == \"mc\"){\n        corrAnswer = snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].checked;\n      }\n      else if(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].type == \"fr\") {\n        corrAnswer = \"\";\n      }\n      createGradedQuestion(\n        // PARAM: studAnswer\n        data.answers[i].split(\";\")[1],\n        // PARAM: corrAnswer\n        corrAnswer,\n        // PARAM: numAnswerChoices\n        Object.keys(snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].choices).length,\n        // PARAM: numPoints\n        snapshot.val()[Object.keys(snapshot.val())[0]].questions[i].points,\n        // PARAM: questions\n        snapshot.val()[Object.keys(snapshot.val())[0]].questions[i],\n        // PARAM: studName\n        name,\n        // PARAM: examCurrentCode\n        code,\n        // PARAM: examTotalPoints\n        snapshot.val()[Object.keys(snapshot.val())[0]].examTotalPoints\n      );\n    }\n  });\n}\n\n//create Question box for every graded question\nfunction createGradedQuestion(studAnswer, corrAnswer, numAnswerChoices, numAnswerPoints, questions, studName, examCurrentCode, examTotalPoints) {\n  var awardedPoints = 0;\n  if(corrAnswer == \"true\"){\n    corrAnswer = \"0\";\n    numAnswerChoices = 2;\n  }\n  else if(corrAnswer == 'false') {\n    corrAnswer = \"1\";\n    numAnswerChoices = 2;\n  }\n\n  var correct = false;\n  if(studAnswer == corrAnswer) {\n    correct = true;\n  }\n\n  if(questions.type != \"fr\" && correct) {\n    sessionStorage.setItem(\"totalPointsExcludingFr\", parseInt(sessionStorage.getItem(\"totalPointsExcludingFr\")) + parseInt(questions.points))\n  }\n\n  var exam = document.getElementById('question-data');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n\n  var question_title = document.createElement('input');\n  question_title.readOnly = true;\n  question_title.value = questions.title;\n  question_title.id = \"question-title\";\n\n  question.appendChild(num);\n  question.appendChild(question_title);\n\n  if(correct) {\n    awardedPoints = numAnswerPoints;\n  }\n\n  var points = document.createElement('div');\n  points.id = \"points\";\n\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('span');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.innerHTML = numAnswerPoints;\n\n  var finishingSpan = document.createElement('span');\n  finishingSpan.className = \"pa\";\n  finishingSpan.innerHTML = \" points)  -  points awarded: \" + awardedPoints;\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n\n  question.appendChild(points);\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n    label.style.width = \"95%\"\n    if((correct && i == studAnswer) || i == corrAnswer) {\n      label.style.background = \"#e4f7e4\";\n      label.style.borderTop = \"1px solid #00cc00\"\n      label.style.borderBottom = \"1px solid #00cc00\"\n\n      var correctAnswer = document.createElement('span');\n      correctAnswer.innerHTML = \"Correct Answer\"\n      correctAnswer.style.float = \"right\";\n      correctAnswer.style.fontWeight = \"normal\";\n      correctAnswer.style.marginTop  = \"10px\";\n      correctAnswer.style.color = \"#00cc00\";\n      correctAnswer.style.marginRight  = \"15px\";\n\n      label.appendChild(correctAnswer);\n    }\n    else if(!correct && i == studAnswer) {\n      label.style.background = \"#f2ebeb\";\n      label.style.borderTop = \"1px solid #cc5252\"\n      label.style.borderBottom = \"1px solid #cc5252\"\n      label.style.color = \"#cc5252\";\n\n      var incorrectAnswer = document.createElement('span');\n      incorrectAnswer.innerHTML = \"Student Answer\"\n      incorrectAnswer.style.float = \"right\";\n      incorrectAnswer.style.fontWeight = \"normal\";\n      incorrectAnswer.style.marginTop  = \"10px\";\n      incorrectAnswer.style.color = \"#cc5252\";\n      incorrectAnswer.style.marginRight  = \"15px\";\n      label.appendChild(incorrectAnswer);\n    }\n\n    var input = document.createElement('input');\n    input.disabled = true;\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var span = document.createElement('span');\n    if(questions.type != \"tf\" && questions.type != \"fr\") {\n      span.innerHTML = questions.choices[i];\n    }\n    else if(questions.type == \"tf\"){\n      if(i == 0) {\n        span.innerHTML = \"True\";\n      }\n      else {\n        span.innerHTML = \"False\";\n      }\n    }\n    span.style.fontWeight = \"normal\"\n\n    var answer_choice = document.createElement('span');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n    label.appendChild(span);\n    answer_choices.appendChild(label);\n  }\n\n  if(questions.type == \"fr\") {\n    var ta = document.createElement('textarea');\n    $(ta).attr(\"readonly\", true);\n    ta.className = \"fr\";\n    ta.value = studAnswer;\n\n    var pointsAwardedSpan = document.createElement('span');\n    pointsAwardedSpan.innerHTML = \"Points Awarded - \";\n\n    var numAcceptedPoints = document.createElement('input');\n    numAcceptedPoints.maxLength = questions.points.length;\n\n    firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName).once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        var questionNum;\n        var answers = childSnapshot.val().answers;\n\n        if(answers[2].split(\";\")[2] != undefined) {\n          setTimeout(function(){ document.getElementsByClassName('pa')[parseInt(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\"))) - 1].innerHTML = \" points)  -  points awarded: \" + answers[2].split(\";\")[2]; }, 100);\n          numAcceptedPoints.value = answers[2].split(\";\")[2];\n        }\n      });\n    });\n\n    numAcceptedPoints.onkeyup = function () {\n      this.value = this.value.replace(/[^\\d]/,'');\n      this.value = this.value.replace('-', '');\n\n      if(this.value != \"\") {\n        document.getElementsByClassName('pa')[parseInt(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\"))) - 1].innerHTML = \" points)  -  points awarded: \" + this.value;\n      }\n      else {\n        document.getElementsByClassName('pa')[parseInt(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\"))) - 1].innerHTML = \" points)  -  points awarded: 0\";\n      }\n\n      var cleanVersion = this.value;\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName).once('value', function(snapshot) {\n        snapshot.forEach(function(childSnapshot) {\n          var questionNum;\n          var answers = childSnapshot.val().answers;\n\n          for(var k = 0; k < answers.length; k++) {\n            if(isNaN(answers[k].split(\";\")[1])) {\n              answers[k] = answers[k].split(\";\")[0] + \";\" + answers[k].split(\";\")[1] + \";\" + cleanVersion;\n            }\n          }\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName + \"/\" + childSnapshot.key).update({ 'answers': answers });\n\n          var newScore = (((parseInt(sessionStorage.getItem(\"totalPointsExcludingFr\")) + parseInt(cleanVersion)) / examTotalPoints) * 100).toFixed(1);\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem(\"className\") + \"/Exams/\" + examCurrentCode + \"/responses/\" + studName + \"/\" + childSnapshot.key).update({ 'totalScore': newScore });\n\n          document.getElementById(\"score\").innerHTML = newScore + \"%\";\n          document.getElementById(\"score-num\").innerHTML = (parseInt(sessionStorage.getItem(\"totalPointsExcludingFr\")) + parseInt(cleanVersion)) + \" / \" + examTotalPoints;\n        });\n      });\n    }\n\n    numAcceptedPoints.placeholder = \"0 - \" + questions.points;\n    numAcceptedPoints.style.padding = \"5px\";\n    numAcceptedPoints.style.fontSize = \"15px\";\n    numAcceptedPoints.style.border = \"1px solid #808080\";\n    numAcceptedPoints.style.borderRadius = \"3px\";\n    numAcceptedPoints.style.marginTop = \"20px\";\n\n    question.appendChild(ta);\n    question.appendChild(document.createElement('br'));\n    question.appendChild(pointsAwardedSpan);\n    question.appendChild(numAcceptedPoints);\n  }\n  else {\n    question.appendChild(answer_choices);\n  }\n\n  exam.appendChild(question);\n  exam.appendChild(document.createElement('br'));\n  exam.appendChild(hr);\n\n}\n\n//function to calc precentile range\nfunction getPercentile(score, exam) {\n  var numBelow = 0;\n  var numEqual = 0;\n\n  for(var student in exam) {\n    if(parseInt(score.split(\":\")[1]) > parseInt(exam[student].split(\":\")[1])) {\n      numBelow++;\n    }\n    else if(parseInt(score.split(\":\")[1]) == parseInt(exam[student].split(\":\")[1]) && score.split(\":\")[0] != exam[student].split(\":\")[0]) {\n      numEqual++;\n    }\n  }\n  return 100 * (numBelow / (Object.keys(exam).length)).toFixed(1);\n}\n\n// sort function\nfunction sort(func) {\n  var tables = document.getElementsByClassName('table table-striped');\n\n  for(var t = 0; t < tables.length; t++) {\n    tables[t].style.display = \"none\";\n  }\n\n  var testExamData = examData.slice();\n  testExamData.sort();\n\n  if(func == \" Original\") {\n    var table = document.createElement('table');\n    table.id = \"random\";\n    table.className = \"table table-striped\";\n    table.style.width = \"100vw\";\n\n    var init = document.createElement('tr');\n    init.style.color = \"darkgray\";\n\n    var initName = document.createElement('td');\n    initName.innerHTML = \"Name\";\n    initName.style.paddingLeft = \"66px\";\n    initName.id = \"name\";\n\n    var initScore = document.createElement('td');\n    initScore.innerHTML = \"Score (%)\"\n    initScore.id = \"score\";\n\n    var initPercentile = document.createElement('td');\n    initPercentile.innerHTML = \"Percentile\";\n    initPercentile.id = \"percentile\";\n\n    var initTime = document.createElement('td');\n    initTime.innerHTML = \"Time\";\n    initTime.id = \"time\";\n\n    init.appendChild(initName);\n    init.appendChild(initScore);\n    init.appendChild(initPercentile);\n    init.appendChild(initTime);\n\n    table.appendChild(init);\n\n    for(var i = 0; i < examData.length; i++){\n      var tr = document.createElement('tr');\n\n      var iTracker = i;\n      tr.onclick = function() { loadStudentExamData(examData[iTracker].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n      table.appendChild(document.createElement('br'));\n\n      var name = document.createElement('td');\n      name.style.paddingLeft = \"66px\";\n      var score = document.createElement('td');\n      var percentile = document.createElement('td');\n\n      name.innerHTML = examData[i].split(\":\")[0];\n      score.innerHTML = examData[i].split(\":\")[1] + \"%\";\n      percentile.innerHTML = getPercentile(examData[i], examData) + \"th\";\n\n      var time = document.createElement('td');\n      time.innerHTML = examData[i].split(\":\")[2] + \" Mins\";\n      time.id = \"time\";\n\n      tr.appendChild(name);\n      tr.appendChild(score);\n      tr.appendChild(percentile);\n      tr.appendChild(time);\n      table.appendChild(tr);\n    }\n\n    document.getElementById('main').appendChild(table);\n  }\n  else {\n    if(func == \" Sort By Alphabet (A-Z)\"){\n      testExamData.sort();\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = 0; i < testExamData.length; i++){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(testExamData[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = testExamData[i].split(\":\")[0];\n        score.innerHTML = testExamData[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(testExamData[i], testExamData) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n\n    }\n    else if(func == \" Sort By Alphabet (Z-A)\") {\n      testExamData.sort();\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = testExamData.length - 1; i >= 0; i--){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(testExamData[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = testExamData[i].split(\":\")[0];\n        score.innerHTML = testExamData[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(testExamData[i], testExamData) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n    }\n\n    else if(func == \" Sort By Score (high-low)\") {\n      var scores = mergeSort(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = scores.length - 1; i >= 0; i--){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(scores[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = scores[i].split(\":\")[0];\n        score.innerHTML = scores[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(scores[i], scores) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n\n    }\n    else if(func == \" Sort By Score (low-high)\") {\n      var scores = mergeSort(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = 0; i < scores.length; i++){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(scores[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = scores[i].split(\":\")[0];\n        score.innerHTML = scores[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(scores[i], scores) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = testExamData[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n\n    }\n    else if(func == \" Sort By Time (high-low)\") {\n      var times = mergeSortTime(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = times.length - 1; i >= 0; i--){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(times[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = times[i].split(\":\")[0];\n        score.innerHTML = times[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(times[i], times) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = times[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n    }\n    else if(func == \" Sort By Time (low-high)\") {\n      var times = mergeSortTime(testExamData);\n\n      var table = document.createElement('table');\n      table.id = \"random\";\n      table.className = \"table table-striped\";\n      table.style.width = \"100vw\";\n\n      var init = document.createElement('tr');\n      init.style.color = \"darkgray\";\n\n      var initName = document.createElement('td');\n      initName.innerHTML = \"Name\";\n      initName.style.paddingLeft = \"66px\";\n      initName.id = \"name\";\n\n      var initScore = document.createElement('td');\n      initScore.innerHTML = \"Score (%)\"\n      initScore.id = \"score\";\n\n      var initPercentile = document.createElement('td');\n      initPercentile.innerHTML = \"Percentile\";\n      initPercentile.id = \"percentile\";\n\n      var initTime = document.createElement('td');\n      initTime.innerHTML = \"Time\";\n      initTime.id = \"time\";\n\n      init.appendChild(initName);\n      init.appendChild(initScore);\n      init.appendChild(initPercentile);\n      init.appendChild(initTime);\n\n      table.appendChild(init);\n\n      for(var i = 0; i < times.length; i++){\n        var tr = document.createElement('tr');\n        tr.onclick = function() { loadStudentExamData(times[i].split(\":\")[0], sessionStorage.getItem(\"populatedExamCode\")); }\n\n        table.appendChild(document.createElement('br'));\n\n        var name = document.createElement('td');\n        name.style.paddingLeft = \"66px\";\n        var score = document.createElement('td');\n        var percentile = document.createElement('td');\n\n        name.innerHTML = times[i].split(\":\")[0];\n        score.innerHTML = times[i].split(\":\")[1] + \"%\";\n        percentile.innerHTML = getPercentile(times[i], times) + \"th\";\n\n        var time = document.createElement('td');\n        time.innerHTML = times[i].split(\":\")[2] + \" Mins\";\n        time.id = \"time\";\n\n        tr.appendChild(name);\n        tr.appendChild(score);\n        tr.appendChild(percentile);\n        tr.appendChild(time);\n        table.appendChild(tr);\n      }\n\n      document.getElementById('main').appendChild(table);\n    }\n  }\n}\n\n//implement merge sort\nfunction mergeSort (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return merge(\n    mergeSort(left),\n    mergeSort(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction merge(left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\":\")[1] < right[indexRight].split(\":\")[1]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n//implement merge sort\nfunction mergeSortTime (arr) {\n  if (arr.length === 1) {\n    // return once we hit an array with a single item\n    return arr\n  }\n\n  const middle = Math.floor(arr.length / 2) // get the middle item of the array rounded down\n  const left = arr.slice(0, middle) // items on the left side\n  const right = arr.slice(middle) // items on the right side\n\n  return mergeTime(\n    mergeSortTime(left),\n    mergeSortTime(right)\n  )\n}\n\n// compare the arrays item by item and return the concatenated result\nfunction mergeTime(left, right) {\n  let result = []\n  let indexLeft = 0\n  let indexRight = 0\n\n  while (indexLeft < left.length && indexRight < right.length) {\n    if (left[indexLeft].split(\":\")[2] < right[indexRight].split(\":\")[2]) {\n      result.push(left[indexLeft])\n      indexLeft++\n    } else {\n      result.push(right[indexRight])\n      indexRight++\n    }\n  }\n\n  return result.concat(left.slice(indexLeft)).concat(right.slice(indexRight))\n}\n\n// search and parse through exams based on value\nfunction searchExams() {\n  var input, filter, ul, li, a, i, txtValue;\n\n  input = document.getElementById(\"exam-search\");\n  filter = input.value.toUpperCase();\n\n  ul = document.getElementById(\"exam-wrapper\");\n  li = ul.getElementsByClassName(\"examBox\");\n\n  for (i = 0; i < li.length; i++) {\n    a = li[i].getElementsByTagName(\"span\")[0];\n    txtValue = a.textContent || a.innerText;\n    if (txtValue.toUpperCase().indexOf(filter) > -1) {\n        li[i].style.display = \"\";\n    } else {\n        li[i].style.display = \"none\";\n    }\n  }\n}\n\n// create div based on name and avg\nfunction createExamBox(name, classAvg, ref, code) {\n  var gradients = [\n    \"linear-gradient( 135deg, #FEB692 10%, #EA5455 100%)\",\n    \"linear-gradient( 135deg, #72EDF2 10%, #5151E5 100%)\",\n    \"linear-gradient( 135deg, #ABDCFF 10%, #0396FF 100%)\"\n  ];\n\n  var wrapper = document.getElementById('exam-wrapper');\n  var optionVert = false;\n\n  var classBox = document.createElement('div');\n  classBox.className = \"examBox\";\n  classBox.style.background = \"white\";\n\n  classBox.onclick = function() {\n    displayExamData(name);\n    document.getElementById(\"this-exam\").innerHTML = name;\n  };\n\n  firebase.database().ref(ref).on('value', function(snapshot) {\n    for(var obj in snapshot.val()) {\n      if(snapshot.val()[obj].examCode == code && snapshot.val().responses == undefined) {\n        classBox.onclick = function() {\n          document.getElementById('create-exam').style.display = \"initial\";\n          document.getElementById('main').style.display = \"none\";\n          document.body.style.background = \"white\";\n\n          populateExam(code, ref);\n        };\n      }\n    }\n  });\n\n  var difBackground = document.createElement('div')\n  difBackground.style.background = gradients[Math.floor(Math.random()*(3) + 0)];\n  difBackground.style.borderRadius= \"10px 10px 0 0\";\n  difBackground.className = 'wave';\n\n  difBackground.onclick = function() {\n\n  }\n\n  var span = document.createElement('span');\n\n  if(name == \"\") {\n    name = code;\n  }\n\n  span.innerHTML = name;\n  span.style.marginLeft = \"30px\";\n  span.style.color = \"white\";\n  span.className = 'examName';\n\n  var option_vertical = document.createElement('span');\n  option_vertical.id = \"option_vertical\"\n  option_vertical.className = \"glyphicon glyphicon-option-vertical\";\n\n  option_vertical.onclick = function() {\n    classBox.onclick = function() {}\n\n    var modal = document.createElement('div');\n    modal.id = \"modal\";\n\n    var ul = document.createElement('ul');\n\n    var edit = document.createElement('li');\n    edit.className = \"options\";\n    edit.innerHTML = \"Edit Exam\";\n\n    edit.onclick = function() {\n      document.getElementById('create-exam').style.display = \"initial\";\n      document.getElementById('main').style.display = \"none\";\n      document.body.style.background = \"white\";\n\n      populateExam(code, ref);\n    }\n\n    var results = document.createElement('li');\n    results.className = \"options\";\n    results.innerHTML = \"View Results\";\n\n    results.onclick = function() {\n      displayExamData(name);\n      document.getElementById(\"this-exam\").innerHTML = name;\n    }\n\n    var deleteTest = document.createElement('li');\n    deleteTest.className = \"options\";\n    deleteTest.innerHTML = \"Delete Exam\";\n\n    deleteTest.onclick = function() {\n      deleteExam(code);\n    }\n\n    var displayInfo = document.createElement('li');\n    displayInfo.className = \"options\";\n    displayInfo.innerHTML = \"Display Exam Info\";\n\n\n    displayInfo.onclick = function() {\n      document.getElementById('main').style.display = \"none\";\n      document.getElementById('create-exam').style.display = \"none\";\n      document.getElementById('display').style.display = \"block\";\n      document.getElementById('display-code').innerHTML = code;\n      document.body.style.backgroundImage = \"none\";\n\n      var randomStr = Math.random().toString(36).substring(7);\n      setCorrectExamCode(code, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass')+ \"/Exams/\", randomStr);\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + sessionStorage.getItem(randomStr) + \"/taken\").on('value', function(snapshot) {\n        $(\"#joined-students\").html(\"\");\n        snapshot.forEach(function(childSnapshot) {\n          var name = \"\";\n\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Students/\").once('value', function(s) {\n            s.forEach(function(cs) {\n              if(cs.val().split(\";\")[0] == childSnapshot.val()){\n                name = cs.val().split(\";\")[1];\n              }\n            })\n          });\n\n          setTimeout(function(){ createCurrentTakingBox(name); }, 55);\n        });\n      });\n    }\n\n    ul.appendChild(edit); ul.appendChild(document.createElement('hr')); ul.appendChild(results); ul.appendChild(document.createElement('hr')); ul.appendChild(deleteTest); ul.appendChild(document.createElement('hr')); ul.appendChild(displayInfo);\n\n    modal.appendChild(ul);\n\n    document.getElementById('html').appendChild(modal);\n    document.body.style.opacity = \"0\"\n    document.body.style.filter = \"blur(30px)\";\n    document.body.style.overflowY = \"hidden\";\n\n    window.onclick = function(event) {\n      if (event.target != option_vertical && event.target != modal && document.getElementById('modal')) {\n        modal.remove();\n        document.body.style.overflowY = \"auto\";\n        document.body.style.opacity = \"1\"\n        document.body.style.filter = \"blur(0px)\";\n      }\n    }\n\n    $(document).keyup(function(e) {\n       if (e.key === \"Escape\") {\n         modal.remove();\n         document.body.style.overflowY = \"auto\";\n         document.body.style.opacity = \"1\";\n         document.body.style.filter = \"blur(0px)\";\n       }\n    });\n\n    setTimeout(function(){\n      classBox.onclick = function() {\n        displayExamData(name);\n        document.getElementById(\"this-exam\").innerHTML = name;\n      }\n    }, 3000);\n  }\n\n  difBackground.appendChild(span);\n  difBackground.appendChild(option_vertical);\n  difBackground.appendChild(document.createElement('hr'));\n\n  setTimeout(function(){\n    if(isOverflown(difBackground)) {\n      difBackground.childNodes[0].innerHTML = difBackground.childNodes[0].innerHTML.substring(0, 15) + \"...\"\n    }\n  }, 250)\n\n  classBox.appendChild(difBackground);\n\n  if(classAvg == 'NaN') {\n    var descriptor = document.createElement('span');\n    descriptor.innerHTML = \"No Responses!\";\n\n    var button = document.createElement('button');\n    button.style.border = \"none\";\n    button.style.borderRadius = \"5px\";\n    button.style.padding = \"10px\";\n    button.style.marginTop = \"10px\";\n    button.style.boxShadow = \"3px 5px lightgray\"\n    button.innerHTML = \"Display Exam Info\";\n\n    button.onmouseover = function() {\n      this.style.transform = \"translate(2px)\";\n    }\n\n    button.onmouseleave = function() {\n      this.style.transform = \"translate(0px)\";\n      this.style.transition = \"all .5s\";\n    }\n\n    button.onclick = function() {\n      classBox.onclick = function() {};\n\n      document.getElementById('main').style.display = \"none\";\n      document.getElementById('create-exam').style.display = \"none\";\n      document.getElementById('display').style.display = \"block\";\n      document.getElementById('display-code').innerHTML = code;\n      document.body.style.backgroundImage = \"none\";\n\n      var randomStr = Math.random().toString(36).substring(7);\n      setCorrectExamCode(code, \"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass')+ \"/Exams/\", randomStr);\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\" + sessionStorage.getItem(randomStr) + \"/taken\").on('value', function(snapshot) {\n        $(\"#joined-students\").html(\"\");\n        snapshot.forEach(function(childSnapshot) {\n          var name = \"\";\n\n          firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Students/\").once('value', function(s) {\n            s.forEach(function(cs) {\n              if(cs.val().split(\";\")[0] == childSnapshot.val()){\n                name = cs.val().split(\";\")[1];\n              }\n            })\n          });\n\n          setTimeout(function(){ createCurrentTakingBox(name); }, 55);\n        });\n      });\n    }\n\n    classBox.appendChild(descriptor);\n    classBox.appendChild(document.createElement('br'));\n    classBox.appendChild(button);\n  }\n\n  else {\n    var letter = document.createElement('span');\n    letter.innerHTML = getLetter(classAvg);\n    letter.style.color = \"#2e2f7d\";\n    letter.style.fontSize = \"90px\";\n\n    var descriptor = document.createElement('span');\n    descriptor.innerHTML = \"Class Average (\" + classAvg + \")\";\n\n    classBox.appendChild(letter);\n    classBox.appendChild(document.createElement('br'));\n    classBox.appendChild(descriptor);\n  }\n\n  wrapper.appendChild(classBox);\n  document.getElementById('main').appendChild(wrapper);\n}\n\nfunction setCorrectExamCode(code, ref, randomNum) {\n  firebase.database().ref(ref).once('value', function(snapshot) {\n    for(var v in snapshot.val()) {\n      if(v.substring(1) == code) {\n        sessionStorage.setItem(randomNum, v)\n      }\n    }\n  });\n}\n\nfunction isOverflown(element) {\n    return element.scrollHeight > element.clientHeight || element.scrollWidth > element.clientWidth;\n}\n\n// create currentlyTaking box\nfunction createCurrentTakingBox(name) {\n  var currentlyTakingDiv = document.getElementById('joined-students');\n  var gradients = [\n    \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    \"linear-gradient(to top, #a3bded 0%, #6991c7 100%)\",\n    \"linear-gradient(60deg, #29323c 0%, #485563 100%)\",\n    \"linear-gradient(-60deg, #ff5858 0%, #f09819 100%)\",\n    \"linear-gradient(to top, #4481eb 0%, #04befe 100%)\",\n    \"linear-gradient(to right, #0acffe 0%, #495aff 100%)\",\n    \"linear-gradient(-225deg, #A445B2 0%, #D41872 52%, #FF0066 100%)\"\n  ];\n\n  var box = document.createElement('div');\n  box.id = 'currentlyTakingBox';\n  box.style.backgroundImage = gradients[Math.floor(Math.random()*gradients.length)];\n  box.innerHTML = name;\n\n  var center = document.createElement('center');\n  center.appendChild(box);\n\n  currentlyTakingDiv.appendChild(center);\n}\n\n//delete current exam\nfunction deleteExam(code) {\n  if(code == \"\"){\n    var code = document.getElementById('exam-code').innerHTML;\n  }\n  var modifiedCode = \"\";\n\n  swal({\n    title: \"Are you sure?\",\n    text: \"Once deleted, you will not be able to recover this exam or any of its response data!\",\n    icon: \"warning\",\n    buttons: true,\n    dangerMode: true,\n  })\n  .then((willDelete) => {\n    if (willDelete) {\n      var data = false;\n\n      firebase.database().ref(\"Teachers/\" + userName + \"/Classes/\" + sessionStorage.getItem('createExamClass') + \"/Exams/\").once('value').then(function(snapshot) {\n        snapshot.forEach(function(childSnapshot) {\n          if(childSnapshot.key.substring(1) == code) {\n            modifiedCode = childSnapshot.key;\n          }\n        });\n        firebase.database().ref('Teachers/' + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\" + modifiedCode).remove();\n\n        var ref = (firebase.database().ref('Teachers/' + userName + \"/Classes/\" + sessionStorage.getItem('className') + \"/Exams/\"));\n        ref.once('value', function(snapshot) {\n          snapshot.forEach(function(childSnapshot) {\n            data = true;\n          });\n          if(!data) {\n            ref.push(\"no_exams\");\n          }\n        });\n      });\n\n      firebase.database().ref('exam-codes').on('value', function(snapshot) {\n        snapshot.forEach(function(childSnapshot) {\n          if(childSnapshot.val().split(\";\")[0] == code){\n            firebase.database().ref('exam-codes').child(childSnapshot.key).remove();\n          }\n        });\n      });\n\n      resetInitExam();\n      document.getElementById('create-exam').style.display = \"\";\n      document.getElementById('main').style.display = \"initial\";\n      document.body.style.background = \"white\";\n\n      setTimeout(function(){\n        $(\"#exam-wrapper\").empty();\n        $(\"#exam\").empty();\n\n        loadClass(sessionStorage.getItem(\"className\"));\n\n        if(sessionStorage.getItem(\"CreatedExamCode\").toUpperCase() == code) {\n          sessionStorage.setItem(\"CreatedExamCode\", \"\");\n          document.getElementById('cached-exam-button').remove();\n        }\n\n        swal(\"Poof! Your exam has been deleted!\", {\n          icon: \"success\",\n        });\n    }, 100);\n\n    }\n  });\n}\n\n//function to reset all data boxes in initexam data div\nfunction resetInitExam() {\n  document.getElementById('nameOfExam').value = \"\";\n  document.getElementById('description').value = \"\";\n  document.getElementsByClassName('time')[0].value = \"\";\n  document.getElementById('maxScore').value = \"\";\n  document.getElementById('date').value = \"\";\n}\n\n//function to restructure if question is deleted in the middle\nfunction restructureQuestions() {\n  var questions = document.getElementsByClassName('question');\n\n  for(var i = 0; i < questions.length; i++) {\n    var question = questions[i];\n\n    question.childNodes[0].innerHTML = i + 1 + \". \"\n    question.id = i + 1;\n  }\n}\n\n// function to restructure matching boxes\nfunction restructureBoxes() {\n  var boxes = document.getElementsByClassName('matchingbox');\n\n  for(var i = 0; i < boxes.length; i++) {\n    var box = questions[i];\n\n    box.childNodes[1].innerHTML = i + 1 + \". \"\n  }\n}\n\n//function to dynamically change type of question\nfunction changeQuestionType(val, i, prevVal) {\n  var plus = i + 1;\n  var plusDiv = document.getElementById(plus);\n\n  if(val != prevVal) {\n    for(var j = 0; j < plusDiv.childNodes.length; j++) {\n      if(plusDiv.childNodes[j].className == prevVal) {\n        plusDiv.childNodes[j].style.display = \"none\";\n      }\n    }\n\n    if(val == \"mc\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"initial\";\n    }\n\n    else if(val == \"fr\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n      document.getElementById(plus).appendChild(createFreeResponse());\n    }\n    else if(val == \"tf\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n      document.getElementById(plus).appendChild(createTrueFalse());\n    }\n    else if(val == \"matching\") {\n      document.getElementsByClassName(\"mc\")[i].style.display = \"none\";\n      document.getElementById(plus).appendChild(createMatching());\n    }\n  }\n}\n\n// search LB\nfunction searchLeaderboard() {\n  var input, filter, ul, tr, a, i, txtValue;\n\n  input = document.getElementById(\"lb-search\");\n  tr = document.getElementById('leaderboard').getElementsByClassName(\"name\");\n\n  for (i = 0; i < tr.length; i++) {\n    if(tr[i].innerHTML == input.value) {\n      tr[i].style.border = \"1px solid black\";\n      tr[i].scrollIntoView({behavior: \"smooth\"});\n    }\n  }\n}\n\n// True | False\nfunction createTrueFalse() {\n  var label = document.createElement('label');\n  label.id = \"label\";\n  label.className = \"tf\";\n\n  var true_input = document.createElement('input');\n  true_input.style.outline = \"none\";\n  true_input.type = \"radio\";\n  true_input.className = \"option-input radio\";\n  true_input.name = \"tf\";\n\n  var false_input = document.createElement('input');\n  false_input.style.outline = \"none\";\n  false_input.type = \"radio\";\n  false_input.className = \"option-input radio\";\n  false_input.name = \"tf\";\n  false_input.style.marginLeft = \"10%\";\n\n  var true_span = document.createElement('span');\n  true_span.innerHTML = \" True\";\n  true_span.style.marginLeft = \"10px\";\n  true_span.style.color = \"gray\"\n  true_span.style.fontWeight = 'normal';\n\n  var false_span = document.createElement('span');\n  false_span.innerHTML = \" False\";\n  false_span.style.marginLeft = \"10px\";\n  false_span.style.color = \"gray\"\n  false_span.style.fontWeight = 'normal';\n\n  label.appendChild(true_input);\n  label.appendChild(true_span)\n\n  label.appendChild(false_input);\n  label.appendChild(false_span)\n\n  return label;\n}\n\n// function for Free-Response\nfunction createFreeResponse() {\n  var ta = document.createElement('textarea');\n  ta.readOnly = true;\n  ta.className = \"fr\";\n  ta.placeholder = \"NOTE: This question type requires manual grading\";\n\n  return ta;\n}\n\n\n// function to create matching boxes\nfunction createMatching(){\n  var matchingWrapper = document.createElement('div');\n  matchingWrapper.className = \"matching-wrapper\";\n\n  var matching = document.createElement('div');\n  matching.className = 'matching';\n\n  var hr = document.createElement('hr');\n  hr.style.width = '67%';\n\n  var questions = document.createElement('span');\n  questions.innerHTML = 'Questions';\n  questions.style.marginLeft = \"1.5vw\";\n\n  var results = document.createElement('span');\n  results.innerHTML = 'Results (Will Be Randomized)'\n  results.style.marginLeft = \"22.5vw\";\n\n  var numElements = document.createElement('input');\n  numElements.type = 'textbox';\n  numElements.placeholder = '# Of Elements...';\n  numElements.style.borderRadius = \"5px\";\n  numElements.style.padding = \"5px\";\n  numElements.style.border= \"1px solid black\";\n  numElements.style.fontSize = \"15px\";\n\n  numElements.onkeyup = function() {\n    $(matchingWrapper).empty();\n\n    if(this.value <= 20) {\n      for(var i = 0; i < this.value; i++) {\n        createMatchingElement(matchingWrapper, i + 1);\n      }\n    }\n    else {\n      this.value = \"\";\n\n      var alert = document.createElement('div');\n      alert.innerHTML = \"20 Elements Max!\"\n      alert.style.textAlign = \"center\";\n      alert.style.width = \"100%\";\n      alert.style.position = \"fixed\";\n      alert.style.zIndex = \"100000\";\n      alert.style.top = \"0\";\n      alert.className = \"alert alert-danger\";\n      alert.role = \"alert\";\n\n      document.getElementById('create-exam').appendChild(document.createElement('center').appendChild(alert));\n\n      setTimeout(function(){ document.getElementsByClassName('alert')[0].remove(); }, 2500);\n    }\n  }\n\n  var newBox = document.createElement('button');\n  newBox.id = \"newBox\";\n  newBox.innerHTML = \"New Element!\";\n\n  newBox.onclick = function() {\n    createMatchingElement(matchingWrapper, document.getElementsByClassName('matchingbox').length + 1);\n    saveExam(false);\n  }\n\n  matching.appendChild(numElements);\n  matching.appendChild(hr);\n  matching.appendChild(questions); matching.appendChild(results);\n  matching.appendChild(matchingWrapper);\n\n  matching.appendChild(document.createElement('br'));\n  matching.appendChild(newBox);\n\n  return matching;\n}\n\n// function to create matching Elements\nfunction createMatchingElement(div, i) {\n  var box = document.createElement('div');\n  box.className = 'matchingbox';\n\n  var labelTrash = document.createElement('span');\n  labelTrash.className = \"glyphicon glyphicon-minus\";\n  labelTrash.style.display = \"none\";\n  labelTrash.style.marginRight = \"5px\";\n  labelTrash.style.color = \"#f25555\";\n\n  $(labelTrash).click(function(){\n    this.parentNode.remove();\n    saveExam(false);\n    restructureBoxes();\n  });\n\n  $(box).hover(function(){\n    this.childNodes[0].style.display = \"initial\";\n  }, function(){\n    this.childNodes[0].style.display = \"none\";\n  });\n\n  $(labelTrash).hover(function(){\n    this.style.cursor=\"pointer\";\n    this.style.color = \"#f25555\";\n  }, function(){\n\n  });\n\n  box.appendChild(labelTrash)\n\n  var num = document.createElement('span');\n  num.innerHTML = i + \".\";\n  num.style.marginRight = \"10px\";\n  num.style.fontSize = \"15px\";\n\n  box.appendChild(num);\n\n  var input = document.createElement('input');\n  input.type = 'textbox';\n  input.style.marginTop = \"20px\";\n  input.style.textAlign = \"center\";\n  input.placeholder = \"1 + 1\";\n  input.id = 'result';\n\n  var arrow = document.createElement('span');\n  arrow.className = 'glyphicon glyphicon-arrow-right';\n  arrow.style.paddingLeft = '5vw';\n\n  var result_input = document.createElement('input');\n  result_input.type = 'textbox';\n  result_input.style.marginLeft = \"5vw\";\n  result_input.style.textAlign = \"center\";\n  result_input.placeholder = \"2\";\n  result_input.id = 'result';\n\n  box.appendChild(input);\n  box.appendChild(arrow);\n  box.appendChild(result_input);\n  div.appendChild(box);\n}\n\nfunction restructureManager() {\n  $('#question-manager').empty();\n\n  for(var i = 0; i < document.getElementsByClassName('question').length; i++) {\n    createQuestionTracker(i + 1, false);\n  }\n}\n\n// function to create HTML question\nfunction createQuestion(loading, numAnswerChoices) {\n  var exam = document.getElementById('exam');\n\n  var question = document.createElement('div');\n  question.className = \"question\";\n  question.id = document.getElementsByClassName('question').length + 1;\n\n  var num = document.createElement('span');\n  num.innerHTML = document.getElementsByClassName('question').length + 1 + \". \";\n  num.style.color = \"#97a5aa\";\n\n  var hr = document.createElement('hr');\n  var br = document.createElement('br');\n\n  var trash = document.createElement('span');\n  trash.className = \"glyphicon glyphicon-trash\";\n  trash.style.display = \"none\";\n  trash.style.marginRight = \"5px\";\n  trash.style.color = \"lightgray\";\n\n  $(trash).click(function(){\n    question.remove(); hr.remove(); br.remove();\n    restructureManager(); restructureQuestions(); saveExam();\n  });\n\n  $(trash).hover(function(){\n    trash.style.cursor=\"pointer\";\n    trash.style.color = \"black\";\n  }, function(){\n    trash.style.color = \"lightgray\";\n  });\n\n  var moveDiv = document.createElement('span');\n  moveDiv.id = \"moveDiv\"\n  moveDiv.className = \"glyphicon glyphicon-refresh\";\n  moveDiv.style.display = \"none\";\n  moveDiv.style.marginRight = \"5px\";\n\n  $(moveDiv).click(function(){\n    if(!swapDiv(this.parentNode, prompt(\"Which Question (#) Would You Like To Swap With?\"))){\n      swal(\"Failed!\", \"The Number You Provided Does Not Exist\", \"error\");\n    }\n    else {\n      saveExam(false);\n    }\n  });\n\n  var viewImage = document.createElement(\"a\");\n  viewImage.innerHTML = \"View Image\";\n  viewImage.style.marginLeft = \"10px\";\n  viewImage.style.display = \"none\";\n\n  var imgUpload = document.createElement('span');\n  imgUpload.className = \"glyphicon glyphicon-picture\";\n  imgUpload.style.display = \"none\";\n  imgUpload.style.marginRight = \"7px\";\n  imgUpload.style.color = \"lightgray\";\n\n  imgUpload.onclick =  function() {\n    uploadImage(num.innerHTML.substring(0, num.innerHTML.indexOf(\".\")), viewImage);\n  };\n\n  $(imgUpload).hover(function(){\n    imgUpload.style.cursor=\"pointer\";\n    imgUpload.style.color = \"black\";\n  }, function(){\n    imgUpload.style.color = \"lightgray\";\n  });\n\n  $(question).hover(function(){\n    num.style.display = \"none\";\n    trash.style.display = \"initial\";\n    moveDiv.style.display = \"initial\";\n    imgUpload.style.display = \"initial\";\n    num.style.cursor = \"pointer\";\n  }, function(){\n    num.style.display = \"initial\";\n    trash.style.display = \"none\";\n    imgUpload.style.display = \"none\";\n    moveDiv.style.display = \"none\";\n  });\n\n\n  var question_title = document.createElement('input');\n  question_title.type = \"text\";\n  question_title.placeholder = \"Ex: What's Your Name?\";\n  question_title.id = \"question-title\";\n\n  var question_type = document.createElement('select');\n    var mc = document.createElement('option'); mc.value = \"mc\"; mc.innerHTML = \"Multiple Choice\";\n    var fr = document.createElement('option'); fr.value = \"fr\"; fr.innerHTML = \"Free Response\";\n    var tf = document.createElement('option'); tf.value = \"tf\"; tf.innerHTML = \"True | False\";\n    // var matching = document.createElement('option'); matching.value = \"matching\"; matching.innerHTML = \"Matching\"\n\n  question_type.appendChild(mc); question_type.appendChild(fr); question_type.appendChild(tf); //question_type.appendChild(matching);\n  question_type.id = \"question-type\";\n\n  var previous;\n\n  $(question_type).on('focusin', function(){\n    previous = $(this).val();\n  });\n\n  question_type.onchange = function() {\n    changeQuestionType(this.children[this.selectedIndex].value, question.id - 1, previous);\n    question_type.blur();\n  }\n\n  question.appendChild(num);\n  question.appendChild(imgUpload);\n  question.appendChild(moveDiv);\n  question.appendChild(trash);\n  question.appendChild(question_title);\n  question.appendChild(question_type);\n\n  var points = document.createElement('div');\n  var span = document.createElement('span');\n  span.innerHTML = \"( \";\n\n  var numPoints = document.createElement('input');\n  numPoints.type = \"text\";\n  numPoints.id = \"numPoints\";\n  numPoints.className = \"numPoints\";\n  numPoints.placeholder = \"Ex: 4\";\n\n  var finishingSpan =  document.createElement('span');\n  finishingSpan.innerHTML = \" points)\";\n\n  var checkBox = document.createElement('input');\n  checkBox.className = \"checkBox\";\n  checkBox.type = \"checkbox\";\n  checkBox.style.transform = \"scale(1.2)\";\n  checkBox.style.marginLeft = \"20px\";\n\n  var label = document.createElement('span');\n  label.innerHTML = \"Multiple Correct Answers\";\n  label.style.marginLeft = \"5px\";\n  label.style.fontSize = \"15px\";\n\n  points.appendChild(span); points.appendChild(numPoints); points.appendChild(finishingSpan);\n  points.appendChild(checkBox); points.appendChild(label);\n  points.appendChild(viewImage);\n\n  question.appendChild(points);\n\n  var answer_choices = document.createElement('div');\n  answer_choices.className = \"mc\";\n\n  for(var i = 0; i < numAnswerChoices; i++) {\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.className = \"option-input radio\";\n    input.name = num.innerHTML;\n\n    var answer_choice = document.createElement('input');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n    answer_choice.type=\"text\";\n    answer_choice.placeholder = \" Answer Choice...\";\n\n    var labelTrash = document.createElement('span');\n    labelTrash.className = \"glyphicon glyphicon-minus\";\n    labelTrash.style.display = \"none\";\n    labelTrash.style.marginRight = \"5px\";\n    labelTrash.style.color = \"#f25555\";\n\n    $(labelTrash).click(function(){\n        this.parentNode.remove();\n        saveExam();\n    });\n    $(label).hover(function(){\n      this.childNodes[0].style.display = \"initial\";\n    }, function(){\n      this.childNodes[0].style.display = \"none\";\n    });\n\n    $(labelTrash).hover(function(){\n      this.style.cursor=\"pointer\";\n      this.style.color = \"#f25555\";\n    }, function(){});\n\n    label.onmouseup = function() {\n      if(this.childNodes[0].checked) {\n        var button = this.childNodes[0];\n        setTimeout(function(){ button.checked = false; }, 150);\n      }\n    }\n\n    label.appendChild(labelTrash)\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n    answer_choices.appendChild(label);\n  }\n\n  var plus = document.createElement('span');\n  plus.className = \"glyphicon glyphicon-plus\";\n\n  var createNewAnswerChoice = document.createElement('a');\n  createNewAnswerChoice.id = \"createNewAnswerChoice\";\n  createNewAnswerChoice.clasName = \"newChoice\";\n  createNewAnswerChoice.href = \"javascript:createNewOptionChoice(\" +  num.innerHTML + \")\";\n  createNewAnswerChoice.appendChild(plus);\n  createNewAnswerChoice.innerHTML += ' New Answer Choice'\n\n  answer_choices.appendChild(createNewAnswerChoice);\n\n  question.appendChild(answer_choices);\n\n  exam.appendChild(question);\n\n  exam.appendChild(br);\n  exam.appendChild(hr);\n\n\n  if(!loading) {\n    window.scroll({ top: question.getBoundingClientRect().top + window.scrollY, behavior: 'smooth' });\n    createQuestionTracker(document.getElementsByClassName('question').length, false);\n    saveExam(false);\n  }\n}\n\n// upload images\nfunction uploadImage(num, imgLink) {\n  var alertDiv = document.createElement('div');\n  alertDiv.id = \"alertDiv\";\n\n  var header = document.createElement('h1');\n  header.style.textDecoration = \"underline dodgerblue\";\n  header.style.color = \"#1ece76\"\n  header.innerHTML = \"Upload Image To Question \" + num;\n  alertDiv.appendChild(header);\n\n  var imgInput = document.createElement('input');\n  imgInput.type = \"file\";\n  imgInput.style.border = \"1px solid dodgerblue\";\n  imgInput.style.padding = \"10px\";\n  imgInput.style.fontSize = \"10px\"\n  imgInput.style.borderRadius = \"5px\";\n\n  var center = document.createElement('center');\n  center.appendChild(imgInput)\n\n  alertDiv.appendChild(document.createElement('br'));\n  alertDiv.appendChild(center);\n  alertDiv.appendChild(document.createElement('hr'));\n\n  var imgOut = document.createElement('img');\n  imgOut.id = \"imgOut\"\n  alertDiv.appendChild(imgOut);\n\n  var shortDescription = document.createElement('input');\n  shortDescription.style.margin = \"20px\";\n  shortDescription.style.borderRadius = \"5px\";\n  shortDescription.style.border = \"1px solid black\";\n  shortDescription.placeholder = \"Short description...\"\n  shortDescription.style.width = \"90%\";\n  shortDescription.style.height = \"30px\";\n  shortDescription.style.padding = \"5px\";\n  shortDescription.style.fontSize = \"15px\";\n  alertDiv.appendChild(shortDescription)\n\n  var cancel = document.createElement('button');\n  cancel.id = \"imgUploadCancel\";\n  cancel.innerHTML = \"Cancel\";\n\n  cancel.onclick = function() {\n    document.body.style.opacity = \"1\"\n    document.body.style.filter = \"blur(0px)\";\n    document.body.style.overflowX = \"auto\";\n    document.body.style.overflowY = \"auto\";\n\n    alertDiv.remove()\n  }\n\n  var upload = document.createElement('button');\n  upload.id = \"imgUploadAccept\";\n  upload.innerHTML = \"Upload!\";\n\n  upload.onclick = function() {\n    if(imgOut.src != \"\") {\n      imgLink.style.display = \"initial\"\n      imgLink.onclick = function() {\n        swal({\n          icon: imgOut.src,\n          text: shortDescription.value,\n          className: \"imgView\"\n        });\n      }\n      imgLink.className = imgOut.src;\n\n      document.body.style.opacity = \"1\"\n      document.body.style.filter = \"blur(0px)\";\n      document.body.style.overflowX = \"auto\";\n      document.body.style.overflowY = \"auto\";\n\n      alertDiv.remove();\n      saveExam(shortDescription.value);\n    }\n  }\n\n  imgInput.onchange = function (evt) {\n    var tgt = evt.target || window.event.srcElement,\n        files = tgt.files;\n\n    // FileReader support\n    if (FileReader && files && files.length) {\n        var fr = new FileReader();\n        fr.onload = function () {\n            imgOut.src = fr.result;\n            imgOut.style.border = \"1px solid black\";\n            cancel.style.marginBottom = \"20px\";\n            upload.style.marginBottom = \"20px\";\n        }\n        fr.readAsDataURL(files[0]);\n    }\n  }\n\n  alertDiv.appendChild(upload);\n  alertDiv.appendChild(cancel);\n\n  document.getElementById('html').appendChild(alertDiv);\n\n  document.body.style.opacity = \"0.1\"\n  document.body.style.filter = \"blur(5px)\";\n  document.body.style.overflowX = \"hidden\";\n  document.body.style.overflowY = \"hidden\";\n}\n\n//function to swap divs\nfunction swapDiv(elem, numToSwap){\n  if(document.getElementById(numToSwap) == undefined) {\n    return false;\n  }\n  else {\n    var div1 = jQuery(elem);\n  \tvar div2 = jQuery(document.getElementById(numToSwap));\n\n  \tvar tdiv1 = div1.clone();\n  \tvar tdiv2 = div2.clone();\n\n\t\tdiv1.replaceWith(tdiv2);\n\t\tdiv2.replaceWith(tdiv1);\n\n    restructureQuestions();\n    return true;\n  }\n}\n\n// append new answer choice to question based on num\nfunction createNewOptionChoice(num) {\n  var val = document.getElementById(num).childNodes[7];\n\n  if(val.childNodes.length <= 8) {\n    val.childNodes[val.childNodes.length - 1].remove();\n\n    var label = document.createElement('label');\n    label.id = \"label\";\n\n    var input = document.createElement('input');\n    input.style.outline = \"none\";\n    input.type = \"radio\";\n    input.className = \"option-input radio\";\n    input.name = \"radio\";\n\n    var answer_choice = document.createElement('input');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n    answer_choice.type=\"text\";\n    answer_choice.placeholder = \" Answer Choice...\";\n\n    var answer_choice = document.createElement('input');\n    answer_choice.className = \"option\";\n    answer_choice.id = \"question-choice\";\n    answer_choice.type=\"text\";\n    answer_choice.placeholder = \" Answer Choice...\";\n\n    var labelTrash = document.createElement('span');\n    labelTrash.className = \"glyphicon glyphicon-minus\";\n    labelTrash.style.display = \"none\";\n    labelTrash.style.marginRight = \"5px\";\n    labelTrash.style.color = \"#f25555\";\n\n    $(labelTrash).click(function(){\n        this.parentNode.remove();\n        saveExam();\n    });\n\n    $(label).hover(function(){\n      this.childNodes[0].style.display = \"initial\";\n    }, function(){\n      this.childNodes[0].style.display = \"none\";\n    });\n\n    $(labelTrash).hover(function(){\n      this.style.cursor=\"pointer\";\n      this.style.color = \"#f25555\";\n    }, function(){\n\n    });\n\n    label.appendChild(labelTrash);\n    label.appendChild(input);\n    label.appendChild(answer_choice);\n    val.appendChild(label);\n\n    var plus = document.createElement('span');\n    plus.className = \"glyphicon glyphicon-plus\";\n\n    var createNewAnswerChoice = document.createElement('a');\n    createNewAnswerChoice.id = \"createNewAnswerChoice\";\n    createNewAnswerChoice.href = \"javascript:createNewOptionChoice(\" +  num + \")\";\n    createNewAnswerChoice.clasName = \"newChoice\";\n    createNewAnswerChoice.appendChild(plus);\n    createNewAnswerChoice.innerHTML += ' New Answer Choice';\n\n    val.appendChild(createNewAnswerChoice);\n    saveExam(false);\n  }\n  else {\n    swal(\"Maximum\", \"Sorry, you can only add 8 option choices\", \"error\");\n  }\n}\n\n// return letter grade based on avg\nfunction getLetter(avg) {\n  if(avg >= 90.0) {\n    return \"A\";\n  }\n  else if(avg < 90.0 && avg >= 80.0) {\n    return \"B\";\n  }\n  else if(avg < 80.0 && avg >= 70.0) {\n    return \"C\";\n  }\n  else if(avg < 70.0 && avg >= 60.0) {\n    return \"D\";\n  }\n  else {\n    return \"F\";\n  }\n\n}\n\n// create div box for every class\nfunction createClassBox(className, numStudentsInClass, numExamsInClass) {\n  var wrapper = document.getElementById('wrapper');\n\n  var classBox = document.createElement('div');\n  classBox.onclick = function() {\n    sessionStorage.setItem('className', className);\n    loadClass(className, numExamsInClass);\n  };\n\n  classBox.className = \"classBox\";\n\n  var span = document.createElement('span');\n  span.innerHTML = className;\n  span.className = 'className';\n\n  classBox.appendChild(span);\n  classBox.appendChild(document.createElement('hr'));\n\n  var numStudents = document.createElement('p');\n\n  var lowKey = document.createElement('h6');\n  lowKey.innerHTML = \"Students\";\n  lowKey.id=\"lowKey\";\n\n  numStudents.innerHTML = numStudentsInClass;\n  numStudents.appendChild(lowKey);\n\n  numStudents.id = \"numStudents\";\n  classBox.appendChild(numStudents);\n\n  var hrInBetween = document.createElement('hr');\n  hrInBetween.id = \"hrInBetween\";\n  classBox.appendChild(hrInBetween);\n\n  var numExams = document.createElement('p');\n\n  lowKey = document.createElement('h6');\n  lowKey.innerHTML = \"Exams\";\n  lowKey.id = \"lowKey\";\n  numExams.innerHTML = numExamsInClass;\n  numExams.appendChild(lowKey);\n\n  numExams.id=\"numExams\";\n  classBox.appendChild(numExams);\n\n  wrapper.appendChild(classBox);\n  document.getElementById('main').appendChild(wrapper);\n}\n\n//populate main dashboard of page when page loads\nfunction populateDashboard() {\n  if(!userDataHasLoaded) {\n    var ref = firebase.database().ref('Teachers');\n    var counter = 0;\n    var exists = false;\n\n    ref.once('value', function(snapshot) {\n      snapshot.forEach(function(childSnapshot) {\n        if(childSnapshot.key == userName) {\n          exists = true;\n          arr.push(childSnapshot.child(\"Classes\").val());\n\n          for (var key in arr) {\n            var x = 0;\n            // skip loop if the property is from prototype\n            if (!arr.hasOwnProperty(key)) continue;\n            var obj = arr[key];\n            for (var prop in obj) {\n              // skip loop if the property is from prototype\n              if(!obj.hasOwnProperty(prop)) continue;\n\n              if(obj[prop].Exams[Object.keys(obj[prop].Exams)[0]] == \"no_exams\") {\n                createClassBox(prop, Object.keys(obj[prop].Students).length, 0);\n              }\n              else {\n                createClassBox(prop, Object.keys(obj[prop].Students).length, Object.keys(obj[prop].Exams).length);\n              }\n            }\n          }\n        }\n      });\n      if(!exists) {\n        document.getElementById('doesNotExist').style.display = \"initial\";\n      }\n\n      sessionStorage.setItem('exists', exists);\n    });\n  }\n\n  userDataHasLoaded = true;\n}\n"]}