<!DOCTYPE html>

<html>
  <head>
    <!-- NFOGIX -->
    <script type="text/javascript">
      // var _paq = window._paq || [];
      // _paq.push(['trackPageView']);
      // _paq.push(['enableLinkTracking']);
      // (function() {
      //   var u="//nfogix.com/";
      //   _paq.push(['setTrackerUrl', u+'api/track']);
      //   _paq.push(['setSiteId', 'ba809182-d46d-4be2-8eaa-9d9fec7707d1']);
      //   var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
      //   g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'js/nfogix.min.js'; s.parentNode.insertBefore(g,s);
      // })();
    </script>

    <!-- Misc -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Drip &#124; A secure, cheat-free testing solution for the web</title>
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon" />
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <!-- StyleSheets -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Nunito&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="assets/css/teacher.css">

    <!-- Google Sign-In -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id" content="941839358228-410f7ai6fkiqqob91o0uv5p07djgu2m6.apps.googleusercontent.com">

    <!-- Plot.ly JS -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

  </head>

  <!-- Main Body -->
  <body>
    <!-- NavBar -->
    <nav id="navigation" class="navbar navbar-default">
      <div class="container-fluid">
          <ul id="tabs" class="nav nav-tabs">
            <a class="navbar-brand" href="teacher.html">
              <span id="logo" alt="Logo" class="glyphicon glyphicon-tint"></span>
            </a>

            <li id="navButton" style="position: relative; top: 5px; left: 15px;" class="active" role="presentation" onclick="removeAllActive(); this.className='active'; display(this.innerHTML)"><a href="#">Dashboard</a></li>
            <li id="navButton" style="position: relative; top: 5px; left: 15px;" role="presentation" onclick="removeAllActive(); this.className='active'; display(this.innerHTML)"><a href="#">Ping-Pong</a></li>
            <li id="navButton" style="position: relative; top: 5px; left: 15px;" role="presentation" onclick="removeAllActive(); this.className='active'; display(this.innerHTML)"><a href="#">Leaderboard</a></li>
            <li id="navButton" style="position: relative; top: 5px; left: 15px;" role="presentation" onclick="removeAllActive(); this.className='active'; display(this.innerHTML)"><a href="#">Feedback</a></li>

            <!-- DropDown incase screen size goes below 450px -->
            <li id="dropdown" class="dropdown">
              <a class="dropdown-toggle" id="nav-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span style="font-size: 25px" class="glyphicon glyphicon-align-justify"></span> <span class="caret"></span></a>
              <ul id="nav-menu" class="dropdown-menu">
                <li role="presentation" onclick="display(this.innerHTML)"><a href="#">Dashboard</a></li>
                <li role="presentation" onclick="display(this.innerHTML)"><a href="#">Ping-Pong</a></li>
                <li role="presentation" onclick="display(this.innerHTML)"><a href="#">Leaderboard</a></li>
                <li role="presentation" onclick="display(this.innerHTML)"><a href="#">Feedback</a></li>
              </ul>
            </li>
            <img class="hoverable" id="profile"></img>
            <div id="bounce">
              <p style="float: left;">Sign-Out</p>
              &nbsp
              <i class="glyphicon glyphicon-arrow-right"></i>
            </div>
          </ul>
        </div>
    </nav>
    <div id="main">
      <div id="welcome-div">
        <h1 id="welcome-text"></h1>
        <p id="welcome-text-p">All of your classes have been preloaded below. Just click on one to start exploring!</p>
      </div>

      <center><div id="doesNotExist" style="display: none">
        <p style="font-size: 100px;">&#129300;</p>
        <h1>Hmmm, Looks Like You Aren't In Our Database...</h1>
      </div></center>

      <!-- Wrapper for all css grid class boxes -->
      <div id="wrapper">
      </div>

      <div style="display: none" id="classSpecific">
        <div id="jumbotron" class="jumbotron">
          <div style="float: left">

            <!-- <a href="javascript:location.reload(); localStorage.setItem('className', '')"><i class="glyphicon glyphicon-arrow-left"></i> &nbsp Go Back To Classes</a> -->
            <ol class="breadcrumb" style="background: white;">
              <li><a href="javascript:goHomeFromExams();">Classes</a></li>
              <li class="active">Exams</li>
            </ol>

            <h1 id="main-header"></h1>
            <br/>
            <a class="btn btn-primary btn-lg" href="#" role="button" onclick="createQuiz();">
              <i style="padding-right: 2px" class="glyphicon glyphicon-plus"></i>
              Create Exam
            </a>

            &nbsp

            <a style="display: none" id="cached-code" class="btn btn-primary btn-lg" href="#" role="button">
              <i style="padding-right: 2px" class="glyphicon glyphicon-edit"></i>
              <span id="cached-exam-code"></span>
            </a>
          </div>

          <div id="class-specific-data">
            <span id="avg-grade-number"></span>
            <center><h6 style="font-size: 35px; color: #d6dbd6">Overall Class Average</h6></center>
        </div>
      </div>

      <br/>
      <h1 style="margin-left: 25px;margin-right: 25px;"><hr style="float: left; width: 5vw;"/>&nbsp Previous Exams &nbsp <hr id="right-hr" /></h1>
      <br/>

      <div class="form-group">
        <center><input id="exam-search" style="width: 80vw" type="text" placeholder='Search Through Exams...' onkeyup="searchExams()" class="form-control" id="usr" name="username"></input></center>
        <br/>
      </div>

      <div id="exam-wrapper"></div>
      </div>

      <div id="no-exams" style="display: none">
        <center style="padding-bottom: 30%"><p style="font-size: 100px;">&#129300;</p>
        <h1>Hmmm, Looks Like You Have No Exams... Create One Above!</h1></center>
      </div>

      <div id="examSpecific" style="display: none;">
        <div id="jumbotron" class="jumbotron">
          <div style="float: left">
            <!-- <a href="javascript:location.reload(); "><i class="glyphicon glyphicon-arrow-left"></i> &nbsp Go Back To Classes</a> -->

            <ol class="breadcrumb" style="background: white;">
              <li><a href="javascript:goHomeFromExamData();">Classes</a></li>
              <li><a href="javascript:goExamsFromExam();">Exams</a></li>
              <li class="active"><span id="this-exam"></span></li>
            </ol>

            <h1 id="exam-name"></h1>
            <br/>
          </div>

          <div id="overall-data">
          </div>
        </div>

        <button id="edit-current-exam" style="display:none; margin-left: 30px" type="button" class="btn btn-success">
          <i style="padding-right: 2px" class="glyphicon glyphicon-edit"></i>
          Edit <span id="edit-exam"></span>
        </button>

        <div id="sort-menu" style="display: none" class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" id="sort-trigger" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            <i style="font-size: 17px;" class="glyphicon glyphicon-align-justify"></i>
            &nbsp
            <span class="caret"></span>
          </button>
          <ul id="sort-menu" class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort-by-alphabet"></i>&nbsp Sort By Alphabet (A-Z)</a></li>
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort-by-alphabet-alt"></i>&nbsp Sort By Alphabet (Z-A)</a></li>
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort-by-attributes-alt"></i>&nbsp Sort By Score (high-low)</a></li>
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort-by-attributes"></i>&nbsp Sort By Score (low-high)</a></li>
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort-by-attributes-alt"></i>&nbsp Sort By Time (high-low)</a></li>
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort-by-attributes"></i>&nbsp Sort By Time (low-high)</a></li>
            <li><a onclick="sort(this.innerHTML.split(';')[1])"><i class="glyphicon glyphicon-sort"></i>&nbsp Original</a></li>
          </ul>
        </div>
        <br/>
        <br/>
      </div>

      <div id="student-exam-data" style="display: none;">
        <a style="margin: 35px; position: relative; top: 15px" href="javascript:location.reload()"> <span class="glyphicon glyphicon-hand-left"></span> &nbsp Go Back Home</a>
        <center>
          <h1 id="score"></h1>
          <span style="font-size: 20px;" id="score-num"></span>
          <hr></hr>

          <div id="question-data"></div>
        </center>
      </div>

      <!-- The core Firebase JS SDK is always required and must be listed first -->
      <script src="https://www.gstatic.com/firebasejs/6.0.4/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>
      <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
          apiKey: "AIzaSyAX6wiL4sngrJ05Zc9ku_b8Hs0MtOGXiPc",
          authDomain: "drip-af470.firebaseapp.com",
          databaseURL: "https://drip-af470.firebaseio.com",
          projectId: "drip-af470",
          storageBucket: "drip-af470.appspot.com",
          messagingSenderId: "493959564556",
          appId: "1:493959564556:web:71ea299e6c68681a"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
      </script>
      <script src="assets/js/teacher.js"></script>
    </div>

    <!-- CREATE EXAM -->
    <div id="create-exam" style="display:none">
        <div id="init-setup">
          <div style="float: right;">Date Of Exam: <input type="date" id="date" name="trip-start"></div>

          <a style="margin-left: 35px; color: red;" href="#" onclick="deleteExam()">Delete This Exam</a>
          <p style="margin-left: 35px;">Your Exam Code Is: <span id="exam-code"></span></p>

          <br/>
          <center><input type="text" id="nameOfExam" placeholder="Exam Title">
            <br/>
            (<input class="points" type="text" id="maxScore" placeholder="Ex: 25" readonly> points, <input type="text" class="time" id="maxScore" placeholder="Ex: 42"> minutes)
            <br/>
            <textarea id="description" placeholder="Optional Description..."></textarea>
          </center>
        </div>
        <hr/>

        <div id="exam">
          <div id="question-manager"></div>
        </div>

        <br/><br/>
          <center><p><a id="create-question-button" class="btn btn-primary btn-lg" href="javascript:void(0)" role="button" onclick="createQuestion(false, 4);">
            <i style="padding-right: 2px" class="glyphicon glyphicon-plus"></i>
            Create Question
          </a></p></center>

          <div id="save-div">  <button id="save-button" onclick="saveExam(true);"> <span id="save-icon" class="glyphicon glyphicon-floppy-disk"></span>&nbspSave</button>  <span id="last-saved">Last Sync: Not Saved</span></div>
    </div>

    <div id="display" style="display: none">
      <center><h1 style="font-size: 10vw;"><span id="display-code"></span></h1></center>
      <hr/>

      <div id="joined-students">
      </div>
    </div>

    <div id="feedback" style="display: none">
      <embed id="feedback-form" src="about:blank"></embed>
    </div>

    <div style="display: none; background: purple;" id="pong">
      <canvas style="position: relative; bottom: 20px;" id="pong-canvas"></canvas>
      <script src="assets/js/pong.js"></script>
    </div>

    <div style="display: none;" id="leaderboard">
      <center><h1>Leaderboard</h1></center>
      <br/>
      <center><table id="table" class="table table-bordered">
        <tr>
          <th>Place</th>
          <th>Name</th>
          <th>Score</th>
          <th>Status</th>
        </tr>
      </table></center>
    </div>

  </body>

</html>
